(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Fe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var ou={exports:{}},vi={},lu={exports:{}},M={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yn=Symbol.for("react.element"),Kh=Symbol.for("react.portal"),Gh=Symbol.for("react.fragment"),Qh=Symbol.for("react.strict_mode"),Yh=Symbol.for("react.profiler"),Xh=Symbol.for("react.provider"),Zh=Symbol.for("react.context"),ef=Symbol.for("react.forward_ref"),tf=Symbol.for("react.suspense"),rf=Symbol.for("react.memo"),nf=Symbol.for("react.lazy"),Oa=Symbol.iterator;function sf(t){return t===null||typeof t!="object"?null:(t=Oa&&t[Oa]||t["@@iterator"],typeof t=="function"?t:null)}var au={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cu=Object.assign,uu={};function Yr(t,e,r){this.props=t,this.context=e,this.refs=uu,this.updater=r||au}Yr.prototype.isReactComponent={};Yr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Yr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function du(){}du.prototype=Yr.prototype;function Tl(t,e,r){this.props=t,this.context=e,this.refs=uu,this.updater=r||au}var Pl=Tl.prototype=new du;Pl.constructor=Tl;cu(Pl,Yr.prototype);Pl.isPureReactComponent=!0;var Aa=Array.isArray,hu=Object.prototype.hasOwnProperty,Ol={current:null},fu={key:!0,ref:!0,__self:!0,__source:!0};function pu(t,e,r){var n,s={},i=null,l=null;if(e!=null)for(n in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(i=""+e.key),e)hu.call(e,n)&&!fu.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Yn,type:t,key:i,ref:l,props:s,_owner:Ol.current}}function of(t,e){return{$$typeof:Yn,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Al(t){return typeof t=="object"&&t!==null&&t.$$typeof===Yn}function lf(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var La=/\/+/g;function Bi(t,e){return typeof t=="object"&&t!==null&&t.key!=null?lf(""+t.key):e.toString(36)}function Ts(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Yn:case Kh:l=!0}}if(l)return l=t,s=s(l),t=n===""?"."+Bi(l,0):n,Aa(s)?(r="",t!=null&&(r=t.replace(La,"$&/")+"/"),Ts(s,e,r,"",function(u){return u})):s!=null&&(Al(s)&&(s=of(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(La,"$&/")+"/")+t)),e.push(s)),1;if(l=0,n=n===""?".":n+":",Aa(t))for(var a=0;a<t.length;a++){i=t[a];var c=n+Bi(i,a);l+=Ts(i,e,r,c,s)}else if(c=sf(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=n+Bi(i,a++),l+=Ts(i,e,r,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function ls(t,e,r){if(t==null)return t;var n=[],s=0;return Ts(t,n,"","",function(i){return e.call(r,i,s++)}),n}function af(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var be={current:null},Ps={transition:null},cf={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:Ps,ReactCurrentOwner:Ol};function mu(){throw Error("act(...) is not supported in production builds of React.")}M.Children={map:ls,forEach:function(t,e,r){ls(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ls(t,function(){e++}),e},toArray:function(t){return ls(t,function(e){return e})||[]},only:function(t){if(!Al(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};M.Component=Yr;M.Fragment=Gh;M.Profiler=Yh;M.PureComponent=Tl;M.StrictMode=Qh;M.Suspense=tf;M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cf;M.act=mu;M.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=cu({},t.props),s=t.key,i=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,l=Ol.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)hu.call(e,c)&&!fu.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:Yn,type:t.type,key:s,ref:i,props:n,_owner:l}};M.createContext=function(t){return t={$$typeof:Zh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Xh,_context:t},t.Consumer=t};M.createElement=pu;M.createFactory=function(t){var e=pu.bind(null,t);return e.type=t,e};M.createRef=function(){return{current:null}};M.forwardRef=function(t){return{$$typeof:ef,render:t}};M.isValidElement=Al;M.lazy=function(t){return{$$typeof:nf,_payload:{_status:-1,_result:t},_init:af}};M.memo=function(t,e){return{$$typeof:rf,type:t,compare:e===void 0?null:e}};M.startTransition=function(t){var e=Ps.transition;Ps.transition={};try{t()}finally{Ps.transition=e}};M.unstable_act=mu;M.useCallback=function(t,e){return be.current.useCallback(t,e)};M.useContext=function(t){return be.current.useContext(t)};M.useDebugValue=function(){};M.useDeferredValue=function(t){return be.current.useDeferredValue(t)};M.useEffect=function(t,e){return be.current.useEffect(t,e)};M.useId=function(){return be.current.useId()};M.useImperativeHandle=function(t,e,r){return be.current.useImperativeHandle(t,e,r)};M.useInsertionEffect=function(t,e){return be.current.useInsertionEffect(t,e)};M.useLayoutEffect=function(t,e){return be.current.useLayoutEffect(t,e)};M.useMemo=function(t,e){return be.current.useMemo(t,e)};M.useReducer=function(t,e,r){return be.current.useReducer(t,e,r)};M.useRef=function(t){return be.current.useRef(t)};M.useState=function(t){return be.current.useState(t)};M.useSyncExternalStore=function(t,e,r){return be.current.useSyncExternalStore(t,e,r)};M.useTransition=function(){return be.current.useTransition()};M.version="18.3.1";lu.exports=M;var N=lu.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uf=N,df=Symbol.for("react.element"),hf=Symbol.for("react.fragment"),ff=Object.prototype.hasOwnProperty,pf=uf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mf={key:!0,ref:!0,__self:!0,__source:!0};function gu(t,e,r){var n,s={},i=null,l=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(l=e.ref);for(n in e)ff.call(e,n)&&!mf.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:df,type:t,key:i,ref:l,props:s,_owner:pf.current}}vi.Fragment=hf;vi.jsx=gu;vi.jsxs=gu;ou.exports=vi;var o=ou.exports,yu={exports:{}},Re={},vu={exports:{}},xu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,z){var I=P.length;P.push(z);e:for(;0<I;){var Z=I-1>>>1,oe=P[Z];if(0<s(oe,z))P[Z]=z,P[I]=oe,I=Z;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var z=P[0],I=P.pop();if(I!==z){P[0]=I;e:for(var Z=0,oe=P.length,is=oe>>>1;Z<is;){var Wt=2*(Z+1)-1,Fi=P[Wt],qt=Wt+1,os=P[qt];if(0>s(Fi,I))qt<oe&&0>s(os,Fi)?(P[Z]=os,P[qt]=I,Z=qt):(P[Z]=Fi,P[Wt]=I,Z=Wt);else if(qt<oe&&0>s(os,I))P[Z]=os,P[qt]=I,Z=qt;else break e}}return z}function s(P,z){var I=P.sortIndex-z.sortIndex;return I!==0?I:P.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,a=l.now();t.unstable_now=function(){return l.now()-a}}var c=[],u=[],d=1,h=null,f=3,v=!1,m=!1,_=!1,j=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(P){for(var z=r(u);z!==null;){if(z.callback===null)n(u);else if(z.startTime<=P)n(u),z.sortIndex=z.expirationTime,e(c,z);else break;z=r(u)}}function x(P){if(_=!1,y(P),!m)if(r(c)!==null)m=!0,dr(b);else{var z=r(u);z!==null&&hr(x,z.startTime-P)}}function b(P,z){m=!1,_&&(_=!1,p(S),S=-1),v=!0;var I=f;try{for(y(z),h=r(c);h!==null&&(!(h.expirationTime>z)||P&&!B());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,f=h.priorityLevel;var oe=Z(h.expirationTime<=z);z=t.unstable_now(),typeof oe=="function"?h.callback=oe:h===r(c)&&n(c),y(z)}else n(c);h=r(c)}if(h!==null)var is=!0;else{var Wt=r(u);Wt!==null&&hr(x,Wt.startTime-z),is=!1}return is}finally{h=null,f=I,v=!1}}var k=!1,w=null,S=-1,C=5,T=-1;function B(){return!(t.unstable_now()-T<C)}function F(){if(w!==null){var P=t.unstable_now();T=P;var z=!0;try{z=w(!0,P)}finally{z?X():(k=!1,w=null)}}else k=!1}var X;if(typeof g=="function")X=function(){g(F)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,ye=ge.port2;ge.port1.onmessage=F,X=function(){ye.postMessage(null)}}else X=function(){j(F,0)};function dr(P){w=P,k||(k=!0,X())}function hr(P,z){S=j(function(){P(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){m||v||(m=!0,dr(b))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(P){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var I=f;f=z;try{return P()}finally{f=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,z){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var I=f;f=P;try{return z()}finally{f=I}},t.unstable_scheduleCallback=function(P,z,I){var Z=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?Z+I:Z):I=Z,P){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=I+oe,P={id:d++,callback:z,priorityLevel:P,startTime:I,expirationTime:oe,sortIndex:-1},I>Z?(P.sortIndex=I,e(u,P),r(c)===null&&P===r(u)&&(_?(p(S),S=-1):_=!0,hr(x,I-Z))):(P.sortIndex=oe,e(c,P),m||v||(m=!0,dr(b))),P},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(P){var z=f;return function(){var I=f;f=z;try{return P.apply(this,arguments)}finally{f=I}}}})(xu);vu.exports=xu;var gf=vu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yf=N,Le=gf;function E(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wu=new Set,Pn={};function ar(t,e){Fr(t,e),Fr(t+"Capture",e)}function Fr(t,e){for(Pn[t]=e,t=0;t<e.length;t++)wu.add(e[t])}var ft=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ko=Object.prototype.hasOwnProperty,vf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ra={},za={};function xf(t){return ko.call(za,t)?!0:ko.call(Ra,t)?!1:vf.test(t)?za[t]=!0:(Ra[t]=!0,!1)}function wf(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function bf(t,e,r,n){if(e===null||typeof e>"u"||wf(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _e(t,e,r,n,s,i,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=l}var de={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){de[t]=new _e(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];de[e]=new _e(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){de[t]=new _e(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){de[t]=new _e(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){de[t]=new _e(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){de[t]=new _e(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){de[t]=new _e(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){de[t]=new _e(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){de[t]=new _e(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ll=/[\-:]([a-z])/g;function Rl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ll,Rl);de[e]=new _e(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ll,Rl);de[e]=new _e(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ll,Rl);de[e]=new _e(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){de[t]=new _e(t,1,!1,t.toLowerCase(),null,!1,!1)});de.xlinkHref=new _e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){de[t]=new _e(t,1,!1,t.toLowerCase(),null,!0,!0)});function zl(t,e,r,n){var s=de.hasOwnProperty(e)?de[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(bf(e,r,s,n)&&(r=null),n||s===null?xf(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var yt=yf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,as=Symbol.for("react.element"),_r=Symbol.for("react.portal"),jr=Symbol.for("react.fragment"),Il=Symbol.for("react.strict_mode"),So=Symbol.for("react.profiler"),bu=Symbol.for("react.provider"),_u=Symbol.for("react.context"),$l=Symbol.for("react.forward_ref"),No=Symbol.for("react.suspense"),Co=Symbol.for("react.suspense_list"),Ml=Symbol.for("react.memo"),bt=Symbol.for("react.lazy"),ju=Symbol.for("react.offscreen"),Ia=Symbol.iterator;function rn(t){return t===null||typeof t!="object"?null:(t=Ia&&t[Ia]||t["@@iterator"],typeof t=="function"?t:null)}var Q=Object.assign,Hi;function hn(t){if(Hi===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Hi=e&&e[1]||""}return`
`+Hi+t}var Wi=!1;function qi(t,e){if(!t||Wi)return"";Wi=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),l=s.length-1,a=i.length-1;1<=l&&0<=a&&s[l]!==i[a];)a--;for(;1<=l&&0<=a;l--,a--)if(s[l]!==i[a]){if(l!==1||a!==1)do if(l--,a--,0>a||s[l]!==i[a]){var c=`
`+s[l].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=l&&0<=a);break}}}finally{Wi=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?hn(t):""}function _f(t){switch(t.tag){case 5:return hn(t.type);case 16:return hn("Lazy");case 13:return hn("Suspense");case 19:return hn("SuspenseList");case 0:case 2:case 15:return t=qi(t.type,!1),t;case 11:return t=qi(t.type.render,!1),t;case 1:return t=qi(t.type,!0),t;default:return""}}function Eo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case jr:return"Fragment";case _r:return"Portal";case So:return"Profiler";case Il:return"StrictMode";case No:return"Suspense";case Co:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case _u:return(t.displayName||"Context")+".Consumer";case bu:return(t._context.displayName||"Context")+".Provider";case $l:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ml:return e=t.displayName||null,e!==null?e:Eo(t.type)||"Memo";case bt:e=t._payload,t=t._init;try{return Eo(t(e))}catch{}}return null}function jf(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Eo(e);case 8:return e===Il?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function It(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ku(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function kf(t){var e=ku(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(l){n=""+l,i.call(this,l)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function cs(t){t._valueTracker||(t._valueTracker=kf(t))}function Su(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=ku(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Fs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function To(t,e){var r=e.checked;return Q({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function $a(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=It(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Nu(t,e){e=e.checked,e!=null&&zl(t,"checked",e,!1)}function Po(t,e){Nu(t,e);var r=It(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Oo(t,e.type,r):e.hasOwnProperty("defaultValue")&&Oo(t,e.type,It(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ma(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Oo(t,e,r){(e!=="number"||Fs(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var fn=Array.isArray;function Rr(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+It(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Ao(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(E(91));return Q({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Da(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(E(92));if(fn(r)){if(1<r.length)throw Error(E(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:It(r)}}function Cu(t,e){var r=It(e.value),n=It(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Ua(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Eu(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lo(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Eu(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var us,Tu=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(us=us||document.createElement("div"),us.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=us.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function On(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var yn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sf=["Webkit","ms","Moz","O"];Object.keys(yn).forEach(function(t){Sf.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),yn[e]=yn[t]})});function Pu(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||yn.hasOwnProperty(t)&&yn[t]?(""+e).trim():e+"px"}function Ou(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Pu(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var Nf=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ro(t,e){if(e){if(Nf[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(E(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(E(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(E(61))}if(e.style!=null&&typeof e.style!="object")throw Error(E(62))}}function zo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Io=null;function Dl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $o=null,zr=null,Ir=null;function Fa(t){if(t=es(t)){if(typeof $o!="function")throw Error(E(280));var e=t.stateNode;e&&(e=ji(e),$o(t.stateNode,t.type,e))}}function Au(t){zr?Ir?Ir.push(t):Ir=[t]:zr=t}function Lu(){if(zr){var t=zr,e=Ir;if(Ir=zr=null,Fa(t),e)for(t=0;t<e.length;t++)Fa(e[t])}}function Ru(t,e){return t(e)}function zu(){}var Vi=!1;function Iu(t,e,r){if(Vi)return t(e,r);Vi=!0;try{return Ru(t,e,r)}finally{Vi=!1,(zr!==null||Ir!==null)&&(zu(),Lu())}}function An(t,e){var r=t.stateNode;if(r===null)return null;var n=ji(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(E(231,e,typeof r));return r}var Mo=!1;if(ft)try{var nn={};Object.defineProperty(nn,"passive",{get:function(){Mo=!0}}),window.addEventListener("test",nn,nn),window.removeEventListener("test",nn,nn)}catch{Mo=!1}function Cf(t,e,r,n,s,i,l,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var vn=!1,Bs=null,Hs=!1,Do=null,Ef={onError:function(t){vn=!0,Bs=t}};function Tf(t,e,r,n,s,i,l,a,c){vn=!1,Bs=null,Cf.apply(Ef,arguments)}function Pf(t,e,r,n,s,i,l,a,c){if(Tf.apply(this,arguments),vn){if(vn){var u=Bs;vn=!1,Bs=null}else throw Error(E(198));Hs||(Hs=!0,Do=u)}}function cr(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function $u(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ba(t){if(cr(t)!==t)throw Error(E(188))}function Of(t){var e=t.alternate;if(!e){if(e=cr(t),e===null)throw Error(E(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Ba(s),t;if(i===n)return Ba(s),e;i=i.sibling}throw Error(E(188))}if(r.return!==n.return)r=s,n=i;else{for(var l=!1,a=s.child;a;){if(a===r){l=!0,r=s,n=i;break}if(a===n){l=!0,n=s,r=i;break}a=a.sibling}if(!l){for(a=i.child;a;){if(a===r){l=!0,r=i,n=s;break}if(a===n){l=!0,n=i,r=s;break}a=a.sibling}if(!l)throw Error(E(189))}}if(r.alternate!==n)throw Error(E(190))}if(r.tag!==3)throw Error(E(188));return r.stateNode.current===r?t:e}function Mu(t){return t=Of(t),t!==null?Du(t):null}function Du(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Du(t);if(e!==null)return e;t=t.sibling}return null}var Uu=Le.unstable_scheduleCallback,Ha=Le.unstable_cancelCallback,Af=Le.unstable_shouldYield,Lf=Le.unstable_requestPaint,ee=Le.unstable_now,Rf=Le.unstable_getCurrentPriorityLevel,Ul=Le.unstable_ImmediatePriority,Fu=Le.unstable_UserBlockingPriority,Ws=Le.unstable_NormalPriority,zf=Le.unstable_LowPriority,Bu=Le.unstable_IdlePriority,xi=null,nt=null;function If(t){if(nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(xi,t,void 0,(t.current.flags&128)===128)}catch{}}var Qe=Math.clz32?Math.clz32:Df,$f=Math.log,Mf=Math.LN2;function Df(t){return t>>>=0,t===0?32:31-($f(t)/Mf|0)|0}var ds=64,hs=4194304;function pn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function qs(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,l=r&268435455;if(l!==0){var a=l&~s;a!==0?n=pn(a):(i&=l,i!==0&&(n=pn(i)))}else l=r&~s,l!==0?n=pn(l):i!==0&&(n=pn(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Qe(e),s=1<<r,n|=t[r],e&=~s;return n}function Uf(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ff(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var l=31-Qe(i),a=1<<l,c=s[l];c===-1?(!(a&r)||a&n)&&(s[l]=Uf(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function Uo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Hu(){var t=ds;return ds<<=1,!(ds&4194240)&&(ds=64),t}function Ji(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Xn(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Qe(e),t[e]=r}function Bf(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Qe(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function Fl(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Qe(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var U=0;function Wu(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var qu,Bl,Vu,Ju,Ku,Fo=!1,fs=[],Et=null,Tt=null,Pt=null,Ln=new Map,Rn=new Map,jt=[],Hf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wa(t,e){switch(t){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Ln.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rn.delete(e.pointerId)}}function sn(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=es(e),e!==null&&Bl(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Wf(t,e,r,n,s){switch(e){case"focusin":return Et=sn(Et,t,e,r,n,s),!0;case"dragenter":return Tt=sn(Tt,t,e,r,n,s),!0;case"mouseover":return Pt=sn(Pt,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Ln.set(i,sn(Ln.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Rn.set(i,sn(Rn.get(i)||null,t,e,r,n,s)),!0}return!1}function Gu(t){var e=Xt(t.target);if(e!==null){var r=cr(e);if(r!==null){if(e=r.tag,e===13){if(e=$u(r),e!==null){t.blockedOn=e,Ku(t.priority,function(){Vu(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Os(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Bo(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Io=n,r.target.dispatchEvent(n),Io=null}else return e=es(r),e!==null&&Bl(e),t.blockedOn=r,!1;e.shift()}return!0}function qa(t,e,r){Os(t)&&r.delete(e)}function qf(){Fo=!1,Et!==null&&Os(Et)&&(Et=null),Tt!==null&&Os(Tt)&&(Tt=null),Pt!==null&&Os(Pt)&&(Pt=null),Ln.forEach(qa),Rn.forEach(qa)}function on(t,e){t.blockedOn===e&&(t.blockedOn=null,Fo||(Fo=!0,Le.unstable_scheduleCallback(Le.unstable_NormalPriority,qf)))}function zn(t){function e(s){return on(s,t)}if(0<fs.length){on(fs[0],t);for(var r=1;r<fs.length;r++){var n=fs[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Et!==null&&on(Et,t),Tt!==null&&on(Tt,t),Pt!==null&&on(Pt,t),Ln.forEach(e),Rn.forEach(e),r=0;r<jt.length;r++)n=jt[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<jt.length&&(r=jt[0],r.blockedOn===null);)Gu(r),r.blockedOn===null&&jt.shift()}var $r=yt.ReactCurrentBatchConfig,Vs=!0;function Vf(t,e,r,n){var s=U,i=$r.transition;$r.transition=null;try{U=1,Hl(t,e,r,n)}finally{U=s,$r.transition=i}}function Jf(t,e,r,n){var s=U,i=$r.transition;$r.transition=null;try{U=4,Hl(t,e,r,n)}finally{U=s,$r.transition=i}}function Hl(t,e,r,n){if(Vs){var s=Bo(t,e,r,n);if(s===null)no(t,e,n,Js,r),Wa(t,n);else if(Wf(s,t,e,r,n))n.stopPropagation();else if(Wa(t,n),e&4&&-1<Hf.indexOf(t)){for(;s!==null;){var i=es(s);if(i!==null&&qu(i),i=Bo(t,e,r,n),i===null&&no(t,e,n,Js,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else no(t,e,n,null,r)}}var Js=null;function Bo(t,e,r,n){if(Js=null,t=Dl(n),t=Xt(t),t!==null)if(e=cr(t),e===null)t=null;else if(r=e.tag,r===13){if(t=$u(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Js=t,null}function Qu(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rf()){case Ul:return 1;case Fu:return 4;case Ws:case zf:return 16;case Bu:return 536870912;default:return 16}default:return 16}}var Nt=null,Wl=null,As=null;function Yu(){if(As)return As;var t,e=Wl,r=e.length,n,s="value"in Nt?Nt.value:Nt.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var l=r-t;for(n=1;n<=l&&e[r-n]===s[i-n];n++);return As=s.slice(t,1<n?1-n:void 0)}function Ls(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ps(){return!0}function Va(){return!1}function ze(t){function e(r,n,s,i,l){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ps:Va,this.isPropagationStopped=Va,this}return Q(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ps)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ps)},persist:function(){},isPersistent:ps}),e}var Xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ql=ze(Xr),Zn=Q({},Xr,{view:0,detail:0}),Kf=ze(Zn),Ki,Gi,ln,wi=Q({},Zn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ln&&(ln&&t.type==="mousemove"?(Ki=t.screenX-ln.screenX,Gi=t.screenY-ln.screenY):Gi=Ki=0,ln=t),Ki)},movementY:function(t){return"movementY"in t?t.movementY:Gi}}),Ja=ze(wi),Gf=Q({},wi,{dataTransfer:0}),Qf=ze(Gf),Yf=Q({},Zn,{relatedTarget:0}),Qi=ze(Yf),Xf=Q({},Xr,{animationName:0,elapsedTime:0,pseudoElement:0}),Zf=ze(Xf),ep=Q({},Xr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tp=ze(ep),rp=Q({},Xr,{data:0}),Ka=ze(rp),np={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ip={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function op(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ip[t])?!!e[t]:!1}function Vl(){return op}var lp=Q({},Zn,{key:function(t){if(t.key){var e=np[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ls(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?sp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vl,charCode:function(t){return t.type==="keypress"?Ls(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ls(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ap=ze(lp),cp=Q({},wi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ga=ze(cp),up=Q({},Zn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vl}),dp=ze(up),hp=Q({},Xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),fp=ze(hp),pp=Q({},wi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),mp=ze(pp),gp=[9,13,27,32],Jl=ft&&"CompositionEvent"in window,xn=null;ft&&"documentMode"in document&&(xn=document.documentMode);var yp=ft&&"TextEvent"in window&&!xn,Xu=ft&&(!Jl||xn&&8<xn&&11>=xn),Qa=" ",Ya=!1;function Zu(t,e){switch(t){case"keyup":return gp.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ed(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var kr=!1;function vp(t,e){switch(t){case"compositionend":return ed(e);case"keypress":return e.which!==32?null:(Ya=!0,Qa);case"textInput":return t=e.data,t===Qa&&Ya?null:t;default:return null}}function xp(t,e){if(kr)return t==="compositionend"||!Jl&&Zu(t,e)?(t=Yu(),As=Wl=Nt=null,kr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Xu&&e.locale!=="ko"?null:e.data;default:return null}}var wp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xa(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!wp[t.type]:e==="textarea"}function td(t,e,r,n){Au(n),e=Ks(e,"onChange"),0<e.length&&(r=new ql("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var wn=null,In=null;function bp(t){hd(t,0)}function bi(t){var e=Cr(t);if(Su(e))return t}function _p(t,e){if(t==="change")return e}var rd=!1;if(ft){var Yi;if(ft){var Xi="oninput"in document;if(!Xi){var Za=document.createElement("div");Za.setAttribute("oninput","return;"),Xi=typeof Za.oninput=="function"}Yi=Xi}else Yi=!1;rd=Yi&&(!document.documentMode||9<document.documentMode)}function ec(){wn&&(wn.detachEvent("onpropertychange",nd),In=wn=null)}function nd(t){if(t.propertyName==="value"&&bi(In)){var e=[];td(e,In,t,Dl(t)),Iu(bp,e)}}function jp(t,e,r){t==="focusin"?(ec(),wn=e,In=r,wn.attachEvent("onpropertychange",nd)):t==="focusout"&&ec()}function kp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bi(In)}function Sp(t,e){if(t==="click")return bi(e)}function Np(t,e){if(t==="input"||t==="change")return bi(e)}function Cp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xe=typeof Object.is=="function"?Object.is:Cp;function $n(t,e){if(Xe(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!ko.call(e,s)||!Xe(t[s],e[s]))return!1}return!0}function tc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rc(t,e){var r=tc(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=tc(r)}}function sd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?sd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function id(){for(var t=window,e=Fs();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Fs(t.document)}return e}function Kl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Ep(t){var e=id(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&sd(r.ownerDocument.documentElement,r)){if(n!==null&&Kl(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=rc(r,i);var l=rc(r,n);s&&l&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Tp=ft&&"documentMode"in document&&11>=document.documentMode,Sr=null,Ho=null,bn=null,Wo=!1;function nc(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Wo||Sr==null||Sr!==Fs(n)||(n=Sr,"selectionStart"in n&&Kl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),bn&&$n(bn,n)||(bn=n,n=Ks(Ho,"onSelect"),0<n.length&&(e=new ql("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Sr)))}function ms(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Nr={animationend:ms("Animation","AnimationEnd"),animationiteration:ms("Animation","AnimationIteration"),animationstart:ms("Animation","AnimationStart"),transitionend:ms("Transition","TransitionEnd")},Zi={},od={};ft&&(od=document.createElement("div").style,"AnimationEvent"in window||(delete Nr.animationend.animation,delete Nr.animationiteration.animation,delete Nr.animationstart.animation),"TransitionEvent"in window||delete Nr.transitionend.transition);function _i(t){if(Zi[t])return Zi[t];if(!Nr[t])return t;var e=Nr[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in od)return Zi[t]=e[r];return t}var ld=_i("animationend"),ad=_i("animationiteration"),cd=_i("animationstart"),ud=_i("transitionend"),dd=new Map,sc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ut(t,e){dd.set(t,e),ar(e,[t])}for(var eo=0;eo<sc.length;eo++){var to=sc[eo],Pp=to.toLowerCase(),Op=to[0].toUpperCase()+to.slice(1);Ut(Pp,"on"+Op)}Ut(ld,"onAnimationEnd");Ut(ad,"onAnimationIteration");Ut(cd,"onAnimationStart");Ut("dblclick","onDoubleClick");Ut("focusin","onFocus");Ut("focusout","onBlur");Ut(ud,"onTransitionEnd");Fr("onMouseEnter",["mouseout","mouseover"]);Fr("onMouseLeave",["mouseout","mouseover"]);Fr("onPointerEnter",["pointerout","pointerover"]);Fr("onPointerLeave",["pointerout","pointerover"]);ar("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ar("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ar("onBeforeInput",["compositionend","keypress","textInput","paste"]);ar("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ar("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ar("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ap=new Set("cancel close invalid load scroll toggle".split(" ").concat(mn));function ic(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Pf(n,e,void 0,t),t.currentTarget=null}function hd(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var l=n.length-1;0<=l;l--){var a=n[l],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;ic(s,a,u),i=c}else for(l=0;l<n.length;l++){if(a=n[l],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;ic(s,a,u),i=c}}}if(Hs)throw t=Do,Hs=!1,Do=null,t}function q(t,e){var r=e[Go];r===void 0&&(r=e[Go]=new Set);var n=t+"__bubble";r.has(n)||(fd(e,t,2,!1),r.add(n))}function ro(t,e,r){var n=0;e&&(n|=4),fd(r,t,n,e)}var gs="_reactListening"+Math.random().toString(36).slice(2);function Mn(t){if(!t[gs]){t[gs]=!0,wu.forEach(function(r){r!=="selectionchange"&&(Ap.has(r)||ro(r,!1,t),ro(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[gs]||(e[gs]=!0,ro("selectionchange",!1,e))}}function fd(t,e,r,n){switch(Qu(e)){case 1:var s=Vf;break;case 4:s=Jf;break;default:s=Hl}r=s.bind(null,e,r,t),s=void 0,!Mo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function no(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;l=l.return}for(;a!==null;){if(l=Xt(a),l===null)return;if(c=l.tag,c===5||c===6){n=i=l;continue e}a=a.parentNode}}n=n.return}Iu(function(){var u=i,d=Dl(r),h=[];e:{var f=dd.get(t);if(f!==void 0){var v=ql,m=t;switch(t){case"keypress":if(Ls(r)===0)break e;case"keydown":case"keyup":v=ap;break;case"focusin":m="focus",v=Qi;break;case"focusout":m="blur",v=Qi;break;case"beforeblur":case"afterblur":v=Qi;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Ja;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Qf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=dp;break;case ld:case ad:case cd:v=Zf;break;case ud:v=fp;break;case"scroll":v=Kf;break;case"wheel":v=mp;break;case"copy":case"cut":case"paste":v=tp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Ga}var _=(e&4)!==0,j=!_&&t==="scroll",p=_?f!==null?f+"Capture":null:f;_=[];for(var g=u,y;g!==null;){y=g;var x=y.stateNode;if(y.tag===5&&x!==null&&(y=x,p!==null&&(x=An(g,p),x!=null&&_.push(Dn(g,x,y)))),j)break;g=g.return}0<_.length&&(f=new v(f,m,null,r,d),h.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",f&&r!==Io&&(m=r.relatedTarget||r.fromElement)&&(Xt(m)||m[pt]))break e;if((v||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,v?(m=r.relatedTarget||r.toElement,v=u,m=m?Xt(m):null,m!==null&&(j=cr(m),m!==j||m.tag!==5&&m.tag!==6)&&(m=null)):(v=null,m=u),v!==m)){if(_=Ja,x="onMouseLeave",p="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(_=Ga,x="onPointerLeave",p="onPointerEnter",g="pointer"),j=v==null?f:Cr(v),y=m==null?f:Cr(m),f=new _(x,g+"leave",v,r,d),f.target=j,f.relatedTarget=y,x=null,Xt(d)===u&&(_=new _(p,g+"enter",m,r,d),_.target=y,_.relatedTarget=j,x=_),j=x,v&&m)t:{for(_=v,p=m,g=0,y=_;y;y=fr(y))g++;for(y=0,x=p;x;x=fr(x))y++;for(;0<g-y;)_=fr(_),g--;for(;0<y-g;)p=fr(p),y--;for(;g--;){if(_===p||p!==null&&_===p.alternate)break t;_=fr(_),p=fr(p)}_=null}else _=null;v!==null&&oc(h,f,v,_,!1),m!==null&&j!==null&&oc(h,j,m,_,!0)}}e:{if(f=u?Cr(u):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var b=_p;else if(Xa(f))if(rd)b=Np;else{b=kp;var k=jp}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=Sp);if(b&&(b=b(t,u))){td(h,b,r,d);break e}k&&k(t,f,u),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&Oo(f,"number",f.value)}switch(k=u?Cr(u):window,t){case"focusin":(Xa(k)||k.contentEditable==="true")&&(Sr=k,Ho=u,bn=null);break;case"focusout":bn=Ho=Sr=null;break;case"mousedown":Wo=!0;break;case"contextmenu":case"mouseup":case"dragend":Wo=!1,nc(h,r,d);break;case"selectionchange":if(Tp)break;case"keydown":case"keyup":nc(h,r,d)}var w;if(Jl)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else kr?Zu(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(Xu&&r.locale!=="ko"&&(kr||S!=="onCompositionStart"?S==="onCompositionEnd"&&kr&&(w=Yu()):(Nt=d,Wl="value"in Nt?Nt.value:Nt.textContent,kr=!0)),k=Ks(u,S),0<k.length&&(S=new Ka(S,t,null,r,d),h.push({event:S,listeners:k}),w?S.data=w:(w=ed(r),w!==null&&(S.data=w)))),(w=yp?vp(t,r):xp(t,r))&&(u=Ks(u,"onBeforeInput"),0<u.length&&(d=new Ka("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=w))}hd(h,e)})}function Dn(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ks(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=An(t,r),i!=null&&n.unshift(Dn(t,i,s)),i=An(t,e),i!=null&&n.push(Dn(t,i,s))),t=t.return}return n}function fr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function oc(t,e,r,n,s){for(var i=e._reactName,l=[];r!==null&&r!==n;){var a=r,c=a.alternate,u=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&u!==null&&(a=u,s?(c=An(r,i),c!=null&&l.unshift(Dn(r,c,a))):s||(c=An(r,i),c!=null&&l.push(Dn(r,c,a)))),r=r.return}l.length!==0&&t.push({event:e,listeners:l})}var Lp=/\r\n?/g,Rp=/\u0000|\uFFFD/g;function lc(t){return(typeof t=="string"?t:""+t).replace(Lp,`
`).replace(Rp,"")}function ys(t,e,r){if(e=lc(e),lc(t)!==e&&r)throw Error(E(425))}function Gs(){}var qo=null,Vo=null;function Jo(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ko=typeof setTimeout=="function"?setTimeout:void 0,zp=typeof clearTimeout=="function"?clearTimeout:void 0,ac=typeof Promise=="function"?Promise:void 0,Ip=typeof queueMicrotask=="function"?queueMicrotask:typeof ac<"u"?function(t){return ac.resolve(null).then(t).catch($p)}:Ko;function $p(t){setTimeout(function(){throw t})}function so(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),zn(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);zn(e)}function Ot(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function cc(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Zr=Math.random().toString(36).slice(2),rt="__reactFiber$"+Zr,Un="__reactProps$"+Zr,pt="__reactContainer$"+Zr,Go="__reactEvents$"+Zr,Mp="__reactListeners$"+Zr,Dp="__reactHandles$"+Zr;function Xt(t){var e=t[rt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[pt]||r[rt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=cc(t);t!==null;){if(r=t[rt])return r;t=cc(t)}return e}t=r,r=t.parentNode}return null}function es(t){return t=t[rt]||t[pt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Cr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(E(33))}function ji(t){return t[Un]||null}var Qo=[],Er=-1;function Ft(t){return{current:t}}function V(t){0>Er||(t.current=Qo[Er],Qo[Er]=null,Er--)}function W(t,e){Er++,Qo[Er]=t.current,t.current=e}var $t={},me=Ft($t),Ne=Ft(!1),nr=$t;function Br(t,e){var r=t.type.contextTypes;if(!r)return $t;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ce(t){return t=t.childContextTypes,t!=null}function Qs(){V(Ne),V(me)}function uc(t,e,r){if(me.current!==$t)throw Error(E(168));W(me,e),W(Ne,r)}function pd(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(E(108,jf(t)||"Unknown",s));return Q({},r,n)}function Ys(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||$t,nr=me.current,W(me,t),W(Ne,Ne.current),!0}function dc(t,e,r){var n=t.stateNode;if(!n)throw Error(E(169));r?(t=pd(t,e,nr),n.__reactInternalMemoizedMergedChildContext=t,V(Ne),V(me),W(me,t)):V(Ne),W(Ne,r)}var ct=null,ki=!1,io=!1;function md(t){ct===null?ct=[t]:ct.push(t)}function Up(t){ki=!0,md(t)}function Bt(){if(!io&&ct!==null){io=!0;var t=0,e=U;try{var r=ct;for(U=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ct=null,ki=!1}catch(s){throw ct!==null&&(ct=ct.slice(t+1)),Uu(Ul,Bt),s}finally{U=e,io=!1}}return null}var Tr=[],Pr=0,Xs=null,Zs=0,Ie=[],$e=0,sr=null,ut=1,dt="";function Kt(t,e){Tr[Pr++]=Zs,Tr[Pr++]=Xs,Xs=t,Zs=e}function gd(t,e,r){Ie[$e++]=ut,Ie[$e++]=dt,Ie[$e++]=sr,sr=t;var n=ut;t=dt;var s=32-Qe(n)-1;n&=~(1<<s),r+=1;var i=32-Qe(e)+s;if(30<i){var l=s-s%5;i=(n&(1<<l)-1).toString(32),n>>=l,s-=l,ut=1<<32-Qe(e)+s|r<<s|n,dt=i+t}else ut=1<<i|r<<s|n,dt=t}function Gl(t){t.return!==null&&(Kt(t,1),gd(t,1,0))}function Ql(t){for(;t===Xs;)Xs=Tr[--Pr],Tr[Pr]=null,Zs=Tr[--Pr],Tr[Pr]=null;for(;t===sr;)sr=Ie[--$e],Ie[$e]=null,dt=Ie[--$e],Ie[$e]=null,ut=Ie[--$e],Ie[$e]=null}var Ae=null,Oe=null,J=!1,Ge=null;function yd(t,e){var r=De(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function hc(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ae=t,Oe=Ot(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ae=t,Oe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=sr!==null?{id:ut,overflow:dt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=De(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ae=t,Oe=null,!0):!1;default:return!1}}function Yo(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xo(t){if(J){var e=Oe;if(e){var r=e;if(!hc(t,e)){if(Yo(t))throw Error(E(418));e=Ot(r.nextSibling);var n=Ae;e&&hc(t,e)?yd(n,r):(t.flags=t.flags&-4097|2,J=!1,Ae=t)}}else{if(Yo(t))throw Error(E(418));t.flags=t.flags&-4097|2,J=!1,Ae=t}}}function fc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ae=t}function vs(t){if(t!==Ae)return!1;if(!J)return fc(t),J=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Jo(t.type,t.memoizedProps)),e&&(e=Oe)){if(Yo(t))throw vd(),Error(E(418));for(;e;)yd(t,e),e=Ot(e.nextSibling)}if(fc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Oe=Ot(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Oe=null}}else Oe=Ae?Ot(t.stateNode.nextSibling):null;return!0}function vd(){for(var t=Oe;t;)t=Ot(t.nextSibling)}function Hr(){Oe=Ae=null,J=!1}function Yl(t){Ge===null?Ge=[t]:Ge.push(t)}var Fp=yt.ReactCurrentBatchConfig;function an(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(E(309));var n=r.stateNode}if(!n)throw Error(E(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(l){var a=s.refs;l===null?delete a[i]:a[i]=l},e._stringRef=i,e)}if(typeof t!="string")throw Error(E(284));if(!r._owner)throw Error(E(290,t))}return t}function xs(t,e){throw t=Object.prototype.toString.call(e),Error(E(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function pc(t){var e=t._init;return e(t._payload)}function xd(t){function e(p,g){if(t){var y=p.deletions;y===null?(p.deletions=[g],p.flags|=16):y.push(g)}}function r(p,g){if(!t)return null;for(;g!==null;)e(p,g),g=g.sibling;return null}function n(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function s(p,g){return p=zt(p,g),p.index=0,p.sibling=null,p}function i(p,g,y){return p.index=y,t?(y=p.alternate,y!==null?(y=y.index,y<g?(p.flags|=2,g):y):(p.flags|=2,g)):(p.flags|=1048576,g)}function l(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,g,y,x){return g===null||g.tag!==6?(g=fo(y,p.mode,x),g.return=p,g):(g=s(g,y),g.return=p,g)}function c(p,g,y,x){var b=y.type;return b===jr?d(p,g,y.props.children,x,y.key):g!==null&&(g.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===bt&&pc(b)===g.type)?(x=s(g,y.props),x.ref=an(p,g,y),x.return=p,x):(x=Us(y.type,y.key,y.props,null,p.mode,x),x.ref=an(p,g,y),x.return=p,x)}function u(p,g,y,x){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=po(y,p.mode,x),g.return=p,g):(g=s(g,y.children||[]),g.return=p,g)}function d(p,g,y,x,b){return g===null||g.tag!==7?(g=rr(y,p.mode,x,b),g.return=p,g):(g=s(g,y),g.return=p,g)}function h(p,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=fo(""+g,p.mode,y),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case as:return y=Us(g.type,g.key,g.props,null,p.mode,y),y.ref=an(p,null,g),y.return=p,y;case _r:return g=po(g,p.mode,y),g.return=p,g;case bt:var x=g._init;return h(p,x(g._payload),y)}if(fn(g)||rn(g))return g=rr(g,p.mode,y,null),g.return=p,g;xs(p,g)}return null}function f(p,g,y,x){var b=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return b!==null?null:a(p,g,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case as:return y.key===b?c(p,g,y,x):null;case _r:return y.key===b?u(p,g,y,x):null;case bt:return b=y._init,f(p,g,b(y._payload),x)}if(fn(y)||rn(y))return b!==null?null:d(p,g,y,x,null);xs(p,y)}return null}function v(p,g,y,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return p=p.get(y)||null,a(g,p,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case as:return p=p.get(x.key===null?y:x.key)||null,c(g,p,x,b);case _r:return p=p.get(x.key===null?y:x.key)||null,u(g,p,x,b);case bt:var k=x._init;return v(p,g,y,k(x._payload),b)}if(fn(x)||rn(x))return p=p.get(y)||null,d(g,p,x,b,null);xs(g,x)}return null}function m(p,g,y,x){for(var b=null,k=null,w=g,S=g=0,C=null;w!==null&&S<y.length;S++){w.index>S?(C=w,w=null):C=w.sibling;var T=f(p,w,y[S],x);if(T===null){w===null&&(w=C);break}t&&w&&T.alternate===null&&e(p,w),g=i(T,g,S),k===null?b=T:k.sibling=T,k=T,w=C}if(S===y.length)return r(p,w),J&&Kt(p,S),b;if(w===null){for(;S<y.length;S++)w=h(p,y[S],x),w!==null&&(g=i(w,g,S),k===null?b=w:k.sibling=w,k=w);return J&&Kt(p,S),b}for(w=n(p,w);S<y.length;S++)C=v(w,p,S,y[S],x),C!==null&&(t&&C.alternate!==null&&w.delete(C.key===null?S:C.key),g=i(C,g,S),k===null?b=C:k.sibling=C,k=C);return t&&w.forEach(function(B){return e(p,B)}),J&&Kt(p,S),b}function _(p,g,y,x){var b=rn(y);if(typeof b!="function")throw Error(E(150));if(y=b.call(y),y==null)throw Error(E(151));for(var k=b=null,w=g,S=g=0,C=null,T=y.next();w!==null&&!T.done;S++,T=y.next()){w.index>S?(C=w,w=null):C=w.sibling;var B=f(p,w,T.value,x);if(B===null){w===null&&(w=C);break}t&&w&&B.alternate===null&&e(p,w),g=i(B,g,S),k===null?b=B:k.sibling=B,k=B,w=C}if(T.done)return r(p,w),J&&Kt(p,S),b;if(w===null){for(;!T.done;S++,T=y.next())T=h(p,T.value,x),T!==null&&(g=i(T,g,S),k===null?b=T:k.sibling=T,k=T);return J&&Kt(p,S),b}for(w=n(p,w);!T.done;S++,T=y.next())T=v(w,p,S,T.value,x),T!==null&&(t&&T.alternate!==null&&w.delete(T.key===null?S:T.key),g=i(T,g,S),k===null?b=T:k.sibling=T,k=T);return t&&w.forEach(function(F){return e(p,F)}),J&&Kt(p,S),b}function j(p,g,y,x){if(typeof y=="object"&&y!==null&&y.type===jr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case as:e:{for(var b=y.key,k=g;k!==null;){if(k.key===b){if(b=y.type,b===jr){if(k.tag===7){r(p,k.sibling),g=s(k,y.props.children),g.return=p,p=g;break e}}else if(k.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===bt&&pc(b)===k.type){r(p,k.sibling),g=s(k,y.props),g.ref=an(p,k,y),g.return=p,p=g;break e}r(p,k);break}else e(p,k);k=k.sibling}y.type===jr?(g=rr(y.props.children,p.mode,x,y.key),g.return=p,p=g):(x=Us(y.type,y.key,y.props,null,p.mode,x),x.ref=an(p,g,y),x.return=p,p=x)}return l(p);case _r:e:{for(k=y.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){r(p,g.sibling),g=s(g,y.children||[]),g.return=p,p=g;break e}else{r(p,g);break}else e(p,g);g=g.sibling}g=po(y,p.mode,x),g.return=p,p=g}return l(p);case bt:return k=y._init,j(p,g,k(y._payload),x)}if(fn(y))return m(p,g,y,x);if(rn(y))return _(p,g,y,x);xs(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(r(p,g.sibling),g=s(g,y),g.return=p,p=g):(r(p,g),g=fo(y,p.mode,x),g.return=p,p=g),l(p)):r(p,g)}return j}var Wr=xd(!0),wd=xd(!1),ei=Ft(null),ti=null,Or=null,Xl=null;function Zl(){Xl=Or=ti=null}function ea(t){var e=ei.current;V(ei),t._currentValue=e}function Zo(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Mr(t,e){ti=t,Xl=Or=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Se=!0),t.firstContext=null)}function Be(t){var e=t._currentValue;if(Xl!==t)if(t={context:t,memoizedValue:e,next:null},Or===null){if(ti===null)throw Error(E(308));Or=t,ti.dependencies={lanes:0,firstContext:t}}else Or=Or.next=t;return e}var Zt=null;function ta(t){Zt===null?Zt=[t]:Zt.push(t)}function bd(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,ta(e)):(r.next=s.next,s.next=r),e.interleaved=r,mt(t,n)}function mt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var _t=!1;function ra(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _d(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ht(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function At(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,D&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,mt(t,r)}return s=n.interleaved,s===null?(e.next=e,ta(n)):(e.next=s.next,s.next=e),n.interleaved=e,mt(t,r)}function Rs(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Fl(t,r)}}function mc(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=l:i=i.next=l,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function ri(t,e,r,n){var s=t.updateQueue;_t=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,l===null?i=u:l.next=u,l=c;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==l&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;l=0,d=u=c=null,a=i;do{var f=a.lane,v=a.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,_=a;switch(f=e,v=r,_.tag){case 1:if(m=_.payload,typeof m=="function"){h=m.call(v,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=_.payload,f=typeof m=="function"?m.call(v,h,f):m,f==null)break e;h=Q({},h,f);break e;case 2:_t=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else v={eventTime:v,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=v,c=h):d=d.next=v,l|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do l|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);or|=l,t.lanes=l,t.memoizedState=h}}function gc(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(E(191,s));s.call(n)}}}var ts={},st=Ft(ts),Fn=Ft(ts),Bn=Ft(ts);function er(t){if(t===ts)throw Error(E(174));return t}function na(t,e){switch(W(Bn,e),W(Fn,t),W(st,ts),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Lo(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Lo(e,t)}V(st),W(st,e)}function qr(){V(st),V(Fn),V(Bn)}function jd(t){er(Bn.current);var e=er(st.current),r=Lo(e,t.type);e!==r&&(W(Fn,t),W(st,r))}function sa(t){Fn.current===t&&(V(st),V(Fn))}var K=Ft(0);function ni(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var oo=[];function ia(){for(var t=0;t<oo.length;t++)oo[t]._workInProgressVersionPrimary=null;oo.length=0}var zs=yt.ReactCurrentDispatcher,lo=yt.ReactCurrentBatchConfig,ir=0,G=null,se=null,le=null,si=!1,_n=!1,Hn=0,Bp=0;function he(){throw Error(E(321))}function oa(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Xe(t[r],e[r]))return!1;return!0}function la(t,e,r,n,s,i){if(ir=i,G=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zs.current=t===null||t.memoizedState===null?Vp:Jp,t=r(n,s),_n){i=0;do{if(_n=!1,Hn=0,25<=i)throw Error(E(301));i+=1,le=se=null,e.updateQueue=null,zs.current=Kp,t=r(n,s)}while(_n)}if(zs.current=ii,e=se!==null&&se.next!==null,ir=0,le=se=G=null,si=!1,e)throw Error(E(300));return t}function aa(){var t=Hn!==0;return Hn=0,t}function et(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return le===null?G.memoizedState=le=t:le=le.next=t,le}function He(){if(se===null){var t=G.alternate;t=t!==null?t.memoizedState:null}else t=se.next;var e=le===null?G.memoizedState:le.next;if(e!==null)le=e,se=t;else{if(t===null)throw Error(E(310));se=t,t={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},le===null?G.memoizedState=le=t:le=le.next=t}return le}function Wn(t,e){return typeof e=="function"?e(t):e}function ao(t){var e=He(),r=e.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=t;var n=se,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var l=s.next;s.next=i.next,i.next=l}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=l=null,c=null,u=i;do{var d=u.lane;if((ir&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=h,l=n):c=c.next=h,G.lanes|=d,or|=d}u=u.next}while(u!==null&&u!==i);c===null?l=n:c.next=a,Xe(n,e.memoizedState)||(Se=!0),e.memoizedState=n,e.baseState=l,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,G.lanes|=i,or|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function co(t){var e=He(),r=e.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var l=s=s.next;do i=t(i,l.action),l=l.next;while(l!==s);Xe(i,e.memoizedState)||(Se=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function kd(){}function Sd(t,e){var r=G,n=He(),s=e(),i=!Xe(n.memoizedState,s);if(i&&(n.memoizedState=s,Se=!0),n=n.queue,ca(Ed.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||le!==null&&le.memoizedState.tag&1){if(r.flags|=2048,qn(9,Cd.bind(null,r,n,s,e),void 0,null),ae===null)throw Error(E(349));ir&30||Nd(r,e,s)}return s}function Nd(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=G.updateQueue,e===null?(e={lastEffect:null,stores:null},G.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Cd(t,e,r,n){e.value=r,e.getSnapshot=n,Td(e)&&Pd(t)}function Ed(t,e,r){return r(function(){Td(e)&&Pd(t)})}function Td(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Xe(t,r)}catch{return!0}}function Pd(t){var e=mt(t,1);e!==null&&Ye(e,t,1,-1)}function yc(t){var e=et();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:t},e.queue=t,t=t.dispatch=qp.bind(null,G,t),[e.memoizedState,t]}function qn(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=G.updateQueue,e===null?(e={lastEffect:null,stores:null},G.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Od(){return He().memoizedState}function Is(t,e,r,n){var s=et();G.flags|=t,s.memoizedState=qn(1|e,r,void 0,n===void 0?null:n)}function Si(t,e,r,n){var s=He();n=n===void 0?null:n;var i=void 0;if(se!==null){var l=se.memoizedState;if(i=l.destroy,n!==null&&oa(n,l.deps)){s.memoizedState=qn(e,r,i,n);return}}G.flags|=t,s.memoizedState=qn(1|e,r,i,n)}function vc(t,e){return Is(8390656,8,t,e)}function ca(t,e){return Si(2048,8,t,e)}function Ad(t,e){return Si(4,2,t,e)}function Ld(t,e){return Si(4,4,t,e)}function Rd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function zd(t,e,r){return r=r!=null?r.concat([t]):null,Si(4,4,Rd.bind(null,e,t),r)}function ua(){}function Id(t,e){var r=He();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&oa(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function $d(t,e){var r=He();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&oa(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Md(t,e,r){return ir&21?(Xe(r,e)||(r=Hu(),G.lanes|=r,or|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Se=!0),t.memoizedState=r)}function Hp(t,e){var r=U;U=r!==0&&4>r?r:4,t(!0);var n=lo.transition;lo.transition={};try{t(!1),e()}finally{U=r,lo.transition=n}}function Dd(){return He().memoizedState}function Wp(t,e,r){var n=Rt(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Ud(t))Fd(e,r);else if(r=bd(t,e,r,n),r!==null){var s=we();Ye(r,t,n,s),Bd(r,e,n)}}function qp(t,e,r){var n=Rt(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ud(t))Fd(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var l=e.lastRenderedState,a=i(l,r);if(s.hasEagerState=!0,s.eagerState=a,Xe(a,l)){var c=e.interleaved;c===null?(s.next=s,ta(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=bd(t,e,s,n),r!==null&&(s=we(),Ye(r,t,n,s),Bd(r,e,n))}}function Ud(t){var e=t.alternate;return t===G||e!==null&&e===G}function Fd(t,e){_n=si=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Bd(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Fl(t,r)}}var ii={readContext:Be,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useInsertionEffect:he,useLayoutEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useMutableSource:he,useSyncExternalStore:he,useId:he,unstable_isNewReconciler:!1},Vp={readContext:Be,useCallback:function(t,e){return et().memoizedState=[t,e===void 0?null:e],t},useContext:Be,useEffect:vc,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Is(4194308,4,Rd.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Is(4194308,4,t,e)},useInsertionEffect:function(t,e){return Is(4,2,t,e)},useMemo:function(t,e){var r=et();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=et();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Wp.bind(null,G,t),[n.memoizedState,t]},useRef:function(t){var e=et();return t={current:t},e.memoizedState=t},useState:yc,useDebugValue:ua,useDeferredValue:function(t){return et().memoizedState=t},useTransition:function(){var t=yc(!1),e=t[0];return t=Hp.bind(null,t[1]),et().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=G,s=et();if(J){if(r===void 0)throw Error(E(407));r=r()}else{if(r=e(),ae===null)throw Error(E(349));ir&30||Nd(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,vc(Ed.bind(null,n,i,t),[t]),n.flags|=2048,qn(9,Cd.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=et(),e=ae.identifierPrefix;if(J){var r=dt,n=ut;r=(n&~(1<<32-Qe(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Hn++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Bp++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Jp={readContext:Be,useCallback:Id,useContext:Be,useEffect:ca,useImperativeHandle:zd,useInsertionEffect:Ad,useLayoutEffect:Ld,useMemo:$d,useReducer:ao,useRef:Od,useState:function(){return ao(Wn)},useDebugValue:ua,useDeferredValue:function(t){var e=He();return Md(e,se.memoizedState,t)},useTransition:function(){var t=ao(Wn)[0],e=He().memoizedState;return[t,e]},useMutableSource:kd,useSyncExternalStore:Sd,useId:Dd,unstable_isNewReconciler:!1},Kp={readContext:Be,useCallback:Id,useContext:Be,useEffect:ca,useImperativeHandle:zd,useInsertionEffect:Ad,useLayoutEffect:Ld,useMemo:$d,useReducer:co,useRef:Od,useState:function(){return co(Wn)},useDebugValue:ua,useDeferredValue:function(t){var e=He();return se===null?e.memoizedState=t:Md(e,se.memoizedState,t)},useTransition:function(){var t=co(Wn)[0],e=He().memoizedState;return[t,e]},useMutableSource:kd,useSyncExternalStore:Sd,useId:Dd,unstable_isNewReconciler:!1};function Ve(t,e){if(t&&t.defaultProps){e=Q({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function el(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Q({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Ni={isMounted:function(t){return(t=t._reactInternals)?cr(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=we(),s=Rt(t),i=ht(n,s);i.payload=e,r!=null&&(i.callback=r),e=At(t,i,s),e!==null&&(Ye(e,t,s,n),Rs(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=we(),s=Rt(t),i=ht(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=At(t,i,s),e!==null&&(Ye(e,t,s,n),Rs(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=we(),n=Rt(t),s=ht(r,n);s.tag=2,e!=null&&(s.callback=e),e=At(t,s,n),e!==null&&(Ye(e,t,n,r),Rs(e,t,n))}};function xc(t,e,r,n,s,i,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,l):e.prototype&&e.prototype.isPureReactComponent?!$n(r,n)||!$n(s,i):!0}function Hd(t,e,r){var n=!1,s=$t,i=e.contextType;return typeof i=="object"&&i!==null?i=Be(i):(s=Ce(e)?nr:me.current,n=e.contextTypes,i=(n=n!=null)?Br(t,s):$t),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ni,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function wc(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Ni.enqueueReplaceState(e,e.state,null)}function tl(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},ra(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Be(i):(i=Ce(e)?nr:me.current,s.context=Br(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(el(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ni.enqueueReplaceState(s,s.state,null),ri(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Vr(t,e){try{var r="",n=e;do r+=_f(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function uo(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function rl(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Gp=typeof WeakMap=="function"?WeakMap:Map;function Wd(t,e,r){r=ht(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){li||(li=!0,hl=n),rl(t,e)},r}function qd(t,e,r){r=ht(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){rl(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){rl(t,e),typeof n!="function"&&(Lt===null?Lt=new Set([this]):Lt.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),r}function bc(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Gp;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=cm.bind(null,t,e,r),e.then(t,t))}function _c(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function jc(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ht(-1,1),e.tag=2,At(r,e,1))),r.lanes|=1),t)}var Qp=yt.ReactCurrentOwner,Se=!1;function xe(t,e,r,n){e.child=t===null?wd(e,null,r,n):Wr(e,t.child,r,n)}function kc(t,e,r,n,s){r=r.render;var i=e.ref;return Mr(e,s),n=la(t,e,r,n,i,s),r=aa(),t!==null&&!Se?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,gt(t,e,s)):(J&&r&&Gl(e),e.flags|=1,xe(t,e,n,s),e.child)}function Sc(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!va(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Vd(t,e,i,n,s)):(t=Us(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var l=i.memoizedProps;if(r=r.compare,r=r!==null?r:$n,r(l,n)&&t.ref===e.ref)return gt(t,e,s)}return e.flags|=1,t=zt(i,n),t.ref=e.ref,t.return=e,e.child=t}function Vd(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if($n(i,n)&&t.ref===e.ref)if(Se=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Se=!0);else return e.lanes=t.lanes,gt(t,e,s)}return nl(t,e,r,n,s)}function Jd(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},W(Lr,Pe),Pe|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,W(Lr,Pe),Pe|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,W(Lr,Pe),Pe|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,W(Lr,Pe),Pe|=n;return xe(t,e,s,r),e.child}function Kd(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function nl(t,e,r,n,s){var i=Ce(r)?nr:me.current;return i=Br(e,i),Mr(e,s),r=la(t,e,r,n,i,s),n=aa(),t!==null&&!Se?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,gt(t,e,s)):(J&&n&&Gl(e),e.flags|=1,xe(t,e,r,s),e.child)}function Nc(t,e,r,n,s){if(Ce(r)){var i=!0;Ys(e)}else i=!1;if(Mr(e,s),e.stateNode===null)$s(t,e),Hd(e,r,n),tl(e,r,n,s),n=!0;else if(t===null){var l=e.stateNode,a=e.memoizedProps;l.props=a;var c=l.context,u=r.contextType;typeof u=="object"&&u!==null?u=Be(u):(u=Ce(r)?nr:me.current,u=Br(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==n||c!==u)&&wc(e,l,n,u),_t=!1;var f=e.memoizedState;l.state=f,ri(e,n,l,s),c=e.memoizedState,a!==n||f!==c||Ne.current||_t?(typeof d=="function"&&(el(e,r,d,n),c=e.memoizedState),(a=_t||xc(e,r,a,n,f,c,u))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),l.props=n,l.state=c,l.context=u,n=a):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{l=e.stateNode,_d(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Ve(e.type,a),l.props=u,h=e.pendingProps,f=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=Be(c):(c=Ce(r)?nr:me.current,c=Br(e,c));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==h||f!==c)&&wc(e,l,n,c),_t=!1,f=e.memoizedState,l.state=f,ri(e,n,l,s);var m=e.memoizedState;a!==h||f!==m||Ne.current||_t?(typeof v=="function"&&(el(e,r,v,n),m=e.memoizedState),(u=_t||xc(e,r,u,n,f,m,c)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,m,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,m,c)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),l.props=n,l.state=m,l.context=c,n=u):(typeof l.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return sl(t,e,r,n,i,s)}function sl(t,e,r,n,s,i){Kd(t,e);var l=(e.flags&128)!==0;if(!n&&!l)return s&&dc(e,r,!1),gt(t,e,i);n=e.stateNode,Qp.current=e;var a=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&l?(e.child=Wr(e,t.child,null,i),e.child=Wr(e,null,a,i)):xe(t,e,a,i),e.memoizedState=n.state,s&&dc(e,r,!0),e.child}function Gd(t){var e=t.stateNode;e.pendingContext?uc(t,e.pendingContext,e.pendingContext!==e.context):e.context&&uc(t,e.context,!1),na(t,e.containerInfo)}function Cc(t,e,r,n,s){return Hr(),Yl(s),e.flags|=256,xe(t,e,r,n),e.child}var il={dehydrated:null,treeContext:null,retryLane:0};function ol(t){return{baseLanes:t,cachePool:null,transitions:null}}function Qd(t,e,r){var n=e.pendingProps,s=K.current,i=!1,l=(e.flags&128)!==0,a;if((a=l)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),W(K,s&1),t===null)return Xo(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=n.children,t=n.fallback,i?(n=e.mode,i=e.child,l={mode:"hidden",children:l},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Ti(l,n,0,null),t=rr(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ol(r),e.memoizedState=il,t):da(e,l));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Yp(t,e,l,n,a,s,r);if(i){i=n.fallback,l=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=zt(s,c),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=zt(a,i):(i=rr(i,l,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,l=t.child.memoizedState,l=l===null?ol(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=t.childLanes&~r,e.memoizedState=il,n}return i=t.child,t=i.sibling,n=zt(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function da(t,e){return e=Ti({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ws(t,e,r,n){return n!==null&&Yl(n),Wr(e,t.child,null,r),t=da(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Yp(t,e,r,n,s,i,l){if(r)return e.flags&256?(e.flags&=-257,n=uo(Error(E(422))),ws(t,e,l,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Ti({mode:"visible",children:n.children},s,0,null),i=rr(i,s,l,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Wr(e,t.child,null,l),e.child.memoizedState=ol(l),e.memoizedState=il,i);if(!(e.mode&1))return ws(t,e,l,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(E(419)),n=uo(i,n,void 0),ws(t,e,l,n)}if(a=(l&t.childLanes)!==0,Se||a){if(n=ae,n!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|l)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,mt(t,s),Ye(n,t,s,-1))}return ya(),n=uo(Error(E(421))),ws(t,e,l,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=um.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Oe=Ot(s.nextSibling),Ae=e,J=!0,Ge=null,t!==null&&(Ie[$e++]=ut,Ie[$e++]=dt,Ie[$e++]=sr,ut=t.id,dt=t.overflow,sr=e),e=da(e,n.children),e.flags|=4096,e)}function Ec(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Zo(t.return,e,r)}function ho(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Yd(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(xe(t,e,n.children,r),n=K.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ec(t,r,e);else if(t.tag===19)Ec(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(W(K,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&ni(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),ho(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ni(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}ho(e,!0,r,null,i);break;case"together":ho(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $s(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function gt(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),or|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,r=zt(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=zt(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Xp(t,e,r){switch(e.tag){case 3:Gd(e),Hr();break;case 5:jd(e);break;case 1:Ce(e.type)&&Ys(e);break;case 4:na(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;W(ei,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(W(K,K.current&1),e.flags|=128,null):r&e.child.childLanes?Qd(t,e,r):(W(K,K.current&1),t=gt(t,e,r),t!==null?t.sibling:null);W(K,K.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Yd(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),W(K,K.current),n)break;return null;case 22:case 23:return e.lanes=0,Jd(t,e,r)}return gt(t,e,r)}var Xd,ll,Zd,eh;Xd=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ll=function(){};Zd=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,er(st.current);var i=null;switch(r){case"input":s=To(t,s),n=To(t,n),i=[];break;case"select":s=Q({},s,{value:void 0}),n=Q({},n,{value:void 0}),i=[];break;case"textarea":s=Ao(t,s),n=Ao(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Gs)}Ro(r,n);var l;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(l in a)a.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Pn.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(l in a)!a.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&a[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Pn.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&q("scroll",t),i||a===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};eh=function(t,e,r,n){r!==n&&(e.flags|=4)};function cn(t,e){if(!J)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function fe(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Zp(t,e,r){var n=e.pendingProps;switch(Ql(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(e),null;case 1:return Ce(e.type)&&Qs(),fe(e),null;case 3:return n=e.stateNode,qr(),V(Ne),V(me),ia(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(vs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ge!==null&&(ml(Ge),Ge=null))),ll(t,e),fe(e),null;case 5:sa(e);var s=er(Bn.current);if(r=e.type,t!==null&&e.stateNode!=null)Zd(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(E(166));return fe(e),null}if(t=er(st.current),vs(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[rt]=e,n[Un]=i,t=(e.mode&1)!==0,r){case"dialog":q("cancel",n),q("close",n);break;case"iframe":case"object":case"embed":q("load",n);break;case"video":case"audio":for(s=0;s<mn.length;s++)q(mn[s],n);break;case"source":q("error",n);break;case"img":case"image":case"link":q("error",n),q("load",n);break;case"details":q("toggle",n);break;case"input":$a(n,i),q("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},q("invalid",n);break;case"textarea":Da(n,i),q("invalid",n)}Ro(r,i),s=null;for(var l in i)if(i.hasOwnProperty(l)){var a=i[l];l==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&ys(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ys(n.textContent,a,t),s=["children",""+a]):Pn.hasOwnProperty(l)&&a!=null&&l==="onScroll"&&q("scroll",n)}switch(r){case"input":cs(n),Ma(n,i,!0);break;case"textarea":cs(n),Ua(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Gs)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Eu(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=l.createElement(r,{is:n.is}):(t=l.createElement(r),r==="select"&&(l=t,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):t=l.createElementNS(t,r),t[rt]=e,t[Un]=n,Xd(t,e,!1,!1),e.stateNode=t;e:{switch(l=zo(r,n),r){case"dialog":q("cancel",t),q("close",t),s=n;break;case"iframe":case"object":case"embed":q("load",t),s=n;break;case"video":case"audio":for(s=0;s<mn.length;s++)q(mn[s],t);s=n;break;case"source":q("error",t),s=n;break;case"img":case"image":case"link":q("error",t),q("load",t),s=n;break;case"details":q("toggle",t),s=n;break;case"input":$a(t,n),s=To(t,n),q("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=Q({},n,{value:void 0}),q("invalid",t);break;case"textarea":Da(t,n),s=Ao(t,n),q("invalid",t);break;default:s=n}Ro(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?Ou(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Tu(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&On(t,c):typeof c=="number"&&On(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Pn.hasOwnProperty(i)?c!=null&&i==="onScroll"&&q("scroll",t):c!=null&&zl(t,i,c,l))}switch(r){case"input":cs(t),Ma(t,n,!1);break;case"textarea":cs(t),Ua(t);break;case"option":n.value!=null&&t.setAttribute("value",""+It(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Rr(t,!!n.multiple,i,!1):n.defaultValue!=null&&Rr(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Gs)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return fe(e),null;case 6:if(t&&e.stateNode!=null)eh(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(E(166));if(r=er(Bn.current),er(st.current),vs(e)){if(n=e.stateNode,r=e.memoizedProps,n[rt]=e,(i=n.nodeValue!==r)&&(t=Ae,t!==null))switch(t.tag){case 3:ys(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ys(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[rt]=e,e.stateNode=n}return fe(e),null;case 13:if(V(K),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(J&&Oe!==null&&e.mode&1&&!(e.flags&128))vd(),Hr(),e.flags|=98560,i=!1;else if(i=vs(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(E(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[rt]=e}else Hr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;fe(e),i=!1}else Ge!==null&&(ml(Ge),Ge=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||K.current&1?ie===0&&(ie=3):ya())),e.updateQueue!==null&&(e.flags|=4),fe(e),null);case 4:return qr(),ll(t,e),t===null&&Mn(e.stateNode.containerInfo),fe(e),null;case 10:return ea(e.type._context),fe(e),null;case 17:return Ce(e.type)&&Qs(),fe(e),null;case 19:if(V(K),i=e.memoizedState,i===null)return fe(e),null;if(n=(e.flags&128)!==0,l=i.rendering,l===null)if(n)cn(i,!1);else{if(ie!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=ni(t),l!==null){for(e.flags|=128,cn(i,!1),n=l.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,t=l.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return W(K,K.current&1|2),e.child}t=t.sibling}i.tail!==null&&ee()>Jr&&(e.flags|=128,n=!0,cn(i,!1),e.lanes=4194304)}else{if(!n)if(t=ni(l),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),cn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!J)return fe(e),null}else 2*ee()-i.renderingStartTime>Jr&&r!==1073741824&&(e.flags|=128,n=!0,cn(i,!1),e.lanes=4194304);i.isBackwards?(l.sibling=e.child,e.child=l):(r=i.last,r!==null?r.sibling=l:e.child=l,i.last=l)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ee(),e.sibling=null,r=K.current,W(K,n?r&1|2:r&1),e):(fe(e),null);case 22:case 23:return ga(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Pe&1073741824&&(fe(e),e.subtreeFlags&6&&(e.flags|=8192)):fe(e),null;case 24:return null;case 25:return null}throw Error(E(156,e.tag))}function em(t,e){switch(Ql(e),e.tag){case 1:return Ce(e.type)&&Qs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return qr(),V(Ne),V(me),ia(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return sa(e),null;case 13:if(V(K),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(E(340));Hr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return V(K),null;case 4:return qr(),null;case 10:return ea(e.type._context),null;case 22:case 23:return ga(),null;case 24:return null;default:return null}}var bs=!1,pe=!1,tm=typeof WeakSet=="function"?WeakSet:Set,O=null;function Ar(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Y(t,e,n)}else r.current=null}function al(t,e,r){try{r()}catch(n){Y(t,e,n)}}var Tc=!1;function rm(t,e){if(qo=Vs,t=id(),Kl(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var l=0,a=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var v;h!==r||s!==0&&h.nodeType!==3||(a=l+s),h!==i||n!==0&&h.nodeType!==3||(c=l+n),h.nodeType===3&&(l+=h.nodeValue.length),(v=h.firstChild)!==null;)f=h,h=v;for(;;){if(h===t)break t;if(f===r&&++u===s&&(a=l),f===i&&++d===n&&(c=l),(v=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=v}r=a===-1||c===-1?null:{start:a,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Vo={focusedElem:t,selectionRange:r},Vs=!1,O=e;O!==null;)if(e=O,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,O=t;else for(;O!==null;){e=O;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var _=m.memoizedProps,j=m.memoizedState,p=e.stateNode,g=p.getSnapshotBeforeUpdate(e.elementType===e.type?_:Ve(e.type,_),j);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(x){Y(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,O=t;break}O=e.return}return m=Tc,Tc=!1,m}function jn(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&al(e,r,i)}s=s.next}while(s!==n)}}function Ci(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function cl(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function th(t){var e=t.alternate;e!==null&&(t.alternate=null,th(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[rt],delete e[Un],delete e[Go],delete e[Mp],delete e[Dp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rh(t){return t.tag===5||t.tag===3||t.tag===4}function Pc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ul(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Gs));else if(n!==4&&(t=t.child,t!==null))for(ul(t,e,r),t=t.sibling;t!==null;)ul(t,e,r),t=t.sibling}function dl(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(dl(t,e,r),t=t.sibling;t!==null;)dl(t,e,r),t=t.sibling}var ce=null,Je=!1;function vt(t,e,r){for(r=r.child;r!==null;)nh(t,e,r),r=r.sibling}function nh(t,e,r){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(xi,r)}catch{}switch(r.tag){case 5:pe||Ar(r,e);case 6:var n=ce,s=Je;ce=null,vt(t,e,r),ce=n,Je=s,ce!==null&&(Je?(t=ce,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ce.removeChild(r.stateNode));break;case 18:ce!==null&&(Je?(t=ce,r=r.stateNode,t.nodeType===8?so(t.parentNode,r):t.nodeType===1&&so(t,r),zn(t)):so(ce,r.stateNode));break;case 4:n=ce,s=Je,ce=r.stateNode.containerInfo,Je=!0,vt(t,e,r),ce=n,Je=s;break;case 0:case 11:case 14:case 15:if(!pe&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&al(r,e,l),s=s.next}while(s!==n)}vt(t,e,r);break;case 1:if(!pe&&(Ar(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Y(r,e,a)}vt(t,e,r);break;case 21:vt(t,e,r);break;case 22:r.mode&1?(pe=(n=pe)||r.memoizedState!==null,vt(t,e,r),pe=n):vt(t,e,r);break;default:vt(t,e,r)}}function Oc(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new tm),e.forEach(function(n){var s=dm.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function We(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,l=e,a=l;e:for(;a!==null;){switch(a.tag){case 5:ce=a.stateNode,Je=!1;break e;case 3:ce=a.stateNode.containerInfo,Je=!0;break e;case 4:ce=a.stateNode.containerInfo,Je=!0;break e}a=a.return}if(ce===null)throw Error(E(160));nh(i,l,s),ce=null,Je=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Y(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)sh(e,t),e=e.sibling}function sh(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(We(e,t),Ze(t),n&4){try{jn(3,t,t.return),Ci(3,t)}catch(_){Y(t,t.return,_)}try{jn(5,t,t.return)}catch(_){Y(t,t.return,_)}}break;case 1:We(e,t),Ze(t),n&512&&r!==null&&Ar(r,r.return);break;case 5:if(We(e,t),Ze(t),n&512&&r!==null&&Ar(r,r.return),t.flags&32){var s=t.stateNode;try{On(s,"")}catch(_){Y(t,t.return,_)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,l=r!==null?r.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Nu(s,i),zo(a,l);var u=zo(a,i);for(l=0;l<c.length;l+=2){var d=c[l],h=c[l+1];d==="style"?Ou(s,h):d==="dangerouslySetInnerHTML"?Tu(s,h):d==="children"?On(s,h):zl(s,d,h,u)}switch(a){case"input":Po(s,i);break;case"textarea":Cu(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Rr(s,!!i.multiple,v,!1):f!==!!i.multiple&&(i.defaultValue!=null?Rr(s,!!i.multiple,i.defaultValue,!0):Rr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Un]=i}catch(_){Y(t,t.return,_)}}break;case 6:if(We(e,t),Ze(t),n&4){if(t.stateNode===null)throw Error(E(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){Y(t,t.return,_)}}break;case 3:if(We(e,t),Ze(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{zn(e.containerInfo)}catch(_){Y(t,t.return,_)}break;case 4:We(e,t),Ze(t);break;case 13:We(e,t),Ze(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(pa=ee())),n&4&&Oc(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(pe=(u=pe)||d,We(e,t),pe=u):We(e,t),Ze(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(O=t,d=t.child;d!==null;){for(h=O=d;O!==null;){switch(f=O,v=f.child,f.tag){case 0:case 11:case 14:case 15:jn(4,f,f.return);break;case 1:Ar(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(_){Y(n,r,_)}}break;case 5:Ar(f,f.return);break;case 22:if(f.memoizedState!==null){Lc(h);continue}}v!==null?(v.return=f,O=v):Lc(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,c=h.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Pu("display",l))}catch(_){Y(t,t.return,_)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){Y(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:We(e,t),Ze(t),n&4&&Oc(t);break;case 21:break;default:We(e,t),Ze(t)}}function Ze(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(rh(r)){var n=r;break e}r=r.return}throw Error(E(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(On(s,""),n.flags&=-33);var i=Pc(t);dl(t,i,s);break;case 3:case 4:var l=n.stateNode.containerInfo,a=Pc(t);ul(t,a,l);break;default:throw Error(E(161))}}catch(c){Y(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function nm(t,e,r){O=t,ih(t)}function ih(t,e,r){for(var n=(t.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&n){var l=s.memoizedState!==null||bs;if(!l){var a=s.alternate,c=a!==null&&a.memoizedState!==null||pe;a=bs;var u=pe;if(bs=l,(pe=c)&&!u)for(O=s;O!==null;)l=O,c=l.child,l.tag===22&&l.memoizedState!==null?Rc(s):c!==null?(c.return=l,O=c):Rc(s);for(;i!==null;)O=i,ih(i),i=i.sibling;O=s,bs=a,pe=u}Ac(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):Ac(t)}}function Ac(t){for(;O!==null;){var e=O;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:pe||Ci(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!pe)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Ve(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&gc(e,i,n);break;case 3:var l=e.updateQueue;if(l!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}gc(e,l,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&zn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}pe||e.flags&512&&cl(e)}catch(f){Y(e,e.return,f)}}if(e===t){O=null;break}if(r=e.sibling,r!==null){r.return=e.return,O=r;break}O=e.return}}function Lc(t){for(;O!==null;){var e=O;if(e===t){O=null;break}var r=e.sibling;if(r!==null){r.return=e.return,O=r;break}O=e.return}}function Rc(t){for(;O!==null;){var e=O;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Ci(4,e)}catch(c){Y(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){Y(e,s,c)}}var i=e.return;try{cl(e)}catch(c){Y(e,i,c)}break;case 5:var l=e.return;try{cl(e)}catch(c){Y(e,l,c)}}}catch(c){Y(e,e.return,c)}if(e===t){O=null;break}var a=e.sibling;if(a!==null){a.return=e.return,O=a;break}O=e.return}}var sm=Math.ceil,oi=yt.ReactCurrentDispatcher,ha=yt.ReactCurrentOwner,Ue=yt.ReactCurrentBatchConfig,D=0,ae=null,te=null,ue=0,Pe=0,Lr=Ft(0),ie=0,Vn=null,or=0,Ei=0,fa=0,kn=null,je=null,pa=0,Jr=1/0,lt=null,li=!1,hl=null,Lt=null,_s=!1,Ct=null,ai=0,Sn=0,fl=null,Ms=-1,Ds=0;function we(){return D&6?ee():Ms!==-1?Ms:Ms=ee()}function Rt(t){return t.mode&1?D&2&&ue!==0?ue&-ue:Fp.transition!==null?(Ds===0&&(Ds=Hu()),Ds):(t=U,t!==0||(t=window.event,t=t===void 0?16:Qu(t.type)),t):1}function Ye(t,e,r,n){if(50<Sn)throw Sn=0,fl=null,Error(E(185));Xn(t,r,n),(!(D&2)||t!==ae)&&(t===ae&&(!(D&2)&&(Ei|=r),ie===4&&kt(t,ue)),Ee(t,n),r===1&&D===0&&!(e.mode&1)&&(Jr=ee()+500,ki&&Bt()))}function Ee(t,e){var r=t.callbackNode;Ff(t,e);var n=qs(t,t===ae?ue:0);if(n===0)r!==null&&Ha(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Ha(r),e===1)t.tag===0?Up(zc.bind(null,t)):md(zc.bind(null,t)),Ip(function(){!(D&6)&&Bt()}),r=null;else{switch(Wu(n)){case 1:r=Ul;break;case 4:r=Fu;break;case 16:r=Ws;break;case 536870912:r=Bu;break;default:r=Ws}r=fh(r,oh.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function oh(t,e){if(Ms=-1,Ds=0,D&6)throw Error(E(327));var r=t.callbackNode;if(Dr()&&t.callbackNode!==r)return null;var n=qs(t,t===ae?ue:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ci(t,n);else{e=n;var s=D;D|=2;var i=ah();(ae!==t||ue!==e)&&(lt=null,Jr=ee()+500,tr(t,e));do try{lm();break}catch(a){lh(t,a)}while(!0);Zl(),oi.current=i,D=s,te!==null?e=0:(ae=null,ue=0,e=ie)}if(e!==0){if(e===2&&(s=Uo(t),s!==0&&(n=s,e=pl(t,s))),e===1)throw r=Vn,tr(t,0),kt(t,n),Ee(t,ee()),r;if(e===6)kt(t,n);else{if(s=t.current.alternate,!(n&30)&&!im(s)&&(e=ci(t,n),e===2&&(i=Uo(t),i!==0&&(n=i,e=pl(t,i))),e===1))throw r=Vn,tr(t,0),kt(t,n),Ee(t,ee()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(E(345));case 2:Gt(t,je,lt);break;case 3:if(kt(t,n),(n&130023424)===n&&(e=pa+500-ee(),10<e)){if(qs(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){we(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ko(Gt.bind(null,t,je,lt),e);break}Gt(t,je,lt);break;case 4:if(kt(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var l=31-Qe(n);i=1<<l,l=e[l],l>s&&(s=l),n&=~i}if(n=s,n=ee()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*sm(n/1960))-n,10<n){t.timeoutHandle=Ko(Gt.bind(null,t,je,lt),n);break}Gt(t,je,lt);break;case 5:Gt(t,je,lt);break;default:throw Error(E(329))}}}return Ee(t,ee()),t.callbackNode===r?oh.bind(null,t):null}function pl(t,e){var r=kn;return t.current.memoizedState.isDehydrated&&(tr(t,e).flags|=256),t=ci(t,e),t!==2&&(e=je,je=r,e!==null&&ml(e)),t}function ml(t){je===null?je=t:je.push.apply(je,t)}function im(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Xe(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function kt(t,e){for(e&=~fa,e&=~Ei,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Qe(e),n=1<<r;t[r]=-1,e&=~n}}function zc(t){if(D&6)throw Error(E(327));Dr();var e=qs(t,0);if(!(e&1))return Ee(t,ee()),null;var r=ci(t,e);if(t.tag!==0&&r===2){var n=Uo(t);n!==0&&(e=n,r=pl(t,n))}if(r===1)throw r=Vn,tr(t,0),kt(t,e),Ee(t,ee()),r;if(r===6)throw Error(E(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gt(t,je,lt),Ee(t,ee()),null}function ma(t,e){var r=D;D|=1;try{return t(e)}finally{D=r,D===0&&(Jr=ee()+500,ki&&Bt())}}function lr(t){Ct!==null&&Ct.tag===0&&!(D&6)&&Dr();var e=D;D|=1;var r=Ue.transition,n=U;try{if(Ue.transition=null,U=1,t)return t()}finally{U=n,Ue.transition=r,D=e,!(D&6)&&Bt()}}function ga(){Pe=Lr.current,V(Lr)}function tr(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,zp(r)),te!==null)for(r=te.return;r!==null;){var n=r;switch(Ql(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Qs();break;case 3:qr(),V(Ne),V(me),ia();break;case 5:sa(n);break;case 4:qr();break;case 13:V(K);break;case 19:V(K);break;case 10:ea(n.type._context);break;case 22:case 23:ga()}r=r.return}if(ae=t,te=t=zt(t.current,null),ue=Pe=e,ie=0,Vn=null,fa=Ei=or=0,je=kn=null,Zt!==null){for(e=0;e<Zt.length;e++)if(r=Zt[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var l=i.next;i.next=s,n.next=l}r.pending=n}Zt=null}return t}function lh(t,e){do{var r=te;try{if(Zl(),zs.current=ii,si){for(var n=G.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}si=!1}if(ir=0,le=se=G=null,_n=!1,Hn=0,ha.current=null,r===null||r.return===null){ie=1,Vn=e,te=null;break}e:{var i=t,l=r.return,a=r,c=e;if(e=ue,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=_c(l);if(v!==null){v.flags&=-257,jc(v,l,a,i,e),v.mode&1&&bc(i,u,e),e=v,c=u;var m=e.updateQueue;if(m===null){var _=new Set;_.add(c),e.updateQueue=_}else m.add(c);break e}else{if(!(e&1)){bc(i,u,e),ya();break e}c=Error(E(426))}}else if(J&&a.mode&1){var j=_c(l);if(j!==null){!(j.flags&65536)&&(j.flags|=256),jc(j,l,a,i,e),Yl(Vr(c,a));break e}}i=c=Vr(c,a),ie!==4&&(ie=2),kn===null?kn=[i]:kn.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var p=Wd(i,c,e);mc(i,p);break e;case 1:a=c;var g=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Lt===null||!Lt.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=qd(i,a,e);mc(i,x);break e}}i=i.return}while(i!==null)}uh(r)}catch(b){e=b,te===r&&r!==null&&(te=r=r.return);continue}break}while(!0)}function ah(){var t=oi.current;return oi.current=ii,t===null?ii:t}function ya(){(ie===0||ie===3||ie===2)&&(ie=4),ae===null||!(or&268435455)&&!(Ei&268435455)||kt(ae,ue)}function ci(t,e){var r=D;D|=2;var n=ah();(ae!==t||ue!==e)&&(lt=null,tr(t,e));do try{om();break}catch(s){lh(t,s)}while(!0);if(Zl(),D=r,oi.current=n,te!==null)throw Error(E(261));return ae=null,ue=0,ie}function om(){for(;te!==null;)ch(te)}function lm(){for(;te!==null&&!Af();)ch(te)}function ch(t){var e=hh(t.alternate,t,Pe);t.memoizedProps=t.pendingProps,e===null?uh(t):te=e,ha.current=null}function uh(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=em(r,e),r!==null){r.flags&=32767,te=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ie=6,te=null;return}}else if(r=Zp(r,e,Pe),r!==null){te=r;return}if(e=e.sibling,e!==null){te=e;return}te=e=t}while(e!==null);ie===0&&(ie=5)}function Gt(t,e,r){var n=U,s=Ue.transition;try{Ue.transition=null,U=1,am(t,e,r,n)}finally{Ue.transition=s,U=n}return null}function am(t,e,r,n){do Dr();while(Ct!==null);if(D&6)throw Error(E(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(E(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(Bf(t,i),t===ae&&(te=ae=null,ue=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||_s||(_s=!0,fh(Ws,function(){return Dr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ue.transition,Ue.transition=null;var l=U;U=1;var a=D;D|=4,ha.current=null,rm(t,r),sh(r,t),Ep(Vo),Vs=!!qo,Vo=qo=null,t.current=r,nm(r),Lf(),D=a,U=l,Ue.transition=i}else t.current=r;if(_s&&(_s=!1,Ct=t,ai=s),i=t.pendingLanes,i===0&&(Lt=null),If(r.stateNode),Ee(t,ee()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(li)throw li=!1,t=hl,hl=null,t;return ai&1&&t.tag!==0&&Dr(),i=t.pendingLanes,i&1?t===fl?Sn++:(Sn=0,fl=t):Sn=0,Bt(),null}function Dr(){if(Ct!==null){var t=Wu(ai),e=Ue.transition,r=U;try{if(Ue.transition=null,U=16>t?16:t,Ct===null)var n=!1;else{if(t=Ct,Ct=null,ai=0,D&6)throw Error(E(331));var s=D;for(D|=4,O=t.current;O!==null;){var i=O,l=i.child;if(O.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(O=u;O!==null;){var d=O;switch(d.tag){case 0:case 11:case 15:jn(8,d,i)}var h=d.child;if(h!==null)h.return=d,O=h;else for(;O!==null;){d=O;var f=d.sibling,v=d.return;if(th(d),d===u){O=null;break}if(f!==null){f.return=v,O=f;break}O=v}}}var m=i.alternate;if(m!==null){var _=m.child;if(_!==null){m.child=null;do{var j=_.sibling;_.sibling=null,_=j}while(_!==null)}}O=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,O=l;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:jn(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,O=p;break e}O=i.return}}var g=t.current;for(O=g;O!==null;){l=O;var y=l.child;if(l.subtreeFlags&2064&&y!==null)y.return=l,O=y;else e:for(l=g;O!==null;){if(a=O,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ci(9,a)}}catch(b){Y(a,a.return,b)}if(a===l){O=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,O=x;break e}O=a.return}}if(D=s,Bt(),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(xi,t)}catch{}n=!0}return n}finally{U=r,Ue.transition=e}}return!1}function Ic(t,e,r){e=Vr(r,e),e=Wd(t,e,1),t=At(t,e,1),e=we(),t!==null&&(Xn(t,1,e),Ee(t,e))}function Y(t,e,r){if(t.tag===3)Ic(t,t,r);else for(;e!==null;){if(e.tag===3){Ic(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Lt===null||!Lt.has(n))){t=Vr(r,t),t=qd(e,t,1),e=At(e,t,1),t=we(),e!==null&&(Xn(e,1,t),Ee(e,t));break}}e=e.return}}function cm(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=we(),t.pingedLanes|=t.suspendedLanes&r,ae===t&&(ue&r)===r&&(ie===4||ie===3&&(ue&130023424)===ue&&500>ee()-pa?tr(t,0):fa|=r),Ee(t,e)}function dh(t,e){e===0&&(t.mode&1?(e=hs,hs<<=1,!(hs&130023424)&&(hs=4194304)):e=1);var r=we();t=mt(t,e),t!==null&&(Xn(t,e,r),Ee(t,r))}function um(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),dh(t,r)}function dm(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(E(314))}n!==null&&n.delete(e),dh(t,r)}var hh;hh=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ne.current)Se=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Se=!1,Xp(t,e,r);Se=!!(t.flags&131072)}else Se=!1,J&&e.flags&1048576&&gd(e,Zs,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;$s(t,e),t=e.pendingProps;var s=Br(e,me.current);Mr(e,r),s=la(null,e,n,t,s,r);var i=aa();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ce(n)?(i=!0,Ys(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ra(e),s.updater=Ni,e.stateNode=s,s._reactInternals=e,tl(e,n,t,r),e=sl(null,e,n,!0,i,r)):(e.tag=0,J&&i&&Gl(e),xe(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch($s(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=fm(n),t=Ve(n,t),s){case 0:e=nl(null,e,n,t,r);break e;case 1:e=Nc(null,e,n,t,r);break e;case 11:e=kc(null,e,n,t,r);break e;case 14:e=Sc(null,e,n,Ve(n.type,t),r);break e}throw Error(E(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ve(n,s),nl(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ve(n,s),Nc(t,e,n,s,r);case 3:e:{if(Gd(e),t===null)throw Error(E(387));n=e.pendingProps,i=e.memoizedState,s=i.element,_d(t,e),ri(e,n,null,r);var l=e.memoizedState;if(n=l.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Vr(Error(E(423)),e),e=Cc(t,e,n,r,s);break e}else if(n!==s){s=Vr(Error(E(424)),e),e=Cc(t,e,n,r,s);break e}else for(Oe=Ot(e.stateNode.containerInfo.firstChild),Ae=e,J=!0,Ge=null,r=wd(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Hr(),n===s){e=gt(t,e,r);break e}xe(t,e,n,r)}e=e.child}return e;case 5:return jd(e),t===null&&Xo(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,l=s.children,Jo(n,s)?l=null:i!==null&&Jo(n,i)&&(e.flags|=32),Kd(t,e),xe(t,e,l,r),e.child;case 6:return t===null&&Xo(e),null;case 13:return Qd(t,e,r);case 4:return na(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Wr(e,null,n,r):xe(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ve(n,s),kc(t,e,n,s,r);case 7:return xe(t,e,e.pendingProps,r),e.child;case 8:return xe(t,e,e.pendingProps.children,r),e.child;case 12:return xe(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,l=s.value,W(ei,n._currentValue),n._currentValue=l,i!==null)if(Xe(i.value,l)){if(i.children===s.children&&!Ne.current){e=gt(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){l=i.child;for(var c=a.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=ht(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Zo(i.return,r,e),a.lanes|=r;break}c=c.next}}else if(i.tag===10)l=i.type===e.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(E(341));l.lanes|=r,a=l.alternate,a!==null&&(a.lanes|=r),Zo(l,r,e),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===e){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}xe(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Mr(e,r),s=Be(s),n=n(s),e.flags|=1,xe(t,e,n,r),e.child;case 14:return n=e.type,s=Ve(n,e.pendingProps),s=Ve(n.type,s),Sc(t,e,n,s,r);case 15:return Vd(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ve(n,s),$s(t,e),e.tag=1,Ce(n)?(t=!0,Ys(e)):t=!1,Mr(e,r),Hd(e,n,s),tl(e,n,s,r),sl(null,e,n,!0,t,r);case 19:return Yd(t,e,r);case 22:return Jd(t,e,r)}throw Error(E(156,e.tag))};function fh(t,e){return Uu(t,e)}function hm(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function De(t,e,r,n){return new hm(t,e,r,n)}function va(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fm(t){if(typeof t=="function")return va(t)?1:0;if(t!=null){if(t=t.$$typeof,t===$l)return 11;if(t===Ml)return 14}return 2}function zt(t,e){var r=t.alternate;return r===null?(r=De(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Us(t,e,r,n,s,i){var l=2;if(n=t,typeof t=="function")va(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case jr:return rr(r.children,s,i,e);case Il:l=8,s|=8;break;case So:return t=De(12,r,e,s|2),t.elementType=So,t.lanes=i,t;case No:return t=De(13,r,e,s),t.elementType=No,t.lanes=i,t;case Co:return t=De(19,r,e,s),t.elementType=Co,t.lanes=i,t;case ju:return Ti(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case bu:l=10;break e;case _u:l=9;break e;case $l:l=11;break e;case Ml:l=14;break e;case bt:l=16,n=null;break e}throw Error(E(130,t==null?t:typeof t,""))}return e=De(l,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function rr(t,e,r,n){return t=De(7,t,n,e),t.lanes=r,t}function Ti(t,e,r,n){return t=De(22,t,n,e),t.elementType=ju,t.lanes=r,t.stateNode={isHidden:!1},t}function fo(t,e,r){return t=De(6,t,null,e),t.lanes=r,t}function po(t,e,r){return e=De(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function pm(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ji(0),this.expirationTimes=Ji(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ji(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function xa(t,e,r,n,s,i,l,a,c){return t=new pm(t,e,r,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=De(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ra(i),t}function mm(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_r,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function ph(t){if(!t)return $t;t=t._reactInternals;e:{if(cr(t)!==t||t.tag!==1)throw Error(E(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ce(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(E(171))}if(t.tag===1){var r=t.type;if(Ce(r))return pd(t,r,e)}return e}function mh(t,e,r,n,s,i,l,a,c){return t=xa(r,n,!0,t,s,i,l,a,c),t.context=ph(null),r=t.current,n=we(),s=Rt(r),i=ht(n,s),i.callback=e??null,At(r,i,s),t.current.lanes=s,Xn(t,s,n),Ee(t,n),t}function Pi(t,e,r,n){var s=e.current,i=we(),l=Rt(s);return r=ph(r),e.context===null?e.context=r:e.pendingContext=r,e=ht(i,l),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=At(s,e,l),t!==null&&(Ye(t,s,l,i),Rs(t,s,l)),l}function ui(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $c(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function wa(t,e){$c(t,e),(t=t.alternate)&&$c(t,e)}function gm(){return null}var gh=typeof reportError=="function"?reportError:function(t){console.error(t)};function ba(t){this._internalRoot=t}Oi.prototype.render=ba.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(E(409));Pi(t,e,null,null)};Oi.prototype.unmount=ba.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;lr(function(){Pi(null,t,null,null)}),e[pt]=null}};function Oi(t){this._internalRoot=t}Oi.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ju();t={blockedOn:null,target:t,priority:e};for(var r=0;r<jt.length&&e!==0&&e<jt[r].priority;r++);jt.splice(r,0,t),r===0&&Gu(t)}};function _a(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ai(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Mc(){}function ym(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=ui(l);i.call(u)}}var l=mh(e,n,t,0,null,!1,!1,"",Mc);return t._reactRootContainer=l,t[pt]=l.current,Mn(t.nodeType===8?t.parentNode:t),lr(),l}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=ui(c);a.call(u)}}var c=xa(t,0,!1,null,null,!1,!1,"",Mc);return t._reactRootContainer=c,t[pt]=c.current,Mn(t.nodeType===8?t.parentNode:t),lr(function(){Pi(e,c,r,n)}),c}function Li(t,e,r,n,s){var i=r._reactRootContainer;if(i){var l=i;if(typeof s=="function"){var a=s;s=function(){var c=ui(l);a.call(c)}}Pi(e,l,t,s)}else l=ym(r,e,t,s,n);return ui(l)}qu=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=pn(e.pendingLanes);r!==0&&(Fl(e,r|1),Ee(e,ee()),!(D&6)&&(Jr=ee()+500,Bt()))}break;case 13:lr(function(){var n=mt(t,1);if(n!==null){var s=we();Ye(n,t,1,s)}}),wa(t,1)}};Bl=function(t){if(t.tag===13){var e=mt(t,134217728);if(e!==null){var r=we();Ye(e,t,134217728,r)}wa(t,134217728)}};Vu=function(t){if(t.tag===13){var e=Rt(t),r=mt(t,e);if(r!==null){var n=we();Ye(r,t,e,n)}wa(t,e)}};Ju=function(){return U};Ku=function(t,e){var r=U;try{return U=t,e()}finally{U=r}};$o=function(t,e,r){switch(e){case"input":if(Po(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=ji(n);if(!s)throw Error(E(90));Su(n),Po(n,s)}}}break;case"textarea":Cu(t,r);break;case"select":e=r.value,e!=null&&Rr(t,!!r.multiple,e,!1)}};Ru=ma;zu=lr;var vm={usingClientEntryPoint:!1,Events:[es,Cr,ji,Au,Lu,ma]},un={findFiberByHostInstance:Xt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xm={bundleType:un.bundleType,version:un.version,rendererPackageName:un.rendererPackageName,rendererConfig:un.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Mu(t),t===null?null:t.stateNode},findFiberByHostInstance:un.findFiberByHostInstance||gm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var js=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!js.isDisabled&&js.supportsFiber)try{xi=js.inject(xm),nt=js}catch{}}Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vm;Re.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_a(e))throw Error(E(200));return mm(t,e,null,r)};Re.createRoot=function(t,e){if(!_a(t))throw Error(E(299));var r=!1,n="",s=gh;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=xa(t,1,!1,null,null,r,!1,n,s),t[pt]=e.current,Mn(t.nodeType===8?t.parentNode:t),new ba(e)};Re.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):(t=Object.keys(t).join(","),Error(E(268,t)));return t=Mu(e),t=t===null?null:t.stateNode,t};Re.flushSync=function(t){return lr(t)};Re.hydrate=function(t,e,r){if(!Ai(e))throw Error(E(200));return Li(null,t,e,!0,r)};Re.hydrateRoot=function(t,e,r){if(!_a(t))throw Error(E(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",l=gh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),e=mh(e,null,t,1,r??null,s,!1,i,l),t[pt]=e.current,Mn(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Oi(e)};Re.render=function(t,e,r){if(!Ai(e))throw Error(E(200));return Li(null,t,e,!1,r)};Re.unmountComponentAtNode=function(t){if(!Ai(t))throw Error(E(40));return t._reactRootContainer?(lr(function(){Li(null,null,t,!1,function(){t._reactRootContainer=null,t[pt]=null})}),!0):!1};Re.unstable_batchedUpdates=ma;Re.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Ai(r))throw Error(E(200));if(t==null||t._reactInternals===void 0)throw Error(E(38));return Li(t,e,r,!1,n)};Re.version="18.3.1-next-f1338f8080-20240426";function yh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yh)}catch(t){console.error(t)}}yh(),yu.exports=Re;var wm=yu.exports,vh,Dc=wm;vh=Dc.createRoot,Dc.hydrateRoot;const bm="modulepreload",_m=function(t){return"/"+t},Uc={},rs=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),a=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=_m(c),c in Uc)return;Uc[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":bm,u||(h.as="script"),h.crossOrigin="",h.href=c,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,v)=>{h.addEventListener("load",f),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(l){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=l,window.dispatchEvent(a),!a.defaultPrevented)throw l}return s.then(l=>{for(const a of l||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},jm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>rs(async()=>{const{default:n}=await Promise.resolve().then(()=>en);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class ja extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class km extends ja{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Fc extends ja{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Bc extends ja{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var gl;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(gl||(gl={}));var Sm=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function a(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};class Nm{constructor(e,{headers:r={},customFetch:n,region:s=gl.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=jm(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return Sm(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:l}=r;let a={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${e}`);c&&c!=="any"&&(a["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=l):typeof l=="string"?(a["Content-Type"]="text/plain",d=l):typeof FormData<"u"&&l instanceof FormData?d=l:(a["Content-Type"]="application/json",d=JSON.stringify(l)));const h=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:d}).catch(_=>{throw new km(_)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new Fc(h);if(!h.ok)throw new Bc(h);let v=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return v==="application/json"?m=yield h.json():v==="application/octet-stream"?m=yield h.blob():v==="text/event-stream"?m=h:v==="multipart/form-data"?m=yield h.formData():m=yield h.text(),{data:m,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof Bc||s instanceof Fc?s.context:void 0}}})}}var ke={},ka={},Ri={},ns={},zi={},Ii={},Cm=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Kr=Cm();const Em=Kr.fetch,xh=Kr.fetch.bind(Kr),wh=Kr.Headers,Tm=Kr.Request,Pm=Kr.Response,en=Object.freeze(Object.defineProperty({__proto__:null,Headers:wh,Request:Tm,Response:Pm,default:xh,fetch:Em},Symbol.toStringTag,{value:"Module"})),Om=Jh(en);var $i={};Object.defineProperty($i,"__esModule",{value:!0});let Am=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};$i.default=Am;var bh=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ii,"__esModule",{value:!0});const Lm=bh(Om),Rm=bh($i);let zm=class{constructor(e){var r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(r=e.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Lm.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=new Headers(this.headers),this.headers.set(e,r),this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var l,a,c,u;let d=null,h=null,f=null,v=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((l=this.headers.get("Accept"))===null||l===void 0)&&l.includes("application/vnd.pgrst.plan+text"))?h=g:h=JSON.parse(g))}const j=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),p=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");j&&p&&p.length>1&&(f=parseInt(p[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,v=406,m="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const j=await i.text();try{d=JSON.parse(j),Array.isArray(d)&&i.status===404&&(h=[],d=null,v=200,m="OK")}catch{i.status===404&&j===""?(v=204,m="No Content"):d={message:j}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,v=200,m="OK"),d&&this.shouldThrowOnError)throw new Rm.default(d)}return{error:d,data:h,count:f,status:v,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var l,a,c;return{error:{message:`${(l=i==null?void 0:i.name)!==null&&l!==void 0?l:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};Ii.default=zm;var Im=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zi,"__esModule",{value:!0});const $m=Im(Ii);let Mm=class extends $m.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const l=i?`${i}.order`:"order",a=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${a?`${a},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(l,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:l="text"}={}){var a;const c=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${u}"; options=${c};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};zi.default=Mm;var Dm=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ns,"__esModule",{value:!0});const Um=Dm(zi);let Fm=class extends Um.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${l}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};ns.default=Fm;var Bm=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ri,"__esModule",{value:!0});const dn=Bm(ns);let Hm=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const l=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",l),n&&this.headers.append("Prefer",`count=${n}`),new dn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:r,defaultToNull:n=!0}={}){var s;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(l.length>0){const a=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new dn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){var l;const a="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new dn.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(e,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new dn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var r;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new dn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Ri.default=Hm;var _h=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ka,"__esModule",{value:!0});const Wm=_h(Ri),qm=_h(ns);let Vm=class jh{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new Wm.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new jh(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){var l;let a;const c=new URL(`${this.url}/rpc/${e}`);let u;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{c.searchParams.append(h,f)})):(a="POST",u=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new qm.default({method:a,url:c,headers:d,schema:this.schemaName,body:u,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};ka.default=Vm;var tn=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ke,"__esModule",{value:!0});ke.PostgrestError=ke.PostgrestBuilder=ke.PostgrestTransformBuilder=ke.PostgrestFilterBuilder=ke.PostgrestQueryBuilder=ke.PostgrestClient=void 0;const kh=tn(ka);ke.PostgrestClient=kh.default;const Sh=tn(Ri);ke.PostgrestQueryBuilder=Sh.default;const Nh=tn(ns);ke.PostgrestFilterBuilder=Nh.default;const Ch=tn(zi);ke.PostgrestTransformBuilder=Ch.default;const Eh=tn(Ii);ke.PostgrestBuilder=Eh.default;const Th=tn($i);ke.PostgrestError=Th.default;var Jm=ke.default={PostgrestClient:kh.default,PostgrestQueryBuilder:Sh.default,PostgrestFilterBuilder:Nh.default,PostgrestTransformBuilder:Ch.default,PostgrestBuilder:Eh.default,PostgrestError:Th.default};const{PostgrestClient:Km,PostgrestQueryBuilder:Fy,PostgrestFilterBuilder:By,PostgrestTransformBuilder:Hy,PostgrestBuilder:Wy,PostgrestError:qy}=Jm;class Gm{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Qm="2.15.5",Ym=`realtime-js/${Qm}`,Xm="1.0.0",yl=1e4,Zm=1e3,e0=100;var Nn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Nn||(Nn={}));var re;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(re||(re={}));var Ke;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ke||(Ke={}));var vl;(function(t){t.websocket="websocket"})(vl||(vl={}));var Yt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Yt||(Yt={}));class t0{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let l=this.HEADER_LENGTH+2;const a=n.decode(e.slice(l,l+s));l=l+s;const c=n.decode(e.slice(l,l+i));l=l+i;const u=JSON.parse(n.decode(e.slice(l,e.byteLength)));return{ref:null,topic:a,event:c,payload:u}}}class Ph{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var H;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(H||(H={}));const Hc=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,l)=>(i[l]=r0(l,t,e,s),i),{})},r0=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,l=r[t];return i&&!n.includes(i)?Oh(i,l):xl(l)},Oh=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return o0(e,r)}switch(t){case H.bool:return n0(e);case H.float4:case H.float8:case H.int2:case H.int4:case H.int8:case H.numeric:case H.oid:return s0(e);case H.json:case H.jsonb:return i0(e);case H.timestamp:return l0(e);case H.abstime:case H.date:case H.daterange:case H.int4range:case H.int8range:case H.money:case H.reltime:case H.text:case H.time:case H.timestamptz:case H.timetz:case H.tsrange:case H.tstzrange:return xl(e);default:return xl(e)}},xl=t=>t,n0=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},s0=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},i0=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},o0=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const l=t.slice(1,r);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(a=>Oh(e,a))}return t},l0=t=>typeof t=="string"?t.replace(" ","T"):t,Ah=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class mo{constructor(e,r,n={},s=yl){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Wc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Wc||(Wc={}));class Cn{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:l,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Cn.syncState(this.state,s,i,l),this.pendingDiffs.forEach(c=>{this.state=Cn.syncDiff(this.state,c,i,l)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:l,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Cn.syncDiff(this.state,s,i,l),a())}),this.onJoin((s,i,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:l})}),this.onLeave((s,i,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),l=this.transformState(r),a={},c={};return this.map(i,(u,d)=>{l[u]||(c[u]=d)}),this.map(l,(u,d)=>{const h=i[u];if(h){const f=d.map(j=>j.presence_ref),v=h.map(j=>j.presence_ref),m=d.filter(j=>v.indexOf(j.presence_ref)<0),_=h.filter(j=>f.indexOf(j.presence_ref)<0);m.length>0&&(a[u]=m),_.length>0&&(c[u]=_)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:c},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,c)=>{var u;const d=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(c),d.length>0){const h=e[a].map(v=>v.presence_ref),f=d.filter(v=>h.indexOf(v.presence_ref)<0);e[a].unshift(...f)}n(a,d,c)}),this.map(l,(a,c)=>{let u=e[a];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=u,s(a,u,c),u.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var qc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(qc||(qc={}));var En;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(En||(En={}));var at;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(at||(at={}));class Sa{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=re.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new mo(this,Ke.join,this.params,this.timeout),this.rejoinTimer=new Ph(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=re.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=re.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=re.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ke.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Cn(this),this.broadcastEndpointURL=Ah(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==re.closed){const{config:{broadcast:l,presence:a,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[En.PRESENCE]&&this.bindings[En.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:l,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(at.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(at.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var m;if(this.socket.setAuth(),v===void 0){e==null||e(at.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,j=(m=_==null?void 0:_.length)!==null&&m!==void 0?m:0,p=[];for(let g=0;g<j;g++){const y=_[g],{filter:{event:x,schema:b,table:k,filter:w}}=y,S=v&&v[g];if(S&&S.event===x&&S.schema===b&&S.table===k&&S.filter===w)p.push(Object.assign(Object.assign({},y),{id:S.id}));else{this.unsubscribe(),this.state=re.errored,e==null||e(at.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,e&&e(at.SUBSCRIBED);return}}).receive("error",v=>{this.state=re.errored,e==null||e(at.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(at.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===re.joined&&e===En.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:l}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:l,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var l,a,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(a=(l=this.params)===null||l===void 0?void 0:l.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=re.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ke.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new mo(this,Ke.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=re.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),l=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),l}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new mo(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>e0){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const l=e.toLocaleLowerCase(),{close:a,error:c,leave:u,join:d}=Ke;if(n&&[a,c,u,d].indexOf(l)>=0&&n!==this._joinRef())return;let f=this._onMessage(l,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var m,_,j;return((m=v.filter)===null||m===void 0?void 0:m.event)==="*"||((j=(_=v.filter)===null||_===void 0?void 0:_.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===l}).map(v=>v.callback(f,n)):(i=this.bindings[l])===null||i===void 0||i.filter(v=>{var m,_,j,p,g,y;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in v){const x=v.id,b=(m=v.filter)===null||m===void 0?void 0:m.event;return x&&((_=r.ids)===null||_===void 0?void 0:_.includes(x))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const x=(g=(p=v==null?void 0:v.filter)===null||p===void 0?void 0:p.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return x==="*"||x===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===l}).map(v=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:_,table:j,commit_timestamp:p,type:g,errors:y}=m;f=Object.assign(Object.assign({},{schema:_,table:j,commit_timestamp:p,eventType:g,new:{},old:{},errors:y}),this._getPayloadRecords(m))}v.callback(f,n)})}_isClosed(){return this.state===re.closed}_isJoined(){return this.state===re.joined}_isJoining(){return this.state===re.joining}_isLeaving(){return this.state===re.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Sa.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ke.close,{},e)}_onError(e){this._on(Ke.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=re.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Hc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Hc(e.columns,e.old_record)),r}}const go=()=>{},ks={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},a0=[1e3,2e3,5e3,1e4],c0=1e4,u0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class d0{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=yl,this.transport=null,this.heartbeatIntervalMs=ks.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=go,this.ref=0,this.reconnectTimer=null,this.logger=go,this.conn=null,this.sendBuffer=[],this.serializer=new t0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...l)=>rs(async()=>{const{default:a}=await Promise.resolve().then(()=>en);return{default:a}},void 0).then(({default:a})=>a(...l)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...l)=>i(...l)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${vl.websocket}`,this.httpEndpoint=Ah(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Gm.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Xm}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Nn.connecting:return Yt.Connecting;case Nn.open:return Yt.Open;case Nn.closing:return Yt.Closing;default:return Yt.Closed}}isConnected(){return this.connectionState()===Yt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Sa(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,l=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Zm,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ks.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:l}=r,a=l?`(${l})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ke.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([u0],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:Ym};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Ke.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Ph(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ks.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,l,a,c,u,d;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:yl,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:ks.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(l=e==null?void 0:e.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:go,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:h=>a0[h-1]||c0,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(h,f)=>f(JSON.stringify(h)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Na extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ne(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class h0 extends Na{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class wl extends Na{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var f0=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function a(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};const Lh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>rs(async()=>{const{default:n}=await Promise.resolve().then(()=>en);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},p0=()=>f0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield rs(()=>Promise.resolve().then(()=>en),void 0)).Response:Response}),bl=t=>{if(Array.isArray(t))return t.map(r=>bl(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=bl(n)}),e},m0=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var ur=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function a(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};const yo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),g0=(t,e,r)=>ur(void 0,void 0,void 0,function*(){const n=yield p0();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,l=(s==null?void 0:s.statusCode)||i+"";e(new h0(yo(s),i,l))}).catch(s=>{e(new wl(yo(s),s))}):e(new wl(yo(t),t))}),y0=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(m0(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function ss(t,e,r,n,s,i){return ur(this,void 0,void 0,function*(){return new Promise((l,a)=>{t(r,y0(e,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>l(c)).catch(c=>g0(c,a,n))})})}function di(t,e,r,n){return ur(this,void 0,void 0,function*(){return ss(t,"GET",e,r,n)})}function tt(t,e,r,n,s){return ur(this,void 0,void 0,function*(){return ss(t,"POST",e,n,s,r)})}function _l(t,e,r,n,s){return ur(this,void 0,void 0,function*(){return ss(t,"PUT",e,n,s,r)})}function v0(t,e,r,n){return ur(this,void 0,void 0,function*(){return ss(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Rh(t,e,r,n,s){return ur(this,void 0,void 0,function*(){return ss(t,"DELETE",e,n,s,r)})}var ve=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function a(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};const x0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Vc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class w0{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=Lh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return ve(this,void 0,void 0,function*(){try{let i;const l=Object.assign(Object.assign({},Vc),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const c=l.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,a["cache-control"]=`max-age=${l.cacheControl}`,a["content-type"]=l.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(e=="PUT"?_l:tt)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:a},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ne(i))return{data:null,error:i};throw i}})}upload(e,r,n){return ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return ve(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),l=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${l}`);a.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Vc.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield _l(this.fetch,a.toString(),c,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ne(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return ve(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield tt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),l=new URL(this.url+i.url),a=l.searchParams.get("token");if(!a)throw new Na("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ne(n))return{data:null,error:n};throw n}})}update(e,r,n){return ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return ve(this,void 0,void 0,function*(){try{return{data:yield tt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ne(s))return{data:null,error:s};throw s}})}copy(e,r,n){return ve(this,void 0,void 0,function*(){try{return{data:{path:(yield tt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ne(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return ve(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield tt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${l}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ne(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return ve(this,void 0,void 0,function*(){try{const s=yield tt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ne(s))return{data:null,error:s};throw s}})}download(e,r){return ve(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield di(this.fetch,`${this.url}/${s}/${a}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ne(a))return{data:null,error:a};throw a}})}info(e){return ve(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield di(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:bl(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ne(n))return{data:null,error:n};throw n}})}exists(e){return ve(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield v0(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ne(n)&&n instanceof wl){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(e){return ve(this,void 0,void 0,function*(){try{return{data:yield Rh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}list(e,r,n){return ve(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},x0),r),{prefix:e||""});return{data:yield tt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ne(s))return{data:null,error:s};throw s}})}listV2(e,r){return ve(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield tt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ne(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const b0="2.12.1",_0={"X-Client-Info":`storage-js/${b0}`};var pr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function a(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};class j0{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},_0),r),this.fetch=Lh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return pr(this,void 0,void 0,function*(){try{return{data:yield di(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ne(e))return{data:null,error:e};throw e}})}getBucket(e){return pr(this,void 0,void 0,function*(){try{return{data:yield di(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return pr(this,void 0,void 0,function*(){try{return{data:yield tt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ne(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return pr(this,void 0,void 0,function*(){try{return{data:yield _l(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ne(n))return{data:null,error:n};throw n}})}emptyBucket(e){return pr(this,void 0,void 0,function*(){try{return{data:yield tt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}deleteBucket(e){return pr(this,void 0,void 0,function*(){try{return{data:yield Rh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}}class k0 extends j0{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new w0(this.url,this.headers,e,this.fetch)}}const S0="2.57.4";let gn="";typeof Deno<"u"?gn="deno":typeof document<"u"?gn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gn="react-native":gn="node";const N0={"X-Client-Info":`supabase-js-${gn}/${S0}`},C0={headers:N0},E0={schema:"public"},T0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},P0={};var O0=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function a(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};const A0=t=>{let e;return t?e=t:typeof fetch>"u"?e=xh:e=fetch,(...r)=>e(...r)},L0=()=>typeof Headers>"u"?wh:Headers,R0=(t,e,r)=>{const n=A0(r),s=L0();return(i,l)=>O0(void 0,void 0,void 0,function*(){var a;const c=(a=yield e())!==null&&a!==void 0?a:t;let u=new s(l==null?void 0:l.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},l),{headers:u}))})};var z0=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function a(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};function I0(t){return t.endsWith("/")?t:t+"/"}function $0(t,e){var r,n;const{db:s,auth:i,realtime:l,global:a}=t,{db:c,auth:u,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),l),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>z0(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function M0(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(I0(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const zh="2.71.1",xr=30*1e3,jl=3,vo=jl*xr,D0="http://localhost:9999",U0="supabase.auth.token",F0={"X-Client-Info":`gotrue-js/${zh}`},kl="X-Supabase-Api-Version",Ih={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},B0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,H0=10*60*1e3;class Ca extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function R(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class W0 extends Ca{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function q0(t){return R(t)&&t.name==="AuthApiError"}class $h extends Ca{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Ht extends Ca{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class wt extends Ht{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function V0(t){return R(t)&&t.name==="AuthSessionMissingError"}class Ss extends Ht{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ns extends Ht{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Cs extends Ht{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function J0(t){return R(t)&&t.name==="AuthImplicitGrantRedirectError"}class Jc extends Ht{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Sl extends Ht{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function xo(t){return R(t)&&t.name==="AuthRetryableFetchError"}class Kc extends Ht{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Nl extends Ht{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const hi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Gc=` 	
\r=`.split(""),K0=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Gc.length;e+=1)t[Gc[e].charCodeAt(0)]=-2;for(let e=0;e<hi.length;e+=1)t[hi[e].charCodeAt(0)]=e;return t})();function Qc(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(hi[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(hi[n]),e.queuedBits-=6}}function Mh(t,e,r){const n=K0[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Yc(t){const e=[],r=l=>{e.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=l=>{Y0(l,n,r)};for(let l=0;l<t.length;l+=1)Mh(t.charCodeAt(l),s,i);return e.join("")}function G0(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Q0(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}G0(n,e)}}function Y0(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function X0(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Mh(t.charCodeAt(s),r,n);return new Uint8Array(e)}function Z0(t){const e=[];return Q0(t,r=>e.push(r)),new Uint8Array(e)}function eg(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Qc(s,r,n)),Qc(null,r,n),e.join("")}function tg(t){return Math.round(Date.now()/1e3)+t}function rg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const qe=()=>typeof window<"u"&&typeof document<"u",Vt={tested:!1,writable:!1},Dh=()=>{if(!qe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Vt.tested)return Vt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Vt.tested=!0,Vt.writable=!0}catch{Vt.tested=!0,Vt.writable=!1}return Vt.writable};function ng(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Uh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>rs(async()=>{const{default:n}=await Promise.resolve().then(()=>en);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},sg=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",wr=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Jt=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},xt=async(t,e)=>{await t.removeItem(e)};class Mi{constructor(){this.promise=new Mi.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Mi.promiseConstructor=Promise;function wo(t){const e=t.split(".");if(e.length!==3)throw new Nl("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!B0.test(e[n]))throw new Nl("JWT not in base64url format");return{header:JSON.parse(Yc(e[0])),payload:JSON.parse(Yc(e[1])),signature:X0(e[2]),raw:{header:e[0],payload:e[1]}}}async function ig(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function og(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const l=await t(i);if(!e(i,null,l)){n(l);return}}catch(l){if(!e(i,l)){s(l);return}}})()})}function lg(t){return("0"+t.toString(16)).substr(-2)}function ag(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,lg).join("")}async function cg(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function ug(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await cg(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function mr(t,e,r=!1){const n=ag();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await wr(t,`${e}-code-verifier`,s);const i=await ug(n);return[i,n===i?"plain":"s256"]}const dg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hg(t){const e=t.headers.get(kl);if(!e||!e.match(dg))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function fg(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function pg(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const mg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function gr(t){if(!mg.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function bo(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Xc(t){return JSON.parse(JSON.stringify(t))}var gg=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const Qt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),yg=[502,503,504];async function Zc(t){var e;if(!sg(t))throw new Sl(Qt(t),0);if(yg.includes(t.status))throw new Sl(Qt(t),t.status);let r;try{r=await t.json()}catch(i){throw new $h(Qt(i),i)}let n;const s=hg(t);if(s&&s.getTime()>=Ih["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Kc(Qt(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new wt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0))throw new Kc(Qt(r),t.status,r.weak_password.reasons);throw new W0(Qt(r),t.status||500,n)}const vg=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function $(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[kl]||(i[kl]=Ih["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const l=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const a=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",c=await xg(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function xg(t,e,r,n,s,i){const l=vg(e,n,s,i);let a;try{a=await t(r,Object.assign({},l))}catch(c){throw console.error(c),new Sl(Qt(c),0)}if(a.ok||await Zc(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(c){await Zc(c)}}function ot(t){var e;let r=null;jg(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=tg(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function eu(t){const e=ot(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function St(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function wg(t){return{data:t,error:null}}function bg(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,l=gg(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},l);return{data:{properties:a,user:c},error:null}}function _g(t){return t}function jg(t){return t.access_token&&t.refresh_token&&t.expires_in}const _o=["global","local","others"];var kg=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class Sg{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Uh(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=_o[0]){if(_o.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${_o.join(", ")}`);try{return await $(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(R(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await $(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:St})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=kg(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await $(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:bg,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(R(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await $(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:St})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,l,a,c;try{const u={nextPage:null,lastPage:0,total:0},d=await $(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:_g});if(d.error)throw d.error;const h=await d.json(),f=(l=d.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(c=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(m=>{const _=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(m.split(";")[1].split("=")[1]);u[`${j}Page`]=_}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(R(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){gr(e);try{return await $(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:St})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){gr(e);try{return await $(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:St})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){gr(e);try{return await $(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:St})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){gr(e.userId);try{const{data:r,error:n}=await $(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(R(r))return{data:null,error:r};throw r}}async _deleteFactor(e){gr(e.userId),gr(e.id);try{return{data:await $(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}}function tu(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function Ng(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const yr={debug:!!(globalThis&&Dh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Fh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Cg extends Fh{}async function Eg(t,e,r){yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),yr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Cg(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(yr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Ng();const Tg={url:D0,storageKey:U0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:F0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ru(t,e,r){return await r()}const vr={};class Jn{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Jn.nextInstanceID,Jn.nextInstanceID+=1,this.instanceID>0&&qe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Tg),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Sg({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Uh(s.fetch),this.lock=s.lock||ru,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:qe()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Eg:this.lock=ru,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Dh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=tu(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=tu(this.memoryStorage)),qe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=vr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){vr[this.storageKey]=Object.assign(Object.assign({},vr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=vr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){vr[this.storageKey]=Object.assign(Object.assign({},vr[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${zh}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=ng(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),qe()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),J0(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:l,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",a),await this._saveSession(l),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return R(r)?{error:r}:{error:new $h("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:ot}),{data:l,error:a}=i;if(a||!l)return{data:{user:null,session:null},error:a};const c=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(R(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let v=null,m=null;this.flowType==="pkce"&&([v,m]=await mr(this.storage,this.storageKey)),i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:v,code_challenge_method:m},xform:ot})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ot})}else throw new Ns("You must provide either an email or phone number and a password");const{data:l,error:a}=i;if(a||!l)return{data:{user:null,session:null},error:a};const c=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(R(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:l,options:a}=e;r=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:l,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:eu})}else if("phone"in e){const{phone:i,password:l,options:a}=e;r=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:l,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:eu})}else throw new Ns("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ss}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(R(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,i,l,a,c,u,d,h,f,v;let m,_;if("message"in e)m=e.message,_=e.signature;else{const{chain:j,wallet:p,statement:g,options:y}=e;let x;if(qe())if(typeof p=="object")x=p;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))x=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=p}const b=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in x&&x.signIn){const k=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),g?{statement:g}:null));let w;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")w=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)w=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in w&&"signature"in w&&(typeof w.signedMessage=="string"||w.signedMessage instanceof Uint8Array)&&w.signature instanceof Uint8Array)m=typeof w.signedMessage=="string"?w.signedMessage:new TextDecoder().decode(w.signedMessage),_=w.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${b.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${(s=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((h=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...y.signInWithSolana.resources.map(w=>`- ${w}`)]:[]].join(`
`);const k=await x.signMessage(new TextEncoder().encode(m),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=k}}try{const{data:j,error:p}=await $(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:eg(_)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:ot});if(p)throw p;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new Ss}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:p})}catch(j){if(R(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(e){const r=await Jt(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:l}=await $(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:ot});if(await xt(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ss}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:l})}catch(i){if(R(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:l}=e,a=await $(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ot}),{data:c,error:u}=a;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Ss}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(R(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,l;try{if("email"in e){const{email:a,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await mr(this.storage,this.storageKey));const{error:h}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:c}=e,{data:u,error:d}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(l=c==null?void 0:c.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Ns("You must provide either an email or phone number.")}catch(a){if(R(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:a}=await $(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ot});if(a)throw a;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,u=l.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(R(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,l=null;return this.flowType==="pkce"&&([i,l]=await mr(this.storage,this.storageKey)),await $(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:l}),headers:this.headers,xform:wg})}catch(i){if(R(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new wt;const{error:s}=await $(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(R(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:l}=await $(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:l,error:a}=await $(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:a}}throw new Ns("You must provide either an email or phone number and a type")}catch(r){if(R(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Jt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<vo:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const l=await Jt(this.userStorage,this.storageKey+"-user");l!=null&&l.user?e.user=l.user:e.user=bo()}if(this.storage.isServer&&e.user){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!l&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:St}):await this._useSession(async r=>{var n,s,i;const{data:l,error:a}=r;if(a)throw a;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wt}:await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:St})})}catch(r){if(R(r))return V0(r)&&(await this._removeSession(),await xt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new wt;const l=s.session;let a=null,c=null;this.flowType==="pkce"&&e.email!=null&&([a,c]=await mr(this.storage,this.storageKey));const{data:u,error:d}=await $(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:c}),jwt:l.access_token,xform:St});if(d)throw d;return l.user=u.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new wt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:l}=wo(e.access_token);if(l.exp&&(n=l.exp,s=n<=r),s){const{session:a,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(R(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:l,error:a}=r;if(a)throw a;e=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new wt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(R(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!qe())throw new Cs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Cs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Jc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Cs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Jc("No code detected.");const{data:g,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:l,expires_in:a,expires_at:c,token_type:u}=e;if(!i||!a||!l||!u)throw new Cs("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;c&&(f=parseInt(c));const v=f-d;v*1e3<=xr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const m=f-h;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,d);const{data:_,error:j}=await this._getUser(i);if(j)throw j;const p={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:l,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:e.type},error:null}}catch(n){if(R(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Jt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const l=(n=s.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:a}=await this.admin.signOut(l,e);if(a&&!(q0(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await xt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=rg(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await mr(this.storage,this.storageKey,!0));try{return await $(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(R(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var l,a,c,u,d;const{data:h,error:f}=i;if(f)throw f;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await $(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return qe()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(R(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:l}=r;if(l)throw l;return await $(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(R(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await og(async s=>(s>0&&await ig(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await $(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ot})),(s,i)=>{const l=200*Math.pow(2,s);return i&&xo(i)&&Date.now()+l-n<xr})}catch(n){if(this._debug(r,"error",n),R(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),qe()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Jt(this.storage,this.storageKey);if(s&&this.userStorage){let l=await Jt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:s.user},await wr(this.userStorage,this.storageKey+"-user",l)),s.user=(e=l==null?void 0:l.user)!==null&&e!==void 0?e:bo()}else if(s&&!s.user&&!s.user){const l=await Jt(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(s.user=l.user,await xt(this.storage,this.storageKey+"-user"),await wr(this.storage,this.storageKey,s)):s.user=bo()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<vo;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${vo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:l}=await this._callRefreshToken(s.refresh_token);l&&(console.error(l),xo(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:a}=await this._getUser(s.access_token);!a&&(l!=null&&l.user)?(s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new wt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Mi;const{data:i,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!i.session)throw new wt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),R(i)){const l={session:null,error:i};return xo(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],l=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(l),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await wr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Xc(s);await wr(this.storage,this.storageKey,i)}else{const s=Xc(r);await wr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await xt(this.storage,this.storageKey),await xt(this.storage,this.storageKey+"-code-verifier"),await xt(this.storage,this.storageKey+"-user"),this.userStorage&&await xt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&qe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),xr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/xr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${xr}ms, refresh threshold is ${jl} ticks`),s<=jl&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Fh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,l]=await mr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await $(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(R(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:l}=r;if(l)return{data:null,error:l};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await $(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(R(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:l,error:a}=await $(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:a})})}catch(r){if(R(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await $(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(R(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(l=>l.factor_type==="totp"&&l.status==="verified"),i=n.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=wo(s.access_token);let a=null;l.aal&&(a=l.aal);let c=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=l.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+H0>s)return n;const{data:i,error:l}=await $(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:m}=await this.getSession();if(m||!v.session)return{data:null,error:m};n=v.session.access_token}const{header:s,payload:i,signature:l,raw:{header:a,payload:c}}=wo(n);r!=null&&r.allowExpired||fg(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:l},error:null}}const d=pg(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,l,Z0(`${a}.${c}`)))throw new Nl("Invalid JWT signature");return{data:{claims:i,header:s,signature:l},error:null}}catch(n){if(R(n))return{data:null,error:n};throw n}}}Jn.nextInstanceID=0;const Pg=Jn;class Og extends Pg{constructor(e){super(e)}}var Ag=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function a(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};class Lg{constructor(e,r,n){var s,i,l;this.supabaseUrl=e,this.supabaseKey=r;const a=M0(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const c=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:E0,realtime:P0,auth:Object.assign(Object.assign({},T0),{storageKey:c}),global:C0},d=$0(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=d.auth)!==null&&l!==void 0?l:{},this.headers,d.global.fetch),this.fetch=R0(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Km(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new k0(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Nm(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return Ag(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:l,flowType:a,lock:c,debug:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Og({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:l,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:a,lock:c,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new d0(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Rg=(t,e,r)=>new Lg(t,e,r);function zg(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}zg()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ig="https://bdfuglaespjkrjibmrzk.supabase.co",$g="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJkZnVnbGFlc3Bqa3JqaWJtcnprIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEzNjA4OTcsImV4cCI6MjA3NjkzNjg5N30.EDsd3XsJWmqq5cTSCjOy4u4ChdqWzvk6HLJJdL6NIZ0",L=Rg(Ig,$g),Bh=N.createContext({}),Te=()=>{const t=N.useContext(Bh);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},Mg=({children:t})=>{const[e,r]=N.useState(null),[n,s]=N.useState(null),[i,l]=N.useState(!0);N.useEffect(()=>{L.auth.getSession().then(({data:{session:m}})=>{r((m==null?void 0:m.user)??null),m!=null&&m.user?a(m.user.id):l(!1)});const{data:{subscription:v}}=L.auth.onAuthStateChange((m,_)=>{r((_==null?void 0:_.user)??null),_!=null&&_.user?a(_.user.id):(s(null),l(!1))});return()=>v.unsubscribe()},[]);const a=async v=>{try{const{data:m,error:_}=await L.from("profiles").select("*").eq("id",v).maybeSingle();if(_)throw _;s(m)}catch(m){console.error("Error fetching profile:",m)}finally{l(!1)}},f={user:e,profile:n,loading:i,signUp:async(v,m,_)=>{const{data:j,error:p}=await L.auth.signUp({email:v,password:m});if(p)throw p;if(j.user){const{error:g}=await L.from("profiles").insert([{id:j.user.id,full_name:_,credits:100}]);if(g)throw g}return j},signIn:async(v,m)=>{const{data:_,error:j}=await L.auth.signInWithPassword({email:v,password:m});if(j)throw j;return _},signOut:async()=>{const{error:v}=await L.auth.signOut();if(v)throw v},updateProfile:async v=>{if(!e)throw new Error("No user logged in");const{error:m}=await L.from("profiles").update(v).eq("id",e.id);if(m)throw m;await a(e.id)},refreshProfile:()=>e&&a(e.id)};return o.jsx(Bh.Provider,{value:f,children:t})},Hh=N.createContext(void 0),Di=()=>{const t=N.useContext(Hh);if(!t)throw new Error("useAccessibility must be used within AccessibilityProvider");return t},Dg=({children:t})=>{const[e,r]=N.useState(()=>localStorage.getItem("highContrast")==="true"),[n,s]=N.useState(()=>localStorage.getItem("voiceEnabled")==="true"),[i,l]=N.useState(()=>localStorage.getItem("language")||"en");N.useEffect(()=>{e?document.documentElement.classList.add("high-contrast"):document.documentElement.classList.remove("high-contrast"),localStorage.setItem("highContrast",String(e))},[e]),N.useEffect(()=>{localStorage.setItem("voiceEnabled",String(n))},[n]),N.useEffect(()=>{localStorage.setItem("language",i),document.documentElement.lang=i},[i]);const h={highContrast:e,toggleHighContrast:()=>r(!e),voiceEnabled:n,toggleVoice:()=>s(!n),language:i,setLanguage:f=>{l(f)},speak:f=>{if(!n||!("speechSynthesis"in window))return;window.speechSynthesis.cancel();const v=new SpeechSynthesisUtterance(f);v.lang=i,v.rate=.9,v.pitch=1,v.volume=1,window.speechSynthesis.speak(v)}};return o.jsx(Hh.Provider,{value:h,children:t})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ug={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),A=(t,e)=>{const r=N.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:a="",children:c,...u},d)=>N.createElement("svg",{ref:d,...Ug,width:s,height:s,stroke:n,strokeWidth:l?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Fg(t)}`,a].join(" "),...u},[...e.map(([h,f])=>N.createElement(h,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=A("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=A("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=A("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=A("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=A("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=A("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=A("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=A("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=A("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=A("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=A("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=A("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=A("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=A("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=A("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=A("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=A("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=A("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=A("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=A("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=A("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=A("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=A("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=A("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=A("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=A("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=A("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=A("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=A("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=A("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=A("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=A("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=A("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=A("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=A("Puzzle",[["path",{d:"M19.439 7.85c-.049.322.059.648.289.878l1.568 1.568c.47.47.706 1.087.706 1.704s-.235 1.233-.706 1.704l-1.611 1.611a.98.98 0 0 1-.837.276c-.47-.07-.802-.48-.968-.925a2.501 2.501 0 1 0-3.214 3.214c.446.166.855.497.925.968a.979.979 0 0 1-.276.837l-1.61 1.61a2.404 2.404 0 0 1-1.705.707 2.402 2.402 0 0 1-1.704-.706l-1.568-1.568a1.026 1.026 0 0 0-.877-.29c-.493.074-.84.504-1.02.968a2.5 2.5 0 1 1-3.237-3.237c.464-.18.894-.527.967-1.02a1.026 1.026 0 0 0-.289-.877l-1.568-1.568A2.402 2.402 0 0 1 1.998 12c0-.617.236-1.234.706-1.704L4.23 8.77c.24-.24.581-.353.917-.303.515.077.877.528 1.073 1.01a2.5 2.5 0 1 0 3.259-3.259c-.482-.196-.933-.558-1.01-1.073-.05-.336.062-.676.303-.917l1.525-1.525A2.402 2.402 0 0 1 12 1.998c.617 0 1.234.236 1.704.706l1.568 1.568c.23.23.556.338.877.29.493-.074.84-.504 1.02-.968a2.5 2.5 0 1 1 3.237 3.237c-.464.18-.894.527-.967 1.02Z",key:"i0oyt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=A("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=A("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=A("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=A("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=A("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=A("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=A("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=A("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=A("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=A("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=A("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=A("UserSearch",[["circle",{cx:"10",cy:"7",r:"4",key:"e45bow"}],["path",{d:"M10.3 15H7a4 4 0 0 0-4 4v2",key:"3bnktk"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["path",{d:"m21 21-1.9-1.9",key:"1g2n9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=A("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=A("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=A("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=A("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=A("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=A("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function fy(){const[t,e]=N.useState(!1),[r,n]=N.useState(""),[s,i]=N.useState(""),[l,a]=N.useState(""),[c,u]=N.useState(""),[d,h]=N.useState(!1),[f,v]=N.useState(!1),[m,_]=N.useState(""),[j,p]=N.useState(""),{signIn:g,signUp:y}=Te(),x=()=>Math.floor(1e5+Math.random()*9e5).toString(),b=async(C,T)=>(console.log(`OTP sent to ${C}: ${T}`),Promise.resolve()),k=async C=>{C.preventDefault(),u(""),h(!0);try{if(t){if(!l)throw new Error("Please enter your full name");const T=x();p(T),await b(r,T),v(!0),h(!1)}else await g(r,s)}catch(T){u(T.message),h(!1)}},w=async C=>{C.preventDefault(),u(""),h(!0);try{if(m!==j)throw new Error("Invalid verification code. Please try again.");await y(r,s,l)}catch(T){u(T.message)}finally{h(!1)}},S=async()=>{const C=x();p(C),await b(r,C),_(""),u("")};return f?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 flex items-center justify-center p-8",children:o.jsxs("div",{className:"max-w-md w-full",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"inline-block p-3 bg-blue-600 rounded-2xl mb-4",children:o.jsx(Ea,{size:40,className:"text-white"})}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Verify Your Email"}),o.jsxs("p",{className:"text-gray-600",children:["We've sent a verification code to ",o.jsx("span",{className:"font-semibold",children:r})]})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border-2 border-blue-200 rounded-lg",children:[o.jsx("p",{className:"text-sm text-blue-900 font-medium mb-2",children:"Demo Mode - Your OTP Code:"}),o.jsx("p",{className:"text-3xl font-bold text-blue-600 text-center tracking-widest",children:j}),o.jsx("p",{className:"text-xs text-blue-700 text-center mt-2",children:"In production, this would be sent to your email"})]}),o.jsxs("form",{onSubmit:w,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enter Verification Code"}),o.jsx("input",{type:"text",value:m,onChange:C=>_(C.target.value.replace(/\D/g,"").slice(0,6)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center text-2xl tracking-widest font-semibold",placeholder:"000000",maxLength:6,required:!0}),o.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Enter the 6-digit code shown above"})]}),c&&o.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:c}),o.jsx("button",{type:"submit",disabled:d||m.length!==6,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:d?"Verifying...":o.jsxs(o.Fragment,{children:[o.jsx(Kn,{size:20}),"Verify & Create Account"]})}),o.jsx("div",{className:"text-center",children:o.jsx("button",{type:"button",onClick:S,className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Resend verification code"})}),o.jsx("div",{className:"text-center",children:o.jsx("button",{type:"button",onClick:()=>{v(!1),_(""),p(""),u("")},className:"text-gray-600 hover:text-gray-700 text-sm",children:"Back to signup"})})]})]})]})}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 flex",children:[o.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:o.jsxs("div",{className:"max-w-md w-full",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"inline-block p-3 bg-blue-600 rounded-2xl mb-4",children:o.jsx(Dt,{size:40,className:"text-white"})}),o.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Urban Skill Exchange"}),o.jsx("p",{className:"text-gray-600",children:"Connect with local talent, share skills, grow together"})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o.jsxs("div",{className:"flex gap-2 mb-6",children:[o.jsx("button",{onClick:()=>e(!1),className:`flex-1 py-2 px-4 rounded-lg font-medium transition-all ${t?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-blue-600 text-white shadow-md"}`,children:"Sign In"}),o.jsx("button",{onClick:()=>e(!0),className:`flex-1 py-2 px-4 rounded-lg font-medium transition-all ${t?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Sign Up"})]}),o.jsxs("form",{onSubmit:k,className:"space-y-4",children:[t&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),o.jsx("input",{type:"text",value:l,onChange:C=>a(C.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"John Doe",required:t})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),o.jsx("input",{type:"email",value:r,onChange:C=>n(C.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"you@example.com",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),o.jsx("input",{type:"password",value:s,onChange:C=>i(C.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",required:!0,minLength:6})]}),c&&o.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:c}),t&&o.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg text-blue-700 text-sm",children:[o.jsx("p",{className:"font-medium mb-1",children:"Email Verification Required"}),o.jsx("p",{className:"text-xs",children:"We'll send a verification code to confirm your email address."})]}),o.jsx("button",{type:"submit",disabled:d,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Please wait...":t?"Continue":"Sign In"})]})]})]})}),o.jsx("div",{className:"hidden lg:flex flex-1 bg-gradient-to-br from-blue-600 to-green-600 p-12 items-center justify-center",children:o.jsxs("div",{className:"max-w-lg text-white",children:[o.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Hyperlocal Talent Sharing"}),o.jsx("p",{className:"text-blue-100 text-lg mb-8",children:"Connect with your community, share your skills, learn from others, and collaborate on projects that matter."}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"p-2 bg-white bg-opacity-20 rounded-lg",children:o.jsx(Gr,{size:24})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-lg mb-1",children:"Geo-Location Matching"}),o.jsx("p",{className:"text-blue-100",children:"Find skilled people in your neighborhood"})]})]}),o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"p-2 bg-white bg-opacity-20 rounded-lg",children:o.jsx(Ui,{size:24})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-lg mb-1",children:"Easy Scheduling"}),o.jsx("p",{className:"text-blue-100",children:"Book sessions with built-in calendar"})]})]}),o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"p-2 bg-white bg-opacity-20 rounded-lg",children:o.jsx(Me,{size:24})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-lg mb-1",children:"Reputation System"}),o.jsx("p",{className:"text-blue-100",children:"Build trust through reviews and badges"})]})]}),o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"p-2 bg-white bg-opacity-20 rounded-lg",children:o.jsx(Qg,{size:24})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-lg mb-1",children:"Community Projects"}),o.jsx("p",{className:"text-blue-100",children:"Join collaborative initiatives"})]})]}),o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"p-2 bg-white bg-opacity-20 rounded-lg",children:o.jsx(Ur,{size:24})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-lg mb-1",children:"Credit System"}),o.jsx("p",{className:"text-blue-100",children:"Earn, spend, or donate credits"})]})]})]})]})})]})}const py=t=>{const{voiceEnabled:e,speak:r}=Di(),n=N.useRef(null);return N.useEffect(()=>{if(!e||!("webkitSpeechRecognition"in window||"SpeechRecognition"in window))return;const s=window.SpeechRecognition||window.webkitSpeechRecognition,i=new s;return i.continuous=!0,i.interimResults=!1,i.lang="en-US",i.onresult=l=>{const a=l.results.length-1,c=l.results[a][0].transcript.toLowerCase().trim();if(console.log("Voice command:",c),c.includes("go to profile")||c.includes("open profile"))t("profile"),r("Opening profile");else if(c.includes("go to skills")||c.includes("my skills"))t("myskills"),r("Opening my skills");else if(c.includes("go to bookings")||c.includes("open bookings"))t("bookings"),r("Opening bookings");else if(c.includes("go to community")||c.includes("community projects"))t("projects"),r("Opening community projects");else if(c.includes("go to credits")||c.includes("open credits"))t("credits"),r("Opening credits");else if(c.includes("explore")||c.includes("search skills"))t("explore"),r("Opening explore skills");else if(c.includes("settings")||c.includes("accessibility"))t("settings"),r("Opening settings");else if(c.includes("help"))r("Voice commands available. Say go to followed by: profile, skills, bookings, community, or credits. Say search to find skills. Say settings for accessibility options.");else if(c.includes("search")){const u=c.replace("search","").trim();u&&(t(`search:${u}`),r(`Searching for ${u}`))}},i.onerror=l=>{console.error("Speech recognition error:",l.error)},i.onend=()=>{e&&i.start()},n.current=i,i.start(),()=>{n.current&&n.current.stop()}},[e,t,r]),{recognition:n.current}},my=1,Es=6e4,gy=()=>{const{user:t,profile:e,refreshProfile:r}=Te(),n=N.useRef(Date.now()),s=N.useRef(0),i=N.useRef(!0);N.useEffect(()=>{if(!t||!e)return;const l=()=>{document.hidden?i.current=!1:(i.current=!0,n.current=Date.now())},a=()=>{i.current=!0,n.current=Date.now()};document.addEventListener("visibilitychange",l),window.addEventListener("mousemove",a),window.addEventListener("keydown",a),window.addEventListener("click",a),window.addEventListener("scroll",a);const c=setInterval(async()=>{if(!i.current)return;const u=Date.now(),d=u-n.current;if(d<Es&&(s.current+=d),s.current>=Es){const f=Math.floor(s.current/Es)*my;if(f>0)try{const{error:v}=await L.from("profiles").update({credits:e.credits+f}).eq("id",t.id);v||(await r(),s.current=0)}catch(v){console.error("Error updating credits:",v)}}n.current=u},Es);return()=>{clearInterval(c),document.removeEventListener("visibilitychange",l),window.removeEventListener("mousemove",a),window.removeEventListener("keydown",a),window.removeEventListener("click",a),window.removeEventListener("scroll",a)}},[t,e,r])};function su({onNavigate:t}){const{profile:e}=Te(),[r,n]=N.useState([]),[s,i]=N.useState([]),[l,a]=N.useState({totalSkills:0,totalProjects:0,totalUsers:0}),[c,u]=N.useState(!0);N.useEffect(()=>{d()},[]);const d=async()=>{try{const[h,f,v]=await Promise.all([L.from("skills").select("*, profiles(full_name, avatar_url, location_city)").order("created_at",{ascending:!1}).limit(5),L.from("community_projects").select("*, profiles(full_name)").order("created_at",{ascending:!1}).limit(3),L.from("profiles").select("id",{count:"exact",head:!0})]);h.data&&n(h.data),f.data&&i(f.data);const m=await L.from("skills").select("id",{count:"exact",head:!0}),_=await L.from("community_projects").select("id",{count:"exact",head:!0});a({totalSkills:m.count||0,totalProjects:_.count||0,totalUsers:v.count||0})}catch(h){console.error("Error fetching feed:",h)}finally{u(!1)}};return c?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent"})}):o.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[o.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-green-600 rounded-2xl p-8 text-white",children:[o.jsxs("h2",{className:"text-3xl font-bold mb-2",children:["Welcome back, ",e==null?void 0:e.full_name,"!"]}),o.jsx("p",{className:"text-blue-100 text-lg",children:"Your community is growing. Explore new skills and connect with local talent."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsx("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:o.jsx(Mt,{size:28,className:"text-blue-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600 text-sm",children:"Total Skills"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:l.totalSkills})]})]})}),o.jsx("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:o.jsx(Dt,{size:28,className:"text-green-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600 text-sm",children:"Community Members"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:l.totalUsers})]})]})}),o.jsx("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:o.jsx(Qn,{size:28,className:"text-purple-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600 text-sm",children:"Active Projects"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:l.totalProjects})]})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-2 space-y-6",children:o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Recently Added Skills"})}),o.jsx("div",{className:"divide-y divide-gray-200",children:r.length===0?o.jsxs("div",{className:"p-8 text-center text-gray-500",children:[o.jsx(Mt,{size:48,className:"mx-auto mb-3 text-gray-300"}),o.jsx("p",{children:"No skills added yet"})]}):r.map(h=>{var f,v,m,_;return o.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-green-500 rounded-full flex items-center justify-center text-white font-semibold",children:(v=(f=h.profiles)==null?void 0:f.full_name)==null?void 0:v.charAt(0).toUpperCase()}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("p",{className:"font-semibold text-gray-900",children:(m=h.profiles)==null?void 0:m.full_name}),o.jsx("span",{className:"text-gray-400",children:""}),o.jsx("span",{className:"text-sm text-gray-500",children:((_=h.profiles)==null?void 0:_.location_city)||"Location not set"})]}),o.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[h.is_offering?"Offering":"Seeking",": ",o.jsx("span",{className:"font-medium text-gray-900",children:h.name})]}),o.jsx("p",{className:"text-sm text-gray-600 mb-3",children:h.description}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded-full",children:h.category}),o.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 text-xs font-medium rounded-full",children:h.skill_level}),h.hourly_rate_credits>0&&o.jsxs("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-700 text-xs font-medium rounded-full",children:[h.hourly_rate_credits," credits/hr"]})]})]})]})},h.id)})})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Community Projects"})}),o.jsx("div",{className:"p-6 space-y-4",children:s.length===0?o.jsxs("div",{className:"text-center text-gray-500 py-4",children:[o.jsx(Dt,{size:48,className:"mx-auto mb-3 text-gray-300"}),o.jsx("p",{className:"text-sm",children:"No projects yet"})]}):s.map(h=>{var f;return o.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[o.jsx("p",{className:"font-semibold text-gray-900 mb-2",children:h.title}),o.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:h.description}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-xs text-gray-500",children:["by ",(f=h.profiles)==null?void 0:f.full_name]}),o.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${h.status==="proposed"?"bg-yellow-100 text-yellow-700":h.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:h.status})]})]},h.id)})})]}),o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-green-50 rounded-xl p-6 border border-blue-200",children:[o.jsx(Me,{size:32,className:"text-blue-600 mb-3"}),o.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"Start Your Journey"}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Share your skills, learn from others, and become part of a thriving community."}),o.jsxs("button",{onClick:()=>t("explore"),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:["Explore Skills ",o.jsx(Hg,{size:16})]})]})]})]})]})}function yy(){const[t,e]=N.useState(""),[r,n]=N.useState("all"),[s,i]=N.useState(null),[l,a]=N.useState("overview"),c=m=>({videos:["Introduction and Setup","Core Concepts Explained","Hands-on Practice Session","Advanced Techniques","Real-world Project Demo"],documents:["Course PDF Guide","Quick Reference Cheatsheet","Practice Exercises","Code Examples","Additional Resources"],articles:["Best Practices Guide","Common Mistakes to Avoid","Performance Tips","Industry Use Cases","Further Reading"]}),u={java:[{id:1,title:"Java Basics",description:"Introduction to Java programming, syntax, and data types",level:"Beginner",duration:"4 hours",lessons:12},{id:2,title:"Object-Oriented Programming",description:"Classes, objects, inheritance, and polymorphism",level:"Beginner",duration:"6 hours",lessons:15},{id:3,title:"Java Collections Framework",description:"Lists, Sets, Maps, and advanced data structures",level:"Intermediate",duration:"5 hours",lessons:10},{id:4,title:"Exception Handling",description:"Try-catch blocks, custom exceptions, and error handling",level:"Intermediate",duration:"3 hours",lessons:8},{id:5,title:"Multithreading & Concurrency",description:"Thread creation, synchronization, and parallel processing",level:"Advanced",duration:"8 hours",lessons:18},{id:6,title:"Java Streams API",description:"Functional programming with streams and lambda expressions",level:"Intermediate",duration:"4 hours",lessons:10},{id:7,title:"JDBC & Database Connectivity",description:"Connecting Java applications to databases",level:"Intermediate",duration:"5 hours",lessons:12},{id:8,title:"Spring Framework Basics",description:"Introduction to Spring Boot and dependency injection",level:"Intermediate",duration:"10 hours",lessons:20},{id:9,title:"RESTful APIs with Spring",description:"Building REST APIs using Spring Boot",level:"Advanced",duration:"8 hours",lessons:16},{id:10,title:"Java Design Patterns",description:"Common design patterns and best practices",level:"Advanced",duration:"6 hours",lessons:14},{id:11,title:"JUnit & Testing",description:"Unit testing and test-driven development",level:"Intermediate",duration:"4 hours",lessons:9},{id:12,title:"Java Performance Optimization",description:"Memory management and performance tuning",level:"Advanced",duration:"5 hours",lessons:11}],python:[{id:13,title:"Python Fundamentals",description:"Variables, data types, and basic syntax",level:"Beginner",duration:"3 hours",lessons:10},{id:14,title:"Control Flow & Functions",description:"If statements, loops, and function definitions",level:"Beginner",duration:"4 hours",lessons:12},{id:15,title:"Data Structures in Python",description:"Lists, tuples, dictionaries, and sets",level:"Beginner",duration:"5 hours",lessons:13},{id:16,title:"Object-Oriented Python",description:"Classes, objects, and inheritance",level:"Intermediate",duration:"6 hours",lessons:14},{id:17,title:"File Handling & I/O",description:"Reading and writing files, JSON, CSV handling",level:"Beginner",duration:"3 hours",lessons:8},{id:18,title:"Python Libraries: NumPy",description:"Numerical computing with NumPy arrays",level:"Intermediate",duration:"5 hours",lessons:11},{id:19,title:"Python Libraries: Pandas",description:"Data manipulation and analysis with Pandas",level:"Intermediate",duration:"6 hours",lessons:15},{id:20,title:"Web Scraping with Python",description:"BeautifulSoup and Scrapy for web scraping",level:"Intermediate",duration:"4 hours",lessons:10},{id:21,title:"Django Web Framework",description:"Building web applications with Django",level:"Advanced",duration:"12 hours",lessons:24},{id:22,title:"Flask Microframework",description:"Lightweight web development with Flask",level:"Intermediate",duration:"6 hours",lessons:14},{id:23,title:"Python for Data Science",description:"Data analysis, visualization, and machine learning basics",level:"Advanced",duration:"10 hours",lessons:20},{id:24,title:"Python Async Programming",description:"Asynchronous programming with asyncio",level:"Advanced",duration:"5 hours",lessons:12}],html:[{id:25,title:"HTML Basics",description:"Tags, elements, and document structure",level:"Beginner",duration:"2 hours",lessons:8},{id:26,title:"HTML Forms & Input",description:"Creating forms and handling user input",level:"Beginner",duration:"3 hours",lessons:10},{id:27,title:"Semantic HTML5",description:"Modern HTML5 elements and best practices",level:"Beginner",duration:"2 hours",lessons:7},{id:28,title:"HTML Tables & Lists",description:"Creating structured data displays",level:"Beginner",duration:"2 hours",lessons:6},{id:29,title:"HTML Media Elements",description:"Images, audio, video, and canvas",level:"Beginner",duration:"3 hours",lessons:9},{id:30,title:"HTML Accessibility",description:"ARIA attributes and accessible web design",level:"Intermediate",duration:"3 hours",lessons:8},{id:31,title:"HTML Meta Tags & SEO",description:"Optimizing HTML for search engines",level:"Intermediate",duration:"2 hours",lessons:6},{id:32,title:"HTML5 APIs",description:"Geolocation, Storage, and Web Workers",level:"Advanced",duration:"4 hours",lessons:10}],css:[{id:33,title:"CSS Basics",description:"Selectors, properties, and styling fundamentals",level:"Beginner",duration:"3 hours",lessons:10},{id:34,title:"CSS Box Model",description:"Margin, padding, border, and content",level:"Beginner",duration:"2 hours",lessons:7},{id:35,title:"CSS Flexbox Layout",description:"Flexible box layout for responsive design",level:"Intermediate",duration:"4 hours",lessons:12},{id:36,title:"CSS Grid Layout",description:"Advanced grid-based page layouts",level:"Intermediate",duration:"5 hours",lessons:14},{id:37,title:"CSS Animations & Transitions",description:"Creating smooth animations and effects",level:"Intermediate",duration:"4 hours",lessons:11},{id:38,title:"Responsive Web Design",description:"Media queries and mobile-first approach",level:"Intermediate",duration:"5 hours",lessons:13},{id:39,title:"CSS Preprocessing (Sass)",description:"Variables, nesting, and mixins",level:"Advanced",duration:"4 hours",lessons:10},{id:40,title:"CSS Architecture & BEM",description:"Organizing and naming CSS classes",level:"Advanced",duration:"3 hours",lessons:8},{id:41,title:"CSS Custom Properties",description:"CSS variables and dynamic styling",level:"Intermediate",duration:"2 hours",lessons:6},{id:42,title:"CSS Performance Optimization",description:"Optimizing CSS for faster load times",level:"Advanced",duration:"3 hours",lessons:9},{id:43,title:"Modern CSS Features",description:"Container queries, :has(), and new selectors",level:"Advanced",duration:"4 hours",lessons:11},{id:44,title:"CSS Framework: Tailwind",description:"Utility-first CSS with Tailwind",level:"Intermediate",duration:"5 hours",lessons:12}]},d=[{id:"all",name:"All Courses",count:Object.values(u).flat().length},{id:"java",name:"Java",count:u.java.length},{id:"python",name:"Python",count:u.python.length},{id:"html",name:"HTML",count:u.html.length},{id:"css",name:"CSS",count:u.css.length}],h=()=>{let m=r==="all"?Object.values(u).flat():u[r]||[];if(t.trim()){const _=t.toLowerCase();m=m.filter(j=>j.title.toLowerCase().includes(_)||j.description.toLowerCase().includes(_))}return m},f=m=>{switch(m){case"Beginner":return"bg-green-500/20 text-green-300 border-green-500/30";case"Intermediate":return"bg-yellow-500/20 text-yellow-300 border-yellow-500/30";case"Advanced":return"bg-red-500/20 text-red-300 border-red-500/30";default:return"bg-purple-500/20 text-purple-300 border-purple-500/30"}},v=h();return o.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[o.jsxs("div",{className:"bg-gradient-to-br from-purple-900 via-black to-purple-900 rounded-2xl p-8 shadow-2xl border border-purple-500/20",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(Mt,{className:"float text-purple-400",size:32}),o.jsx("h1",{className:"text-3xl font-bold text-white",children:"Explore Skills & Learn"})]}),o.jsx("p",{className:"text-purple-200 mb-6",children:"Master programming languages with comprehensive learning modules"}),o.jsxs("div",{className:"relative mb-4",children:[o.jsx(Ta,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-purple-400",size:20}),o.jsx("input",{type:"text",placeholder:"Search courses...",value:t,onChange:m=>e(m.target.value),className:"w-full pl-12 pr-4 py-4 bg-black/40 backdrop-blur-md border border-purple-500/30 rounded-xl text-white placeholder-purple-300/50 focus:outline-none focus:ring-2 focus:ring-purple-500 smooth-transition"})]}),o.jsxs("div",{className:"flex items-center gap-3 overflow-x-auto pb-2",children:[o.jsx(Wh,{size:18,className:"text-purple-400 flex-shrink-0"}),d.map(m=>o.jsxs("button",{onClick:()=>n(m.id),className:`px-4 py-2 rounded-lg font-medium whitespace-nowrap smooth-transition ${r===m.id?"bg-purple-600 text-white shadow-lg shadow-purple-500/50":"bg-white/5 text-purple-200 hover:bg-white/10 border border-purple-500/20"}`,children:[m.name," (",m.count,")"]},m.id))]})]}),o.jsxs("div",{className:"text-sm text-purple-300",children:["Found ",o.jsx("span",{className:"font-semibold text-white",children:v.length})," courses"]}),v.length===0?o.jsxs("div",{className:"bg-black/40 border border-purple-500/20 rounded-2xl p-12 text-center backdrop-blur-sm",children:[o.jsx(Mt,{size:64,className:"mx-auto mb-4 text-purple-500/50"}),o.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No courses found"}),o.jsx("p",{className:"text-purple-300",children:"Try adjusting your search"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map((m,_)=>o.jsxs("div",{className:"bg-black/40 backdrop-blur-sm rounded-2xl border border-purple-500/20 overflow-hidden card-hover cursor-pointer scale-in",style:{animationDelay:`${_*.03}s`},onClick:()=>{i(m),a("overview")},children:[o.jsxs("div",{className:"h-32 bg-gradient-to-br from-purple-600 to-purple-900 flex items-center justify-center relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 shimmer"}),o.jsx(El,{size:48,className:"text-white/80 float"})]}),o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:m.title}),o.jsx("p",{className:"text-sm text-purple-200 mb-4 line-clamp-2",children:m.description}),o.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[o.jsx("span",{className:`px-3 py-1 rounded-lg text-xs font-medium border ${f(m.level)}`,children:m.level}),o.jsxs("span",{className:"px-3 py-1 bg-purple-500/20 text-purple-200 rounded-lg text-xs font-medium border border-purple-500/30 flex items-center gap-1",children:[o.jsx(Me,{size:12}),m.lessons," lessons"]})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-purple-300",children:m.duration}),o.jsx(fi,{className:"text-purple-400",size:20})]})]})]},m.id))}),s&&o.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 z-50 fade-in",children:o.jsxs("div",{className:"bg-gradient-to-br from-black via-purple-950/50 to-black border border-purple-500/30 rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto scale-in",children:[o.jsxs("div",{className:"h-32 bg-gradient-to-br from-purple-600 to-purple-900 relative flex items-center justify-center",children:[o.jsx(El,{size:64,className:"text-white/80 float"}),o.jsx("button",{onClick:()=>i(null),className:"absolute top-4 right-4 p-2 bg-black/40 backdrop-blur-md rounded-lg hover:bg-black/60 smooth-transition border border-purple-500/30",children:o.jsx(it,{size:20,className:"text-white"})})]}),o.jsxs("div",{className:"p-8",children:[o.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:s.title}),o.jsx("p",{className:"text-purple-200 mb-6",children:s.description}),o.jsxs("div",{className:"flex gap-2 mb-6 border-b border-purple-500/20",children:[o.jsx("button",{onClick:()=>a("overview"),className:`px-4 py-2 font-medium smooth-transition ${l==="overview"?"text-purple-400 border-b-2 border-purple-400":"text-purple-300 hover:text-purple-200"}`,children:"Overview"}),o.jsx("button",{onClick:()=>a("materials"),className:`px-4 py-2 font-medium smooth-transition ${l==="materials"?"text-purple-400 border-b-2 border-purple-400":"text-purple-300 hover:text-purple-200"}`,children:"Study Materials"})]}),l==="overview"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[o.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-xl p-4",children:[o.jsx("div",{className:"text-purple-400 text-sm mb-1",children:"Level"}),o.jsx("div",{className:"text-white font-semibold",children:s.level})]}),o.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-xl p-4",children:[o.jsx("div",{className:"text-purple-400 text-sm mb-1",children:"Duration"}),o.jsx("div",{className:"text-white font-semibold",children:s.duration})]}),o.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-xl p-4",children:[o.jsx("div",{className:"text-purple-400 text-sm mb-1",children:"Lessons"}),o.jsxs("div",{className:"text-white font-semibold",children:[s.lessons," modules"]})]}),o.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-xl p-4",children:[o.jsx("div",{className:"text-purple-400 text-sm mb-1",children:"Certificate"}),o.jsx("div",{className:"text-white font-semibold",children:"Yes"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-sm font-semibold text-purple-400 mb-3",children:"What you'll learn"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsxs("li",{className:"flex items-start gap-2 text-purple-200",children:[o.jsx(Me,{className:"text-green-400 flex-shrink-0 mt-1",size:16}),"Master ",s.title.toLowerCase()," concepts"]}),o.jsxs("li",{className:"flex items-start gap-2 text-purple-200",children:[o.jsx(Me,{className:"text-green-400 flex-shrink-0 mt-1",size:16}),"Build real-world projects"]}),o.jsxs("li",{className:"flex items-start gap-2 text-purple-200",children:[o.jsx(Me,{className:"text-green-400 flex-shrink-0 mt-1",size:16}),"Best practices and industry standards"]}),o.jsxs("li",{className:"flex items-start gap-2 text-purple-200",children:[o.jsx(Me,{className:"text-green-400 flex-shrink-0 mt-1",size:16}),"Hands-on coding exercises"]})]})]})]}),l==="materials"&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center gap-2",children:[o.jsx(cy,{className:"text-purple-400",size:20}),"Video Lectures"]}),o.jsx("div",{className:"space-y-2",children:c(s.id).videos.map((m,_)=>o.jsx("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-xl p-4 hover:bg-purple-500/20 smooth-transition cursor-pointer",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(gi,{className:"text-purple-400",size:18}),o.jsx("span",{className:"text-purple-200",children:m})]}),o.jsxs("span",{className:"text-purple-400 text-sm",children:[Math.floor(Math.random()*20+10)," min"]})]})},_))})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center gap-2",children:[o.jsx(Tn,{className:"text-purple-400",size:20}),"Documents & PDFs"]}),o.jsx("div",{className:"space-y-2",children:c(s.id).documents.map((m,_)=>o.jsx("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-xl p-4 hover:bg-purple-500/20 smooth-transition cursor-pointer",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Gg,{className:"text-purple-400",size:18}),o.jsx("span",{className:"text-purple-200",children:m})]}),o.jsx("span",{className:"text-purple-400 text-sm",children:"PDF"})]})},_))})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center gap-2",children:[o.jsx(Wg,{className:"text-purple-400",size:20}),"Reading Materials"]}),o.jsx("div",{className:"space-y-2",children:c(s.id).articles.map((m,_)=>o.jsx("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-xl p-4 hover:bg-purple-500/20 smooth-transition cursor-pointer",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(fi,{className:"text-purple-400",size:18}),o.jsx("span",{className:"text-purple-200",children:m})]}),o.jsxs("span",{className:"text-purple-400 text-sm",children:[Math.floor(Math.random()*10+5)," min read"]})]})},_))})]})]}),o.jsxs("button",{className:"w-full mt-6 bg-gradient-to-r from-purple-600 to-purple-700 text-white py-3 px-6 rounded-xl font-medium hover:from-purple-500 hover:to-purple-600 smooth-transition shadow-lg shadow-purple-500/30 flex items-center justify-center gap-2",children:[o.jsx(gi,{size:18}),"Start Learning"]})]})]})})]})}function vy(){const{user:t}=Te(),[e,r]=N.useState([]),[n,s]=N.useState(!0),[i,l]=N.useState(!1),[a,c]=N.useState(null),[u,d]=N.useState({name:"",description:"",category:"Technology",skill_level:"intermediate",is_offering:!0,hourly_rate_credits:0}),h=["Technology","Design","Business","Arts & Crafts","Fitness","Language","Music","Cooking","Education","Other"];N.useEffect(()=>{f()},[t]);const f=async()=>{try{const{data:j,error:p}=await L.from("skills").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(p)throw p;r(j||[])}catch(j){console.error("Error:",j)}finally{s(!1)}},v=async j=>{j.preventDefault();try{if(a){const{error:p}=await L.from("skills").update(u).eq("id",a.id);if(p)throw p}else{const{error:p}=await L.from("skills").insert([{...u,user_id:t.id}]);if(p)throw p}l(!1),c(null),d({name:"",description:"",category:"Technology",skill_level:"intermediate",is_offering:!0,hourly_rate_credits:0}),f()}catch(p){console.error("Error:",p)}},m=async j=>{if(confirm("Delete this skill?"))try{const{error:p}=await L.from("skills").delete().eq("id",j);if(p)throw p;f()}catch(p){console.error("Error:",p)}},_=j=>{c(j),d({name:j.name,description:j.description,category:j.category,skill_level:j.skill_level,is_offering:j.is_offering,hourly_rate_credits:j.hourly_rate_credits}),l(!0)};return n?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent"})}):o.jsxs("div",{className:"max-w-5xl mx-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"My Skills"}),o.jsxs("button",{onClick:()=>{l(!0),c(null),d({name:"",description:"",category:"Technology",skill_level:"intermediate",is_offering:!0,hourly_rate_credits:0})},className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 flex items-center gap-2",children:[o.jsx(Qr,{size:20}),"Add Skill"]})]}),e.length===0?o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No skills added yet"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Start by adding your first skill"}),o.jsx("button",{onClick:()=>l(!0),className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-blue-700",children:"Add Skill"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map(j=>o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900",children:j.name}),o.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${j.is_offering?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:j.is_offering?"Offering":"Seeking"})]}),o.jsx("p",{className:"text-sm text-gray-600 mb-3",children:j.description}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:j.category}),o.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:j.skill_level}),j.hourly_rate_credits>0&&o.jsxs("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 text-xs rounded-full",children:[j.hourly_rate_credits," credits/hr"]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>_(j),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",children:o.jsx(qh,{size:18})}),o.jsx("button",{onClick:()=>m(j.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:o.jsx(Pa,{size:18})})]})]})},j.id))}),i&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[o.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:a?"Edit Skill":"Add New Skill"}),o.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(it,{size:24})})]}),o.jsxs("form",{onSubmit:v,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skill Name"}),o.jsx("input",{type:"text",value:u.name,onChange:j=>d({...u,name:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Python Programming",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),o.jsx("textarea",{value:u.description,onChange:j=>d({...u,description:j.target.value}),rows:"3",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),o.jsx("select",{value:u.category,onChange:j=>d({...u,category:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:h.map(j=>o.jsx("option",{value:j,children:j},j))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skill Level"}),o.jsxs("select",{value:u.skill_level,onChange:j=>d({...u,skill_level:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:[o.jsx("option",{value:"beginner",children:"Beginner"}),o.jsx("option",{value:"intermediate",children:"Intermediate"}),o.jsx("option",{value:"expert",children:"Expert"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),o.jsxs("select",{value:u.is_offering,onChange:j=>d({...u,is_offering:j.target.value==="true"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:[o.jsx("option",{value:"true",children:"Offering"}),o.jsx("option",{value:"false",children:"Seeking"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rate (credits/hour)"}),o.jsx("input",{type:"number",min:"0",value:u.hourly_rate_credits,onChange:j=>d({...u,hourly_rate_credits:parseInt(j.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),o.jsxs("button",{type:"submit",className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700",children:[a?"Update":"Add"," Skill"]})]})]})]})})]})}function xy(){return o.jsx("div",{className:"max-w-5xl mx-auto",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Bookings"}),o.jsx("p",{className:"text-gray-600",children:"Your booking sessions will appear here"})]})})}function wy(){const{user:t}=Te(),[e,r]=N.useState([]),[n,s]=N.useState(!0),[i,l]=N.useState(!1),[a,c]=N.useState(null),[u,d]=N.useState({}),[h,f]=N.useState({}),[v,m]=N.useState({title:"",description:"",required_skills:"",estimated_credits:"",location_city:""});N.useEffect(()=>{_()},[]);const _=async()=>{try{const{data:x,error:b}=await L.from("community_projects").select("*, profiles(full_name, location_city)").order("created_at",{ascending:!1});if(b)throw b;r(x||[])}catch(x){console.error("Error fetching projects:",x)}finally{s(!1)}},j=async x=>{x.preventDefault();try{const{error:b}=await L.from("community_projects").insert({creator_id:t.id,title:v.title,description:v.description,required_skills:v.required_skills.split(",").map(k=>k.trim()),estimated_credits:parseInt(v.estimated_credits)||0,location_city:v.location_city,status:"proposed"});if(b)throw b;m({title:"",description:"",required_skills:"",estimated_credits:"",location_city:""}),l(!1),_()}catch(b){console.error("Error creating project:",b),alert("Failed to create project. Please try again.")}},p=async x=>{if(u[x]){c(a===x?null:x);return}f(b=>({...b,[x]:!0}));try{const w=await(await fetch("https://bdfuglaespjkrjibmrzk.supabase.co/functions/v1/ai-skill-matching/match-project",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJkZnVnbGFlc3Bqa3JqaWJtcnprIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEzNjA4OTcsImV4cCI6MjA3NjkzNjg5N30.EDsd3XsJWmqq5cTSCjOy4u4ChdqWzvk6HLJJdL6NIZ0","Content-Type":"application/json"},body:JSON.stringify({project_id:x})})).json();w.success&&(d(S=>({...S,[x]:w.data.matched_skills})),c(x))}catch(b){console.error("Error fetching AI matches:",b)}finally{f(b=>({...b,[x]:!1}))}},g=x=>{switch(x){case"active":return"bg-green-100 text-green-700";case"completed":return"bg-blue-100 text-blue-700";case"proposed":return"bg-yellow-100 text-yellow-700";default:return"bg-gray-100 text-gray-700"}},y=x=>x>=80?"text-green-600":x>=60?"text-blue-600":"text-yellow-600";return n?o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx(Gn,{className:"animate-spin text-blue-600",size:32})}):o.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Community Projects"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Collaborate on meaningful projects with AI-matched volunteers"})]}),o.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:[o.jsx(Qr,{size:20}),"Create Project"]})]}),i&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create New Project"}),o.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(it,{size:20})})]}),o.jsxs("form",{onSubmit:j,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Title"}),o.jsx("input",{type:"text",value:v.title,onChange:x=>m({...v,title:x.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Community Garden Website",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),o.jsx("textarea",{value:v.description,onChange:x=>m({...v,description:x.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:4,placeholder:"Describe your project and its goals...",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Required Skills (comma-separated)"}),o.jsx("input",{type:"text",value:v.required_skills,onChange:x=>m({...v,required_skills:x.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Web Development, Design, Project Management",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estimated Credits"}),o.jsx("input",{type:"number",value:v.estimated_credits,onChange:x=>m({...v,estimated_credits:x.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"100",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location City"}),o.jsx("input",{type:"text",value:v.location_city,onChange:x=>m({...v,location_city:x.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Your city"})]})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Create Project"}),o.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-6 py-3 border border-gray-300 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})]})})}),e.length===0?o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[o.jsx(Dt,{size:64,className:"mx-auto mb-4 text-gray-300"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No projects yet"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Be the first to create a community project!"}),o.jsxs("button",{onClick:()=>l(!0),className:"inline-flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:[o.jsx(Qr,{size:20}),"Create Project"]})]}):o.jsx("div",{className:"space-y-4",children:e.map(x=>{var b;return o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"flex items-start justify-between mb-4",children:o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:x.title}),o.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${g(x.status)}`,children:x.status.charAt(0).toUpperCase()+x.status.slice(1)})]}),o.jsx("p",{className:"text-gray-600 mb-3",children:x.description}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Dt,{size:16}),"by ",(b=x.profiles)==null?void 0:b.full_name]}),x.location_city&&o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Gr,{size:16}),x.location_city]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Me,{size:16}),x.estimated_credits," credits"]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Ui,{size:16}),new Date(x.created_at).toLocaleDateString()]})]})]})}),x.required_skills&&x.required_skills.length>0&&o.jsxs("div",{className:"mb-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Required Skills:"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:x.required_skills.map((k,w)=>o.jsx("span",{className:"px-3 py-1 bg-blue-50 text-blue-700 rounded-full text-sm",children:k},w))})]}),o.jsx("button",{onClick:()=>p(x.id),disabled:h[x.id],className:"flex items-center gap-2 text-blue-600 hover:text-blue-700 font-medium transition-colors",children:h[x.id]?o.jsxs(o.Fragment,{children:[o.jsx(Gn,{className:"animate-spin",size:18}),"Finding matches..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Ur,{size:18}),a===x.id?"Hide":"Find"," AI-Matched Volunteers",a===x.id?o.jsx(Jg,{size:18}):o.jsx(Vg,{size:18})]})})]}),a===x.id&&u[x.id]&&o.jsxs("div",{className:"border-t border-gray-200 bg-gradient-to-br from-blue-50 to-green-50 p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Qn,{className:"text-blue-600",size:20}),o.jsxs("h4",{className:"font-semibold text-gray-900",children:["AI-Matched Volunteers (",u[x.id].length,")"]})]}),u[x.id].length===0?o.jsx("p",{className:"text-gray-600 text-center py-4",children:"No matches found yet. Try adjusting the required skills."}):o.jsx("div",{className:"space-y-3",children:u[x.id].slice(0,5).map((k,w)=>{var S,C,T;return o.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200 hover:border-blue-300 transition-colors",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-green-500 rounded-full flex items-center justify-center text-white font-semibold",children:(C=(S=k.profile)==null?void 0:S.full_name)==null?void 0:C.charAt(0).toUpperCase()}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-semibold text-gray-900",children:(T=k.profile)==null?void 0:T.full_name}),o.jsx("p",{className:"text-sm text-gray-600",children:k.skill.name}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mt-1",children:[o.jsx("span",{className:"capitalize",children:k.skill.skill_level}),k.same_location&&o.jsxs("span",{className:"flex items-center gap-1 text-green-600",children:[o.jsx(Gr,{size:12}),"Same Location"]})]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:`text-xl font-bold ${y(k.match_score)}`,children:[k.match_score,"%"]}),o.jsx("div",{className:"text-xs text-gray-500",children:"Match"})]})]})},w)})})]})]},x.id)})})]})}function by(){const{user:t,profile:e,refreshProfile:r}=Te(),[n,s]=N.useState(""),[i,l]=N.useState(""),[a,c]=N.useState(!1),[u,d]=N.useState({type:"",text:""}),[h,f]=N.useState([]);N.useEffect(()=>{t&&v()},[t]);const v=async()=>{try{const{data:_,error:j}=await L.from("credit_transactions").select(`
          *,
          sender:sender_id(full_name, email),
          recipient:recipient_id(full_name, email)
        `).or(`sender_id.eq.${t.id},recipient_id.eq.${t.id}`).order("created_at",{ascending:!1}).limit(10);if(j)throw j;f(_||[])}catch(_){console.error("Error fetching transactions:",_)}},m=async _=>{_.preventDefault(),d({type:"",text:""}),c(!0);try{const j=parseInt(i);if(!j||j<=0)throw new Error("Please enter a valid amount");if(j>e.credits)throw new Error("Insufficient credits");if(n.toLowerCase()===t.email.toLowerCase())throw new Error("You cannot send credits to yourself");const{data:p,error:g}=await L.rpc("lookup_profile_by_email",{email_address:n.toLowerCase()});if(g)throw g;if(!p)throw new Error("Recipient email not found. Please check the email address.");const y={id:p.profile_id,credits:p.profile_credits},{error:x}=await L.from("profiles").update({credits:e.credits-j}).eq("id",t.id);if(x)throw x;const{error:b}=await L.from("profiles").update({credits:y.credits+j}).eq("id",y.id);if(b)throw b;const{error:k}=await L.from("credit_transactions").insert({sender_id:t.id,recipient_id:y.id,amount:j,transaction_type:"transfer"});if(k)throw k;await L.from("notifications").insert([{user_id:t.id,type:"credit_sent",title:"Credits Sent",message:`You sent ${j} credits to ${n}`,related_user_id:y.id},{user_id:y.id,type:"credit_received",title:"Credits Received",message:`You received ${j} credits from ${e.full_name}`,related_user_id:t.id}]),await r(),await v(),d({type:"success",text:`Successfully sent ${j} credits to ${n}`}),s(""),l("")}catch(j){d({type:"error",text:j.message})}finally{c(!1)}};return o.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-green-600 rounded-xl p-8 text-white",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-blue-100 mb-2",children:"Your Balance"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(pi,{size:40}),o.jsx("p",{className:"text-5xl font-bold",children:(e==null?void 0:e.credits)||0})]}),o.jsx("p",{className:"text-blue-100 text-sm mt-2",children:"Credits available to spend or transfer"})]}),o.jsx("div",{className:"hidden md:block",children:o.jsx("div",{className:"p-4 bg-white bg-opacity-20 rounded-lg",children:o.jsx(Qn,{size:48})})})]})}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:o.jsx(yi,{size:24,className:"text-blue-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Send Credits"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Transfer credits to another user"})]})]}),o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Recipient Email"}),o.jsx("input",{type:"email",value:n,onChange:_=>s(_.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"recipient@example.com",required:!0}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter the email address of a registered user"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount"}),o.jsx("input",{type:"number",value:i,onChange:_=>l(_.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0",min:"1",max:(e==null?void 0:e.credits)||0,required:!0}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Available balance: ",(e==null?void 0:e.credits)||0," credits"]})]}),u.text&&o.jsxs("div",{className:`p-4 rounded-lg flex items-start gap-3 ${u.type==="success"?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"}`,children:[u.type==="success"?o.jsx(Kn,{size:20,className:"flex-shrink-0 mt-0.5"}):o.jsx(nu,{size:20,className:"flex-shrink-0 mt-0.5"}),o.jsx("p",{className:"text-sm",children:u.text})]}),o.jsx("button",{type:"submit",disabled:a||!n||!i,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:a?"Processing...":o.jsxs(o.Fragment,{children:[o.jsx(yi,{size:20}),"Send Credits"]})})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:o.jsx(Kg,{size:24,className:"text-green-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Recent Transactions"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Your credit history"})]})]}),h.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(pi,{size:48,className:"mx-auto mb-3 text-gray-300"}),o.jsx("p",{className:"text-gray-500",children:"No transactions yet"})]}):o.jsx("div",{className:"space-y-3",children:h.map(_=>{const j=_.sender_id===t.id,p=j?_.recipient:_.sender;return o.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:`p-2 rounded-full ${j?"bg-red-100":"bg-green-100"}`,children:j?o.jsx(Vh,{size:20,className:"text-red-600"}):o.jsx(Qn,{size:20,className:"text-green-600"})}),o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium text-gray-900",children:[j?"Sent to":"Received from"," ",(p==null?void 0:p.full_name)||"Unknown"]}),o.jsx("p",{className:"text-xs text-gray-500",children:p==null?void 0:p.email}),o.jsx("p",{className:"text-xs text-gray-400",children:new Date(_.created_at).toLocaleString()})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:`text-lg font-bold ${j?"text-red-600":"text-green-600"}`,children:[j?"-":"+",_.amount]}),o.jsx("p",{className:"text-xs text-gray-500",children:"credits"})]})]},_.id)})})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(nu,{size:20,className:"text-blue-600 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"How Credits Work"}),o.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[o.jsx("li",{children:" Earn 1 credit for every minute of active platform usage"}),o.jsx("li",{children:" Use credits to book sessions with skilled community members"}),o.jsx("li",{children:" Transfer credits to help others in your community"}),o.jsx("li",{children:" Credits are non-refundable once transferred"})]})]})]})})]})}function _y(){var k;const{profile:t,user:e,updateProfile:r,refreshProfile:n}=Te(),[s,i]=N.useState(!1),[l,a]=N.useState(!1),[c,u]=N.useState(!1),[d,h]=N.useState({full_name:"",bio:"",location_city:"",location_country:"",avatar_url:""}),[f,v]=N.useState([]),[m,_]=N.useState(!1),j=["Java","Python","HTML","CSS","JavaScript","React","Node.js","SQL","MongoDB","Docker","Kubernetes","AWS","Machine Learning","Data Science","DevOps"];N.useEffect(()=>{t&&(h({full_name:t.full_name||"",bio:t.bio||"",location_city:t.location_city||"",location_country:t.location_country||"",avatar_url:t.avatar_url||""}),v(t.skills_to_learn||[]))},[t]);const p=async w=>{var C;const S=(C=w.target.files)==null?void 0:C[0];if(S){if(S.size>2*1024*1024){alert("File size must be less than 2MB");return}if(!S.type.startsWith("image/")){alert("Please upload an image file");return}try{u(!0);const T=S.name.split(".").pop(),F=`avatars/${`${e.id}-${Math.random()}.${T}`}`,{error:X}=await L.storage.from("avatars").upload(F,S,{upsert:!0});if(X)throw X;const{data:{publicUrl:ge}}=L.storage.from("avatars").getPublicUrl(F);await r({avatar_url:ge}),h({...d,avatar_url:ge})}catch(T){console.error("Error uploading photo:",T),alert("Error uploading photo. Please try again.")}finally{u(!1)}}},g=async w=>{w.preventDefault(),a(!0);try{await r({...d,skills_to_learn:f}),i(!1),await n()}catch(S){console.error("Error updating profile:",S),alert("Error updating profile. Please try again.")}finally{a(!1)}},y=()=>{h({full_name:t.full_name||"",bio:t.bio||"",location_city:t.location_city||"",location_country:t.location_country||"",avatar_url:t.avatar_url||""}),v(t.skills_to_learn||[]),i(!1)},x=w=>{f.includes(w)||v([...f,w]),_(!1)},b=w=>{v(f.filter(S=>S!==w))};return t?o.jsx("div",{className:"max-w-4xl mx-auto p-6",children:o.jsxs("div",{className:"bg-gradient-to-br from-black via-purple-950/50 to-black rounded-2xl shadow-2xl border border-purple-500/20 overflow-hidden",children:[o.jsx("div",{className:"h-32 bg-gradient-to-r from-purple-600 to-purple-900 relative overflow-hidden",children:o.jsx("div",{className:"absolute inset-0 shimmer"})}),o.jsxs("div",{className:"px-8 pb-8",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-6 -mt-16 mb-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-32 h-32 rounded-full border-4 border-black overflow-hidden bg-gradient-to-br from-purple-500 to-purple-700 flex items-center justify-center shadow-xl",children:d.avatar_url?o.jsx("img",{src:d.avatar_url,alt:d.full_name,className:"w-full h-full object-cover"}):o.jsx("span",{className:"text-white text-4xl font-bold",children:(k=d.full_name)==null?void 0:k.charAt(0).toUpperCase()})}),o.jsxs("label",{className:"absolute bottom-0 right-0 w-10 h-10 bg-purple-600 rounded-full flex items-center justify-center cursor-pointer hover:bg-purple-700 transition-colors shadow-lg",children:[o.jsx(qg,{size:20,className:"text-white"}),o.jsx("input",{type:"file",accept:"image/*",onChange:p,className:"hidden",disabled:c})]}),c&&o.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-full flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-white border-t-transparent"})})]}),o.jsx("div",{className:"flex-1 pt-4",children:o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:t.full_name}),t.bio&&o.jsx("p",{className:"text-purple-200 mb-3",children:t.bio}),o.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-purple-300",children:[t.location_city&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Gr,{size:16}),o.jsxs("span",{children:[t.location_city,t.location_country&&`, ${t.location_country}`]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Ea,{size:16}),o.jsx("span",{children:e.email})]})]})]}),!s&&o.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors shadow-lg shadow-purple-500/30",children:[o.jsx(qh,{size:18}),"Edit Profile"]})]})})]}),s?o.jsxs("form",{onSubmit:g,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-purple-300 mb-2",children:"Full Name"}),o.jsx("input",{type:"text",value:d.full_name,onChange:w=>h({...d,full_name:w.target.value}),className:"w-full px-4 py-2 bg-black/40 border border-purple-500/30 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-purple-300 mb-2",children:"City"}),o.jsx("input",{type:"text",value:d.location_city,onChange:w=>h({...d,location_city:w.target.value}),className:"w-full px-4 py-2 bg-black/40 border border-purple-500/30 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-purple-300 mb-2",children:"Country"}),o.jsx("input",{type:"text",value:d.location_country,onChange:w=>h({...d,location_country:w.target.value}),className:"w-full px-4 py-2 bg-black/40 border border-purple-500/30 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-purple-300 mb-2",children:"Bio"}),o.jsx("textarea",{value:d.bio,onChange:w=>h({...d,bio:w.target.value}),rows:4,className:"w-full px-4 py-2 bg-black/40 border border-purple-500/30 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Tell us about yourself..."})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-purple-300 mb-3 flex items-center gap-2",children:[o.jsx(Mt,{size:18}),"Skills I Want to Learn"]}),o.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[f.map(w=>o.jsxs("div",{className:"px-3 py-1 bg-purple-500/20 text-purple-200 rounded-lg text-sm font-medium border border-purple-500/30 flex items-center gap-2",children:[w,o.jsx("button",{type:"button",onClick:()=>b(w),className:"hover:text-red-400 transition-colors",children:o.jsx(it,{size:14})})]},w)),o.jsxs("button",{type:"button",onClick:()=>_(!m),className:"px-3 py-1 bg-purple-600 text-white rounded-lg text-sm font-medium hover:bg-purple-700 transition-colors flex items-center gap-1",children:[o.jsx(Qr,{size:14}),"Add Skill"]})]}),m&&o.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-xl p-4",children:[o.jsx("p",{className:"text-sm text-purple-300 mb-2",children:"Select skills you want to learn:"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:j.filter(w=>!f.includes(w)).map(w=>o.jsx("button",{type:"button",onClick:()=>x(w),className:"px-3 py-1 bg-purple-500/20 text-purple-200 rounded-lg text-sm font-medium border border-purple-500/30 hover:bg-purple-500/30 transition-colors",children:w},w))})]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{type:"submit",disabled:l,className:"flex items-center gap-2 px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50 shadow-lg shadow-purple-500/30",children:[o.jsx(Kn,{size:18}),l?"Saving...":"Save Changes"]}),o.jsxs("button",{type:"button",onClick:y,disabled:l,className:"flex items-center gap-2 px-6 py-2 bg-white/5 text-purple-200 rounded-lg hover:bg-white/10 transition-colors disabled:opacity-50 border border-purple-500/20",children:[o.jsx(it,{size:18}),"Cancel"]})]})]}):o.jsxs("div",{className:"space-y-6",children:[f&&f.length>0&&o.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-xl p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center gap-2",children:[o.jsx(Mt,{size:20,className:"text-purple-400"}),"Skills I Want to Learn"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(w=>o.jsx("span",{className:"px-4 py-2 bg-purple-500/20 text-purple-200 rounded-lg font-medium border border-purple-500/30",children:w},w))}),o.jsx("p",{className:"text-sm text-purple-300 mt-3",children:"Check out AI Recommendations for personalized course suggestions!"})]}),o.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-xl p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Credits"}),o.jsx("p",{className:"text-3xl font-bold text-purple-400",children:t.credits||0}),o.jsx("p",{className:"text-sm text-purple-300 mt-1",children:"Available credits for skill exchanges"})]})]})]})]})}):o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-purple-600 border-t-transparent"})})}function jy(){const{user:t}=Te(),[e,r]=N.useState([]),[n,s]=N.useState(!0),[i,l]=N.useState("all");N.useEffect(()=>{t&&a()},[t]);const a=async()=>{try{const{data:m,error:_}=await L.from("notifications").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(_)throw _;r(m||[])}catch(m){console.error("Error fetching notifications:",m)}finally{s(!1)}},c=async m=>{try{const{error:_}=await L.from("notifications").update({is_read:!0}).eq("id",m);if(_)throw _;a()}catch(_){console.error("Error marking notification as read:",_)}},u=async()=>{try{const{error:m}=await L.from("notifications").update({is_read:!0}).eq("user_id",t.id).eq("is_read",!1);if(m)throw m;a()}catch(m){console.error("Error marking all as read:",m)}},d=async m=>{try{const{error:_}=await L.from("notifications").delete().eq("id",m);if(_)throw _;a()}catch(_){console.error("Error deleting notification:",_)}},h=m=>{switch(m){case"credit_received":return o.jsx(Qn,{size:24,className:"text-green-600"});case"credit_sent":return o.jsx(Vh,{size:24,className:"text-blue-600"});case"message":return o.jsx(mi,{size:24,className:"text-blue-600"});case"booking":return o.jsx(Ui,{size:24,className:"text-purple-600"});default:return o.jsx(Cl,{size:24,className:"text-gray-600"})}},f=e.filter(m=>i==="unread"?!m.is_read:!0),v=e.filter(m=>!m.is_read).length;return n?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent"})}):o.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Notifications"}),v>0&&o.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["You have ",v," unread notification",v!==1?"s":""]})]}),v>0&&o.jsxs("button",{onClick:u,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[o.jsx(Kn,{size:18}),"Mark All Read"]})]}),o.jsxs("div",{className:"flex gap-2 mb-6",children:[o.jsx("button",{onClick:()=>l("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${i==="all"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All"}),o.jsxs("button",{onClick:()=>l("unread"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${i==="unread"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Unread ",v>0&&`(${v})`]})]}),f.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Cl,{size:64,className:"mx-auto mb-4 text-gray-300"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No notifications"}),o.jsx("p",{className:"text-gray-600",children:i==="unread"?"You're all caught up!":"You'll see notifications here when you have them"})]}):o.jsx("div",{className:"space-y-3",children:f.map(m=>o.jsx("div",{className:`p-4 rounded-lg border transition-all ${m.is_read?"border-gray-200 bg-white":"border-blue-200 bg-blue-50"}`,children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:`p-3 rounded-full ${m.is_read?"bg-gray-100":"bg-white"}`,children:h(m.type)}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-semibold text-gray-900",children:m.title}),o.jsx("p",{className:"text-sm text-gray-700 mt-1",children:m.message}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:new Date(m.created_at).toLocaleString()})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[!m.is_read&&o.jsx("button",{onClick:()=>c(m.id),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-lg transition-colors",title:"Mark as read",children:o.jsx(Kn,{size:18})}),o.jsx("button",{onClick:()=>d(m.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:o.jsx(Pa,{size:18})})]})]})})]})},m.id))})]})})}function ky(){var b;const{user:t}=Te(),[e,r]=N.useState([]),[n,s]=N.useState(null),[i,l]=N.useState([]),[a,c]=N.useState(""),[u,d]=N.useState(!1),[h,f]=N.useState(""),[v,m]=N.useState(!0),_=N.useRef(null);N.useEffect(()=>{p()},[t]),N.useEffect(()=>{n&&g(n.other_user_id)},[n]),N.useEffect(()=>{j()},[i]);const j=()=>{var k;(k=_.current)==null||k.scrollIntoView({behavior:"smooth"})},p=async()=>{try{const{data:k,error:w}=await L.from("messages").select("*, sender:sender_id(full_name), recipient:recipient_id(full_name)").or(`sender_id.eq.${t.id},recipient_id.eq.${t.id}`).order("created_at",{ascending:!1});if(w)throw w;const S=new Map;k==null||k.forEach(C=>{var F,X;const T=C.sender_id===t.id?C.recipient_id:C.sender_id,B=C.sender_id===t.id?(F=C.recipient)==null?void 0:F.full_name:(X=C.sender)==null?void 0:X.full_name;S.has(T)||S.set(T,{other_user_id:T,other_user_name:B,last_message:C.content,last_message_time:C.created_at,unread_count:0}),C.recipient_id===t.id&&!C.is_read&&S.get(T).unread_count++}),r(Array.from(S.values()))}catch(k){console.error("Error fetching conversations:",k)}finally{m(!1)}},g=async k=>{try{const{data:w,error:S}=await L.from("messages").select("*, sender:sender_id(full_name), recipient:recipient_id(full_name)").or(`and(sender_id.eq.${t.id},recipient_id.eq.${k}),and(sender_id.eq.${k},recipient_id.eq.${t.id})`).order("created_at",{ascending:!0});if(S)throw S;l(w||[]);const C=w==null?void 0:w.filter(T=>T.recipient_id===t.id&&!T.is_read);C&&C.length>0&&(await L.from("messages").update({is_read:!0}).in("id",C.map(T=>T.id)),p())}catch(w){console.error("Error fetching messages:",w)}},y=async k=>{if(k.preventDefault(),!(!a.trim()||!n))try{const{error:w}=await L.from("messages").insert({sender_id:t.id,recipient_id:n.other_user_id,content:a.trim()});if(w)throw w;c(""),g(n.other_user_id),p()}catch(w){console.error("Error sending message:",w)}},x=async k=>{if(k.preventDefault(),!!h.trim())try{const{data:w,error:S}=await L.rpc("lookup_profile_by_email",{email_address:h.toLowerCase()});if(S)throw S;if(!w){alert("User not found. Please check the email address.");return}if(w.profile_id===t.id){alert("You cannot send messages to yourself.");return}const C=e.find(T=>T.other_user_id===w.profile_id);if(C)s(C);else{const{data:T}=await L.from("profiles").select("full_name").eq("id",w.profile_id).single();s({other_user_id:w.profile_id,other_user_name:(T==null?void 0:T.full_name)||"Unknown",last_message:"",last_message_time:new Date().toISOString(),unread_count:0})}d(!1),f("")}catch(w){console.error("Error starting chat:",w),alert("Failed to start chat. Please try again.")}};return v?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent"})}):o.jsx("div",{className:"max-w-6xl mx-auto h-[calc(100vh-8rem)]",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 h-full flex overflow-hidden",children:[o.jsxs("div",{className:"w-full md:w-1/3 border-r border-gray-200 flex flex-col",children:[o.jsx("div",{className:"p-4 border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"My Connections"}),o.jsx("button",{onClick:()=>d(!0),className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",title:"New chat",children:o.jsx(Qr,{size:20})})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:e.length===0?o.jsxs("div",{className:"p-8 text-center",children:[o.jsx(mi,{size:48,className:"mx-auto mb-3 text-gray-300"}),o.jsx("p",{className:"text-gray-500 text-sm",children:"No conversations yet"})]}):e.map(k=>{var w;return o.jsx("button",{onClick:()=>s(k),className:`w-full p-4 border-b border-gray-200 hover:bg-gray-50 transition-colors text-left ${(n==null?void 0:n.other_user_id)===k.other_user_id?"bg-blue-50":""}`,children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-green-500 rounded-full flex items-center justify-center text-white font-semibold",children:(w=k.other_user_name)==null?void 0:w.charAt(0).toUpperCase()}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"font-semibold text-gray-900 truncate",children:k.other_user_name}),k.unread_count>0&&o.jsx("span",{className:"ml-2 px-2 py-1 bg-blue-600 text-white text-xs font-bold rounded-full",children:k.unread_count})]}),o.jsx("p",{className:"text-sm text-gray-600 truncate",children:k.last_message}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(k.last_message_time).toLocaleString()})]})]})},k.other_user_id)})})]}),o.jsx("div",{className:"flex-1 flex flex-col",children:u?o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Start New Chat"}),o.jsx("button",{onClick:()=>d(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(it,{size:20})})]}),o.jsxs("form",{onSubmit:x,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Recipient Email"}),o.jsx("input",{type:"email",value:h,onChange:k=>f(k.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"user@example.com",required:!0})]}),o.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Start Chat"})]})]}):n?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-green-500 rounded-full flex items-center justify-center text-white font-semibold",children:(b=n.other_user_name)==null?void 0:b.charAt(0).toUpperCase()}),o.jsx("div",{children:o.jsx("p",{className:"font-semibold text-gray-900",children:n.other_user_name})})]})}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[i.map(k=>{const w=k.sender_id===t.id;return o.jsx("div",{className:`flex ${w?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-3 rounded-lg ${w?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:[o.jsx("p",{className:"whitespace-pre-wrap break-words",children:k.content}),o.jsx("p",{className:`text-xs mt-1 ${w?"text-blue-100":"text-gray-500"}`,children:new Date(k.created_at).toLocaleTimeString()})]})},k.id)}),o.jsx("div",{ref:_})]}),o.jsx("form",{onSubmit:y,className:"p-4 border-t border-gray-200",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",value:a,onChange:k=>c(k.target.value),placeholder:"Type a message...",className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),o.jsx("button",{type:"submit",disabled:!a.trim(),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(yi,{size:20})})]})})]}):o.jsx("div",{className:"flex-1 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(mi,{size:64,className:"mx-auto mb-4 text-gray-300"}),o.jsx("p",{className:"text-gray-500",children:"Select a conversation to start messaging"})]})})})]})})}const iu={en:{appName:"TalentHub",tagline:"Connect, Share, Grow Together",signIn:"Sign In",signUp:"Create Account",signOut:"Sign Out",email:"Email",password:"Password",fullName:"Full Name",loading:"Loading TalentHub...",explore:"Explore Skills",mySkills:"My Skills",bookings:"Bookings",community:"Community",credits:"Credits",profile:"Profile",settings:"Settings",searchSkills:"Search skills or people...",filters:"Filters",category:"Category",all:"All",offering:"Offering",seeking:"Seeking",bookSession:"Book Session",offerHelp:"Offer Help",noSkillsFound:"No skills found",tryAdjusting:"Try adjusting your filters or search term",addSkill:"Add Skill",editSkill:"Edit Skill",deleteSkill:"Delete Skill",skillName:"Skill Name",description:"Description",skillLevel:"Skill Level",beginner:"Beginner",intermediate:"Intermediate",expert:"Expert",yourBalance:"Your Balance",donate:"Donate",makeBooking:"Book Session",dateTime:"Date & Time",duration:"Duration",locationType:"Location Type",online:"Online",locationDetails:"Location Details",notes:"Notes",totalCost:"Total Cost",sendRequest:"Send Booking Request",accept:"Accept",decline:"Decline",cancel:"Cancel",markCompleted:"Mark as Completed",leaveReview:"Leave Review",createProject:"Create Project",joinProject:"Join Project",leaveProject:"Leave Project",saveChanges:"Save Changes",accessibility:"Accessibility",highContrast:"High Contrast Mode",voiceNavigation:"Voice Navigation",language:"Language",voiceCommands:"Voice Commands Available",sayGoTo:'Say "Go to" followed by: Profile, Skills, Bookings, Community, or Credits',saySearch:'Say "Search" followed by what you want to find',sayHelp:'Say "Help" for voice command instructions'},hi:{appName:"TalentHub",tagline:",  ,  ",signIn:"  ",signUp:" ",signOut:"  ",email:"",password:"",fullName:" ",loading:"TalentHub    ...",explore:" ",mySkills:" ",bookings:"",community:"",credits:"",profile:"",settings:"",searchSkills:"    ...",filters:"",category:"",all:"",offering:" ",seeking:"  ",bookSession:"  ",offerHelp:"   ",noSkillsFound:"   ",tryAdjusting:"         ",addSkill:" ",editSkill:"  ",deleteSkill:" ",skillName:"  ",description:"",skillLevel:" ",beginner:"",intermediate:"",expert:"",yourBalance:"  ",donate:" ",makeBooking:"  ",dateTime:"  ",duration:"",locationType:" ",online:"",locationDetails:" ",notes:"",totalCost:" ",sendRequest:"  ",accept:" ",decline:" ",cancel:" ",markCompleted:"     ",leaveReview:" ",createProject:" ",joinProject:"   ",leaveProject:" ",saveChanges:" ",accessibility:"",highContrast:"  ",voiceNavigation:" ",language:"",voiceCommands:"   ",sayGoTo:'""   : , , , ,  ',saySearch:'""        ',sayHelp:'     "" '},or:{appName:"TalentHub",tagline:" ,  ,  ",signIn:"  ",signUp:"  ",signOut:"  ",email:"",password:"",fullName:" ",loading:"TalentHub  ...",explore:"  ",mySkills:" ",bookings:"",community:"",credits:"",profile:"",settings:"",searchSkills:"   ...",filters:"",category:"",all:"",offering:" ",seeking:"",bookSession:"  ",offerHelp:"  ",noSkillsFound:"   ",tryAdjusting:"        ",addSkill:"  ",editSkill:"  ",deleteSkill:"  ",skillName:" ",description:"",skillLevel:" ",beginner:"",intermediate:"",expert:"",yourBalance:" ",donate:" ",makeBooking:"  ",dateTime:"  ",duration:"",locationType:" ",online:"",locationDetails:" ",notes:"",totalCost:" ",sendRequest:"  ",accept:" ",decline:" ",cancel:" ",markCompleted:"   ",leaveReview:" ",createProject:"  ",joinProject:"  ",leaveProject:" ",saveChanges:"  ",accessibility:"",highContrast:"  ",voiceNavigation:" ",language:"",voiceCommands:"  ",sayGoTo:`""  ': , , , ,  `,saySearch:`""  '    `,sayHelp:'    "" '}},Sy=(t,e)=>iu[t][e]||iu.en[e],Ny=()=>{const{language:t}=Di();return{t:r=>Sy(t,r),language:t}},Cy=()=>{const{voiceEnabled:t,toggleVoice:e,speak:r}=Di(),{t:n}=Ny(),s=()=>{const i=!t;e(),i&&setTimeout(()=>r("Voice navigation enabled"),100)};return o.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:n("accessibility")}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[o.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:t?o.jsx(uy,{size:20,className:"text-green-600"}):o.jsx(dy,{size:20,className:"text-gray-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:n("voiceNavigation")}),o.jsx("p",{className:"text-sm text-gray-600",children:"Navigate using voice commands"})]})]}),o.jsx("button",{onClick:s,className:`relative inline-flex h-8 w-14 items-center rounded-full transition-colors ${t?"bg-green-600":"bg-gray-300"}`,"aria-label":`${t?"Disable":"Enable"} voice navigation`,children:o.jsx("span",{className:`inline-block h-6 w-6 transform rounded-full bg-white transition-transform ${t?"translate-x-7":"translate-x-1"}`})})]}),t&&o.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Zg,{size:20,className:"text-blue-600 mt-1"}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("h3",{className:"font-semibold text-blue-900 mb-2 flex items-center gap-2",children:[o.jsx(ny,{size:16}),n("voiceCommands")]}),o.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[o.jsxs("li",{children:[" ",n("sayGoTo")]}),o.jsxs("li",{children:[" ",n("saySearch")]}),o.jsxs("li",{children:[" ",n("sayHelp")]})]})]})]})})]})]}),o.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 rounded-xl shadow-sm p-6 text-white",children:[o.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Accessibility Features"}),o.jsxs("ul",{className:"text-sm space-y-1 text-blue-50",children:[o.jsx("li",{children:" Screen reader compatible with ARIA labels"}),o.jsx("li",{children:" Keyboard navigation support"}),o.jsx("li",{children:" Focus indicators for all interactive elements"}),o.jsx("li",{children:" Respects reduced motion preferences"}),o.jsx("li",{children:" Semantic HTML structure"})]})]})]})};function Ey(){return o.jsx("div",{className:"max-w-5xl mx-auto",children:o.jsx(Cy,{})})}function Ty(){const{user:t,profile:e}=Te(),[r,n]=N.useState([]),[s,i]=N.useState(!0),[l,a]=N.useState(!1),[c,u]=N.useState({content:"",post_type:"general",attachment_url:""}),[d,h]=N.useState({}),[f,v]=N.useState(!1),[m,_]=N.useState(null);N.useEffect(()=>{j()},[]);const j=async()=>{try{const{data:w,error:S}=await L.from("posts").select(`
          *,
          profiles(full_name, avatar_url, location_city),
          post_reactions(id, user_id, reaction_type),
          post_comments(id, content, created_at, user_id, profiles(full_name))
        `).order("created_at",{ascending:!1});if(S)throw S;n(w||[])}catch(w){console.error("Error fetching posts:",w)}finally{i(!1)}},p=async w=>{const S=w.target.files[0];if(!S)return;const C=S.type;if(!["image/jpeg","image/jpg","application/pdf"].includes(C)){alert("Please upload only JPEG images or PDF files");return}if(S.size>5*1024*1024){alert("File size must be less than 5MB");return}_(S)},g=async()=>{var w,S;if(!m)return null;v(!0);try{const C=m.name.split(".").pop(),T=`${t.id}/${Date.now()}.${C}`,{data:B,error:F}=await L.storage.from("post-attachments").upload(T,m,{cacheControl:"3600",upsert:!1});if(F)throw console.error("Storage error:",F),(w=F.message)!=null&&w.includes("not found")||(S=F.message)!=null&&S.includes("does not exist")?new Error("Storage bucket not configured. Please contact support."):F;const{data:X}=L.storage.from("post-attachments").getPublicUrl(T);return X.publicUrl}catch(C){return console.error("Error uploading file:",C),alert(`Upload failed: ${C.message||"Please try again or post without attachment."}`),null}finally{v(!1)}},y=async w=>{w.preventDefault();try{let S=c.attachment_url;if(m){const T=await g();T&&(S=T)}const{error:C}=await L.from("posts").insert({user_id:t.id,content:c.content,post_type:c.post_type,attachment_url:S||""});if(C)throw C;u({content:"",post_type:"general",attachment_url:""}),_(null),a(!1),j()}catch(S){console.error("Error creating post:",S),alert(`Failed to create post: ${S.message||"Please try again."}`)}},x=async w=>{var S;try{const C=(S=r.find(T=>T.id===w))==null?void 0:S.post_reactions.find(T=>T.user_id===t.id);C?await L.from("post_reactions").delete().eq("id",C.id):await L.from("post_reactions").insert({post_id:w,user_id:t.id,reaction_type:"like"}),j()}catch(C){console.error("Error toggling reaction:",C)}},b=async w=>{const S=d[w];if(!(!S||!S.trim()))try{const{error:C}=await L.from("post_comments").insert({post_id:w,user_id:t.id,content:S.trim()});if(C)throw C;h({...d,[w]:""}),j()}catch(C){console.error("Error adding comment:",C)}},k=async w=>{if(confirm("Are you sure you want to delete this post?"))try{const{error:S}=await L.from("posts").delete().eq("id",w);if(S)throw S;j()}catch(S){console.error("Error deleting post:",S)}};return s?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent"})}):o.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:l?o.jsxs("form",{onSubmit:y,className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Create New Post"}),o.jsx("button",{type:"button",onClick:()=>a(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(it,{size:20})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Post Type"}),o.jsxs("select",{value:c.post_type,onChange:w=>u({...c,post_type:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"general",children:"General"}),o.jsx("option",{value:"qualification",children:"Qualification"}),o.jsx("option",{value:"certificate",children:"Certificate"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content"}),o.jsx("textarea",{value:c.content,onChange:w=>u({...c,content:w.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:4,placeholder:"Share your achievement, qualification, or certificate...",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload File (JPEG or PDF - Max 5MB)"}),o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 hover:border-blue-500 transition-colors",children:[o.jsx("input",{type:"file",accept:".jpg,.jpeg,.pdf",onChange:p,className:"hidden",id:"file-upload"}),o.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer flex flex-col items-center",children:[o.jsx(ly,{size:40,className:"text-gray-400 mb-2"}),o.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Click to upload JPEG or PDF file"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum file size: 5MB"})]}),m&&o.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[m.type==="application/pdf"?o.jsx(Tn,{size:20,className:"text-red-600"}):o.jsx(Xg,{size:20,className:"text-blue-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:m.name})]}),o.jsx("button",{type:"button",onClick:()=>_(null),className:"p-1 hover:bg-blue-100 rounded transition-colors",children:o.jsx(it,{size:16,className:"text-gray-600"})})]})]})]}),o.jsx("div",{className:"text-center text-gray-500 text-sm",children:"OR"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Attachment URL (Optional)"}),o.jsx("input",{type:"url",value:c.attachment_url,onChange:w=>u({...c,attachment_url:w.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://example.com/certificate.jpg",disabled:!!m})]}),o.jsx("button",{type:"submit",disabled:f,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:f?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),"Uploading..."]}):"Post"})]}):o.jsxs("button",{onClick:()=>a(!0),className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[o.jsx(Qr,{size:20}),"Create Post"]})}),r.length===0?o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[o.jsx(Me,{size:64,className:"mx-auto mb-4 text-gray-300"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No posts yet"}),o.jsx("p",{className:"text-gray-600",children:"Be the first to share your achievements!"})]}):r.map(w=>{var B,F,X,ge;const S=w.post_reactions.some(ye=>ye.user_id===t.id),C=w.post_reactions.length,T=w.user_id===t.id;return o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-green-500 rounded-full flex items-center justify-center text-white font-semibold",children:(F=(B=w.profiles)==null?void 0:B.full_name)==null?void 0:F.charAt(0).toUpperCase()}),o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-gray-900",children:(X=w.profiles)==null?void 0:X.full_name}),o.jsx("p",{className:"text-xs text-gray-500",children:new Date(w.created_at).toLocaleString()})]}),T&&o.jsx("button",{onClick:()=>k(w.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete post",children:o.jsx(Pa,{size:18})})]})})]}),w.post_type!=="general"&&o.jsx("div",{className:"mb-3",children:o.jsxs("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${w.post_type==="qualification"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:[o.jsx(Me,{size:12,className:"inline mr-1"}),w.post_type.charAt(0).toUpperCase()+w.post_type.slice(1)]})}),o.jsx("p",{className:"text-gray-900 mb-4 whitespace-pre-wrap",children:w.content}),w.attachment_url&&o.jsx("div",{className:"mb-4",children:w.attachment_url.toLowerCase().endsWith(".pdf")?o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx(Tn,{size:40,className:"text-red-600"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium text-gray-900",children:"PDF Document"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Click to view or download"})]})]}),o.jsxs("a",{href:w.attachment_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[o.jsx(Tn,{size:18}),"View PDF"]})]}):o.jsx("div",{className:"rounded-lg overflow-hidden border border-gray-200",children:o.jsx("img",{src:w.attachment_url,alt:"Post attachment",className:"w-full max-h-96 object-cover",onError:ye=>{ye.target.style.display="none"}})})}),o.jsxs("div",{className:"flex items-center gap-4 py-3 border-y border-gray-200 mb-4",children:[o.jsxs("button",{onClick:()=>x(w.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${S?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"}`,children:[o.jsx(iy,{size:18}),o.jsxs("span",{className:"text-sm font-medium",children:[C," Likes"]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[o.jsx(ry,{size:18}),o.jsxs("span",{className:"text-sm font-medium",children:[w.post_comments.length," Comments"]})]})]}),o.jsxs("div",{className:"space-y-4",children:[w.post_comments.map(ye=>{var dr,hr,P;return o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-400 to-green-400 rounded-full flex items-center justify-center text-white text-sm font-semibold",children:(hr=(dr=ye.profiles)==null?void 0:dr.full_name)==null?void 0:hr.charAt(0).toUpperCase()}),o.jsxs("div",{className:"flex-1 bg-gray-50 rounded-lg p-3",children:[o.jsx("p",{className:"font-medium text-sm text-gray-900",children:(P=ye.profiles)==null?void 0:P.full_name}),o.jsx("p",{className:"text-sm text-gray-700 mt-1",children:ye.content}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(ye.created_at).toLocaleString()})]})]},ye.id)}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-green-500 rounded-full flex items-center justify-center text-white text-sm font-semibold",children:(ge=e==null?void 0:e.full_name)==null?void 0:ge.charAt(0).toUpperCase()}),o.jsxs("div",{className:"flex-1 flex gap-2",children:[o.jsx("input",{type:"text",value:d[w.id]||"",onChange:ye=>h({...d,[w.id]:ye.target.value}),onKeyPress:ye=>{ye.key==="Enter"&&b(w.id)},placeholder:"Write a comment...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),o.jsx("button",{onClick:()=>b(w.id),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:o.jsx(yi,{size:18})})]})]})]})]},w.id)})]})}function Py({onNavigate:t}){const{profile:e}=Te(),[r,n]=N.useState([]),[s,i]=N.useState(!0),l={java:[{id:1,title:"Java Basics",description:"Introduction to Java programming, syntax, and data types",level:"Beginner",duration:"4 hours",lessons:12},{id:2,title:"Object-Oriented Programming",description:"Classes, objects, inheritance, and polymorphism",level:"Beginner",duration:"6 hours",lessons:15},{id:3,title:"Java Collections Framework",description:"Lists, Sets, Maps, and advanced data structures",level:"Intermediate",duration:"5 hours",lessons:10},{id:4,title:"Spring Framework Basics",description:"Introduction to Spring Boot and dependency injection",level:"Intermediate",duration:"10 hours",lessons:20},{id:5,title:"RESTful APIs with Spring",description:"Building REST APIs using Spring Boot",level:"Advanced",duration:"8 hours",lessons:16}],python:[{id:13,title:"Python Fundamentals",description:"Variables, data types, and basic syntax",level:"Beginner",duration:"3 hours",lessons:10},{id:14,title:"Control Flow & Functions",description:"If statements, loops, and function definitions",level:"Beginner",duration:"4 hours",lessons:12},{id:15,title:"Data Structures in Python",description:"Lists, tuples, dictionaries, and sets",level:"Beginner",duration:"5 hours",lessons:13},{id:21,title:"Django Web Framework",description:"Building web applications with Django",level:"Advanced",duration:"12 hours",lessons:24},{id:23,title:"Python for Data Science",description:"Data analysis, visualization, and machine learning basics",level:"Advanced",duration:"10 hours",lessons:20}],html:[{id:25,title:"HTML Basics",description:"Tags, elements, and document structure",level:"Beginner",duration:"2 hours",lessons:8},{id:26,title:"HTML Forms & Input",description:"Creating forms and handling user input",level:"Beginner",duration:"3 hours",lessons:10},{id:27,title:"Semantic HTML5",description:"Modern HTML5 elements and best practices",level:"Beginner",duration:"2 hours",lessons:7},{id:30,title:"HTML Accessibility",description:"ARIA attributes and accessible web design",level:"Intermediate",duration:"3 hours",lessons:8}],css:[{id:33,title:"CSS Basics",description:"Selectors, properties, and styling fundamentals",level:"Beginner",duration:"3 hours",lessons:10},{id:35,title:"CSS Flexbox Layout",description:"Flexible box layout for responsive design",level:"Intermediate",duration:"4 hours",lessons:12},{id:36,title:"CSS Grid Layout",description:"Advanced grid-based page layouts",level:"Intermediate",duration:"5 hours",lessons:14},{id:37,title:"CSS Animations & Transitions",description:"Creating smooth animations and effects",level:"Intermediate",duration:"4 hours",lessons:11},{id:38,title:"Responsive Web Design",description:"Media queries and mobile-first approach",level:"Intermediate",duration:"5 hours",lessons:13}],javascript:[{id:45,title:"JavaScript Fundamentals",description:"Variables, data types, and basic syntax",level:"Beginner",duration:"4 hours",lessons:12},{id:46,title:"DOM Manipulation",description:"Working with the Document Object Model",level:"Beginner",duration:"3 hours",lessons:10},{id:47,title:"Async JavaScript",description:"Promises, async/await, and fetch API",level:"Intermediate",duration:"5 hours",lessons:14},{id:48,title:"ES6+ Features",description:"Modern JavaScript features and syntax",level:"Intermediate",duration:"4 hours",lessons:11}],react:[{id:49,title:"React Basics",description:"Components, props, and state",level:"Beginner",duration:"6 hours",lessons:15},{id:50,title:"React Hooks",description:"useState, useEffect, and custom hooks",level:"Intermediate",duration:"5 hours",lessons:13},{id:51,title:"React Router",description:"Navigation and routing in React apps",level:"Intermediate",duration:"3 hours",lessons:9}]};N.useEffect(()=>{a()},[e]);const a=()=>{i(!0);const h=(e==null?void 0:e.skills_to_learn)||[],f=[];h.forEach(v=>{const m=v.toLowerCase();(l[m]||[]).forEach((j,p)=>{f.push({skill:m,course:j,reason:`Based on your interest in ${v}`,priority:p===0?"high":p===1?"medium":"low",category:m})})}),f.length===0&&["javascript","python"].forEach(m=>{(l[m]||[]).slice(0,2).forEach(j=>{f.push({skill:m,course:j,reason:"Popular course for beginners",priority:"low",category:m})})}),n(f),i(!1)},c=h=>{switch(h){case"high":return"bg-green-500/20 text-green-300 border-green-500/30";case"medium":return"bg-yellow-500/20 text-yellow-300 border-yellow-500/30";default:return"bg-purple-500/20 text-purple-300 border-purple-500/30"}},u=h=>{switch(h){case"Beginner":return"bg-green-500/20 text-green-300 border-green-500/30";case"Intermediate":return"bg-yellow-500/20 text-yellow-300 border-yellow-500/30";case"Advanced":return"bg-red-500/20 text-red-300 border-red-500/30";default:return"bg-purple-500/20 text-purple-300 border-purple-500/30"}},d=()=>{t&&t("explore")};return s?o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx(Gn,{className:"animate-spin text-purple-500",size:32})}):o.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[o.jsxs("div",{className:"bg-gradient-to-br from-purple-900 via-black to-purple-900 rounded-2xl p-8 shadow-2xl border border-purple-500/20",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(Ur,{className:"float text-purple-400",size:32}),o.jsx("h1",{className:"text-3xl font-bold text-white",children:"AI-Powered Recommendations"})]}),o.jsx("p",{className:"text-purple-200 mb-4",children:"Personalized course suggestions based on your learning goals"}),e!=null&&e.skills_to_learn&&e.skills_to_learn.length>0?o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx("span",{className:"text-purple-300 text-sm",children:"Learning:"}),e.skills_to_learn.map(h=>o.jsx("span",{className:"px-3 py-1 bg-purple-500/20 text-purple-200 rounded-lg text-sm font-medium border border-purple-500/30",children:h},h))]}):o.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-xl p-4",children:[o.jsx("p",{className:"text-purple-300 text-sm mb-2",children:"No learning goals set yet. Update your profile to get personalized recommendations!"}),o.jsx("button",{onClick:()=>t&&t("profile"),className:"text-purple-400 hover:text-purple-300 text-sm font-medium underline",children:"Go to Profile"})]})]}),r.length===0?o.jsxs("div",{className:"bg-black/40 border border-purple-500/20 rounded-2xl p-12 text-center backdrop-blur-sm",children:[o.jsx(Ur,{size:64,className:"mx-auto mb-4 text-purple-500/50"}),o.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No recommendations yet"}),o.jsx("p",{className:"text-purple-300 mb-4",children:"Add skills you want to learn in your profile to get personalized course recommendations"}),o.jsx("button",{onClick:()=>t&&t("profile"),className:"px-6 py-3 bg-purple-600 text-white rounded-xl font-medium hover:bg-purple-700 transition-colors shadow-lg shadow-purple-500/30",children:"Update Profile"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"text-sm text-purple-300 flex items-center justify-between",children:[o.jsxs("span",{children:["Found ",o.jsx("span",{className:"font-semibold text-white",children:r.length})," recommended courses"]}),o.jsxs("button",{onClick:d,className:"text-purple-400 hover:text-purple-300 font-medium flex items-center gap-1",children:["Browse All Courses",o.jsx(fi,{size:16})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((h,f)=>o.jsxs("div",{className:"bg-black/40 backdrop-blur-sm rounded-2xl border border-purple-500/20 overflow-hidden card-hover cursor-pointer scale-in",style:{animationDelay:`${f*.03}s`},onClick:d,children:[o.jsxs("div",{className:"h-32 bg-gradient-to-br from-purple-600 to-purple-900 flex items-center justify-center relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 shimmer"}),o.jsx(El,{size:48,className:"text-white/80 float"})]}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-medium border ${c(h.priority)}`,children:h.priority==="high"?"Recommended":h.priority==="medium"?"Popular":"Explore"}),o.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-medium border ${u(h.course.level)}`,children:h.course.level})]}),o.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:h.course.title}),o.jsx("p",{className:"text-sm text-purple-200 mb-4 line-clamp-2",children:h.course.description}),o.jsxs("div",{className:"flex items-center justify-between text-sm mb-4",children:[o.jsx("span",{className:"text-purple-300",children:h.course.duration}),o.jsxs("span",{className:"text-purple-300 flex items-center gap-1",children:[o.jsx(Me,{size:12}),h.course.lessons," lessons"]})]}),o.jsx("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-lg p-3 mb-4",children:o.jsxs("div",{className:"flex items-center gap-2 text-purple-300 text-xs",children:[o.jsx(Ur,{size:14}),o.jsx("span",{children:h.reason})]})}),o.jsxs("button",{className:"w-full bg-gradient-to-r from-purple-600 to-purple-700 text-white py-2 px-4 rounded-lg font-medium hover:from-purple-500 hover:to-purple-600 smooth-transition shadow-lg shadow-purple-500/30 flex items-center justify-center gap-2",children:[o.jsx(gi,{size:16}),"Start Learning"]})]})]},f))}),o.jsxs("div",{className:"bg-gradient-to-br from-purple-900/50 via-black/50 to-purple-900/50 rounded-2xl p-8 border border-purple-500/20 text-center",children:[o.jsx(Mt,{className:"mx-auto mb-4 text-purple-400",size:48}),o.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Want to explore more courses?"}),o.jsxs("p",{className:"text-purple-300 mb-4",children:["Browse our complete catalog of ",Object.values(l).flat().length,"+ courses across multiple technologies"]}),o.jsxs("button",{onClick:d,className:"px-6 py-3 bg-purple-600 text-white rounded-xl font-medium hover:bg-purple-700 transition-colors shadow-lg shadow-purple-500/30 inline-flex items-center gap-2",children:["Explore All Skills",o.jsx(fi,{size:18})]})]})]})]})}function Oy(){const[t,e]=N.useState(null),[r,n]=N.useState(0),s=[{id:1,name:"2048 Puzzle",description:"Combine numbers to reach 2048",category:"Logic",difficulty:"Medium",color:"from-amber-500 to-orange-500"},{id:2,name:"Sliding Puzzle",description:"Arrange tiles in correct order",category:"Spatial",difficulty:"Medium",color:"from-blue-500 to-cyan-500"},{id:3,name:"Crossword Mini",description:"Fill in the crossword grid",category:"Word",difficulty:"Hard",color:"from-green-500 to-emerald-500"},{id:4,name:"Jigsaw Puzzle",description:"Complete the picture puzzle",category:"Visual",difficulty:"Easy",color:"from-purple-500 to-pink-500"},{id:5,name:"Tetris Block",description:"Clear lines by arranging blocks",category:"Spatial",difficulty:"Medium",color:"from-red-500 to-rose-500"},{id:6,name:"Maze Solver",description:"Find the path through the maze",category:"Logic",difficulty:"Medium",color:"from-teal-500 to-cyan-500"},{id:7,name:"Nonogram",description:"Reveal pictures using number clues",category:"Logic",difficulty:"Hard",color:"from-slate-700 to-slate-900"},{id:8,name:"Tower of Hanoi",description:"Move disks to solve the puzzle",category:"Strategy",difficulty:"Medium",color:"from-yellow-500 to-amber-500"},{id:9,name:"Connect Dots",description:"Connect all dots without crossing lines",category:"Logic",difficulty:"Easy",color:"from-lime-500 to-green-500"},{id:10,name:"Word Search",description:"Find hidden words in the grid",category:"Word",difficulty:"Easy",color:"from-indigo-500 to-purple-500"},{id:11,name:"Minesweeper",description:"Flag all mines without triggering them",category:"Logic",difficulty:"Hard",color:"from-gray-600 to-gray-800"},{id:12,name:"Lights Out",description:"Turn off all lights in the grid",category:"Logic",difficulty:"Medium",color:"from-pink-500 to-rose-500"}],i=()=>{const[u,d]=N.useState(()=>_()),[h,f]=N.useState(0),[v,m]=N.useState(!1);function _(){const x=Array(4).fill(null).map(()=>Array(4).fill(0));return j(x),j(x),x}function j(x){const b=[];for(let k=0;k<4;k++)for(let w=0;w<4;w++)x[k][w]===0&&b.push({i:k,j:w});if(b.length>0){const{i:k,j:w}=b[Math.floor(Math.random()*b.length)];x[k][w]=Math.random()<.9?2:4}}const p=x=>{const b=JSON.parse(JSON.stringify(u));let k=!1,w=h;if(x==="left"||x==="right")for(let S=0;S<4;S++){const C=x==="left"?b[S]:b[S].reverse(),{newRow:T,rowScore:B,rowMoved:F}=g(C);x==="right"&&T.reverse(),b[S]=T,w+=B,F&&(k=!0)}else for(let S=0;S<4;S++){const C=b.map(ge=>ge[S]),T=x==="up"?C:C.reverse(),{newRow:B,rowScore:F,rowMoved:X}=g(T);x==="down"&&B.reverse();for(let ge=0;ge<4;ge++)b[ge][S]=B[ge];w+=F,X&&(k=!0)}k&&(j(b),d(b),f(w))};function g(x){const b=x.filter(C=>C!==0),k=[];let w=0,S=!1;for(let C=0;C<b.length;C++)b[C]===b[C+1]?(k.push(b[C]*2),w+=b[C]*2,C++,S=!0):k.push(b[C]);for(;k.length<4;)k.push(0);return JSON.stringify(x)!==JSON.stringify(k)&&(S=!0),{newRow:k,rowScore:w,rowMoved:S}}const y=x=>({0:"bg-slate-200",2:"bg-yellow-100 text-yellow-800",4:"bg-yellow-200 text-yellow-900",8:"bg-orange-300 text-white",16:"bg-orange-400 text-white",32:"bg-orange-500 text-white",64:"bg-red-400 text-white",128:"bg-red-500 text-white",256:"bg-red-600 text-white",512:"bg-yellow-500 text-white",1024:"bg-yellow-600 text-white",2048:"bg-yellow-700 text-white"})[x]||"bg-slate-900 text-white";return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"text-2xl font-bold",children:["Score: ",h]}),o.jsxs("button",{onClick:()=>{d(_()),f(0),m(!1)},className:"flex items-center gap-2 px-4 py-2 bg-slate-200 rounded-lg hover:bg-slate-300 smooth-transition",children:[o.jsx(jo,{size:16}),"New Game"]})]}),o.jsx("div",{className:"inline-block bg-slate-300 p-4 rounded-2xl",children:o.jsx("div",{className:"grid grid-cols-4 gap-3",children:u.map((x,b)=>x.map((k,w)=>o.jsx("div",{className:`w-20 h-20 rounded-xl flex items-center justify-center text-2xl font-bold smooth-transition ${y(k)}`,children:k!==0&&k},`${b}-${w}`)))})}),o.jsxs("div",{className:"grid grid-cols-3 gap-3 max-w-xs mx-auto",children:[o.jsx("div",{}),o.jsx("button",{onClick:()=>p("up"),className:"px-6 py-4 bg-gradient-to-br from-amber-500 to-orange-500 text-white rounded-xl font-bold hover:from-amber-600 hover:to-orange-600 smooth-transition",children:""}),o.jsx("div",{}),o.jsx("button",{onClick:()=>p("left"),className:"px-6 py-4 bg-gradient-to-br from-amber-500 to-orange-500 text-white rounded-xl font-bold hover:from-amber-600 hover:to-orange-600 smooth-transition",children:""}),o.jsx("button",{onClick:()=>p("down"),className:"px-6 py-4 bg-gradient-to-br from-amber-500 to-orange-500 text-white rounded-xl font-bold hover:from-amber-600 hover:to-orange-600 smooth-transition",children:""}),o.jsx("button",{onClick:()=>p("right"),className:"px-6 py-4 bg-gradient-to-br from-amber-500 to-orange-500 text-white rounded-xl font-bold hover:from-amber-600 hover:to-orange-600 smooth-transition",children:""})]})]})},l=()=>{const[u,d]=N.useState(()=>v([...Array(8).keys()].map(j=>j+1).concat(0))),[h,f]=N.useState(0);function v(j){const p=[...j];for(let g=p.length-1;g>0;g--){const y=Math.floor(Math.random()*(g+1));[p[g],p[y]]=[p[y],p[g]]}return p}const m=j=>{const p=u.indexOf(0),g=Math.floor(j/3),y=j%3,x=Math.floor(p/3),b=p%3;if(Math.abs(g-x)===1&&y===b||Math.abs(y-b)===1&&g===x){const k=[...u];[k[j],k[p]]=[k[p],k[j]],d(k),f(h+1)}},_=u.every((j,p)=>j===(p===8?0:p+1));return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"text-lg font-semibold",children:["Moves: ",h]}),o.jsxs("button",{onClick:()=>{d(v([...Array(8).keys()].map(j=>j+1).concat(0))),f(0)},className:"flex items-center gap-2 px-4 py-2 bg-slate-200 rounded-lg hover:bg-slate-300 smooth-transition",children:[o.jsx(jo,{size:16}),"Shuffle"]})]}),o.jsx("div",{className:"inline-block",children:o.jsx("div",{className:"grid grid-cols-3 gap-2 bg-slate-300 p-4 rounded-2xl",children:u.map((j,p)=>o.jsx("button",{onClick:()=>m(p),className:`w-24 h-24 rounded-xl text-2xl font-bold smooth-transition ${j===0?"bg-slate-400 cursor-default":"bg-gradient-to-br from-blue-500 to-cyan-500 text-white hover:from-blue-600 hover:to-cyan-600 cursor-pointer"}`,children:j!==0&&j},p))})}),_&&o.jsxs("div",{className:"text-center p-6 bg-green-100 rounded-xl bounce-in",children:[o.jsx("div",{className:"text-2xl font-bold text-green-800 mb-2",children:" Congratulations!"}),o.jsxs("div",{className:"text-green-700",children:["Solved in ",h," moves!"]})]})]})},a=()=>{const[u,d]=N.useState(()=>_()),[h,f]=N.useState({x:0,y:0}),[v,m]=N.useState(0);function _(){const y=Array(10).fill(null).map(()=>Array(10).fill(1));for(let x=0;x<10;x++)y[x][Math.floor(10/2)]=0;for(let x=0;x<10;x++)y[Math.floor(10/2)][x]=0;for(let x=0;x<15;x++){const b=Math.floor(Math.random()*10),k=Math.floor(Math.random()*10);!(b===0&&k===0)&&!(b===9&&k===9)&&(y[k][b]=0)}return y[0][0]=0,y[9][9]=0,y}const j=(g,y)=>{const x=h.x+g,b=h.y+y;x>=0&&x<u[0].length&&b>=0&&b<u.length&&u[b][x]===0&&(f({x,y:b}),m(v+1))},p=h.x===u[0].length-1&&h.y===u.length-1;return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"text-lg font-semibold",children:["Moves: ",v]}),o.jsxs("button",{onClick:()=>{d(_()),f({x:0,y:0}),m(0)},className:"flex items-center gap-2 px-4 py-2 bg-slate-200 rounded-lg hover:bg-slate-300 smooth-transition",children:[o.jsx(jo,{size:16}),"New Maze"]})]}),o.jsx("div",{className:"inline-block bg-slate-200 p-4 rounded-2xl",children:o.jsx("div",{className:"grid gap-1",style:{gridTemplateColumns:`repeat(${u[0].length}, minmax(0, 1fr))`},children:u.map((g,y)=>g.map((x,b)=>o.jsx("div",{className:`w-8 h-8 rounded ${b===h.x&&y===h.y?"bg-blue-500":b===u[0].length-1&&y===u.length-1?"bg-green-500":x===0?"bg-white":"bg-slate-800"}`},`${b}-${y}`)))})}),o.jsxs("div",{className:"grid grid-cols-3 gap-3 max-w-xs mx-auto",children:[o.jsx("div",{}),o.jsx("button",{onClick:()=>j(0,-1),className:"px-6 py-4 bg-gradient-to-br from-teal-500 to-cyan-500 text-white rounded-xl font-bold hover:from-teal-600 hover:to-cyan-600 smooth-transition",children:""}),o.jsx("div",{}),o.jsx("button",{onClick:()=>j(-1,0),className:"px-6 py-4 bg-gradient-to-br from-teal-500 to-cyan-500 text-white rounded-xl font-bold hover:from-teal-600 hover:to-cyan-600 smooth-transition",children:""}),o.jsx("button",{onClick:()=>j(0,1),className:"px-6 py-4 bg-gradient-to-br from-teal-500 to-cyan-500 text-white rounded-xl font-bold hover:from-teal-600 hover:to-cyan-600 smooth-transition",children:""}),o.jsx("button",{onClick:()=>j(1,0),className:"px-6 py-4 bg-gradient-to-br from-teal-500 to-cyan-500 text-white rounded-xl font-bold hover:from-teal-600 hover:to-cyan-600 smooth-transition",children:""})]}),p&&o.jsxs("div",{className:"text-center p-6 bg-green-100 rounded-xl bounce-in",children:[o.jsx("div",{className:"text-2xl font-bold text-green-800 mb-2",children:" You Win!"}),o.jsxs("div",{className:"text-green-700",children:["Completed in ",v," moves!"]})]})]})},c=()=>{if(!t)return null;switch(t.id){case 1:return o.jsx(i,{});case 2:return o.jsx(l,{});case 6:return o.jsx(a,{});default:return o.jsxs("div",{className:"text-center py-12",children:[o.jsx(br,{size:64,className:"mx-auto mb-4 text-slate-400"}),o.jsx("p",{className:"text-slate-600",children:"This puzzle is coming soon!"})]})}};return t?o.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[o.jsxs("button",{onClick:()=>e(null),className:"flex items-center gap-2 text-slate-600 hover:text-slate-900 smooth-transition",children:[o.jsx(Bg,{size:20}),"Back to Puzzles"]}),o.jsxs("div",{className:`bg-gradient-to-br ${t.color} rounded-2xl p-8 text-white shadow-2xl`,children:[o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx(br,{size:40,className:"float"}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-bold",children:t.name}),o.jsx("p",{className:"text-white/80",children:t.description})]})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("span",{className:"px-3 py-1 bg-white/20 rounded-lg text-sm font-medium",children:t.category}),o.jsx("span",{className:"px-3 py-1 bg-white/20 rounded-lg text-sm font-medium",children:t.difficulty})]})]}),o.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-8",children:c()})]}):o.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[o.jsxs("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 rounded-2xl p-8 text-white shadow-2xl",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx(br,{className:"float",size:48}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-4xl font-bold",children:"Puzzle Games"}),o.jsx("p",{className:"text-slate-300 mt-2",children:"Challenge yourself with classic and modern puzzle games"})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-6 mt-6",children:[o.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-4",children:[o.jsx(oy,{className:"mb-2 text-yellow-400",size:24}),o.jsx("div",{className:"text-2xl font-bold",children:r}),o.jsx("div",{className:"text-sm text-slate-300",children:"Total Score"})]}),o.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-4",children:[o.jsx(br,{className:"mb-2 text-green-400",size:24}),o.jsx("div",{className:"text-2xl font-bold",children:s.length}),o.jsx("div",{className:"text-sm text-slate-300",children:"Puzzles Available"})]}),o.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-4",children:[o.jsx(hy,{className:"mb-2 text-blue-400",size:24}),o.jsx("div",{className:"text-2xl font-bold",children:"New"}),o.jsx("div",{className:"text-sm text-slate-300",children:"More Coming Soon"})]})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((u,d)=>o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden card-hover cursor-pointer scale-in",style:{animationDelay:`${d*.05}s`},onClick:()=>e(u),children:[o.jsx("div",{className:`h-32 bg-gradient-to-br ${u.color} flex items-center justify-center`,children:o.jsx(br,{size:48,className:"text-white float"})}),o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:u.name}),o.jsx("p",{className:"text-slate-600 text-sm mb-4",children:u.description}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx("span",{className:"px-3 py-1 bg-slate-100 text-slate-700 rounded-lg text-xs font-medium",children:u.category}),o.jsx("span",{className:`px-3 py-1 rounded-lg text-xs font-medium ${u.difficulty==="Easy"?"bg-green-100 text-green-700":u.difficulty==="Medium"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:u.difficulty})]}),o.jsx(gi,{size:20,className:"text-slate-400"})]})]})]},u.id))})]})}function Ay({onNavigateToMessages:t}){var x;const{user:e}=Te(),[r,n]=N.useState(""),[s,i]=N.useState([]),[l,a]=N.useState([]),[c,u]=N.useState(!0),[d,h]=N.useState(null),[f,v]=N.useState("all"),[m,_]=N.useState(!1);N.useEffect(()=>{j()},[]),N.useEffect(()=>{p()},[r,s,f]);const j=async()=>{try{const{data:b,error:k}=await L.from("profiles").select(`
          *,
          skills(id, name, category, skill_level, is_offering, description)
        `).order("created_at",{ascending:!1});if(k)throw k;i(b||[]),a(b||[])}catch(b){console.error("Error fetching users:",b)}finally{u(!1)}},p=()=>{let b=s;if(r.trim()){const k=r.toLowerCase();b=b.filter(w=>{var S,C,T,B,F;return((S=w.full_name)==null?void 0:S.toLowerCase().includes(k))||((C=w.bio)==null?void 0:C.toLowerCase().includes(k))||((T=w.location_city)==null?void 0:T.toLowerCase().includes(k))||((B=w.location_state)==null?void 0:B.toLowerCase().includes(k))||((F=w.skills)==null?void 0:F.some(X=>X.name.toLowerCase().includes(k)||X.category.toLowerCase().includes(k)))})}f!=="all"&&(b=b.filter(k=>{var w;return(w=k.skills)==null?void 0:w.some(S=>S.category===f)})),a(b)},g=["all","Technology","Design","Business","Education","Arts","Health","Home Services","Language"],y=async()=>{if(!(!d||!e)){if(d.id===e.id){alert("You cannot message yourself.");return}_(!0);try{const{data:b,error:k}=await L.from("messages").select("id").or(`and(sender_id.eq.${e.id},recipient_id.eq.${d.id}),and(sender_id.eq.${d.id},recipient_id.eq.${e.id})`).limit(1);if(k)throw k;if(!b||b.length===0){const{error:w}=await L.from("messages").insert({sender_id:e.id,recipient_id:d.id,content:`Hi ${d.full_name}! I'd like to connect with you.`});if(w)throw w}h(null),t&&t()}catch(b){console.error("Error connecting:",b),alert("Failed to connect. Please try again.")}finally{_(!1)}}};return c?o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx(Gn,{className:"animate-spin text-gray-900",size:32})}):o.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(Dt,{className:"text-gray-900",size:32}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Find People"})]}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Search and connect with talented individuals in your community"}),o.jsxs("div",{className:"relative mb-4",children:[o.jsx(Ta,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),o.jsx("input",{type:"text",placeholder:"Search by name, skill, location...",value:r,onChange:b=>n(b.target.value),className:"w-full pl-12 pr-4 py-4 bg-white border border-gray-300 rounded-xl text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent transition-all"})]}),o.jsxs("div",{className:"flex items-center gap-3 overflow-x-auto pb-2",children:[o.jsx(Wh,{size:18,className:"text-gray-600 flex-shrink-0"}),g.map(b=>o.jsx("button",{onClick:()=>v(b),className:`px-4 py-2 rounded-lg font-medium whitespace-nowrap transition-all ${f===b?"bg-gray-900 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200 border border-gray-200"}`,children:b==="all"?"All":b},b))]})]}),o.jsx("div",{className:"text-sm text-gray-600 flex items-center justify-between",children:o.jsxs("span",{children:["Found ",o.jsx("span",{className:"font-semibold text-gray-900",children:l.length})," people"]})}),l.length===0?o.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-12 text-center shadow-sm",children:[o.jsx(Dt,{size:64,className:"mx-auto mb-4 text-gray-300"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No users found"}),o.jsx("p",{className:"text-gray-600",children:"Try adjusting your search or filters"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map((b,k)=>{var w,S;return o.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 overflow-hidden hover:shadow-lg transition-all cursor-pointer",onClick:()=>h(b),children:[o.jsx("div",{className:"h-24 bg-gray-900 relative overflow-hidden"}),o.jsxs("div",{className:"p-6 -mt-12",children:[o.jsx("div",{className:"w-20 h-20 bg-gray-900 rounded-full flex items-center justify-center text-white font-bold text-2xl mb-4 shadow-lg border-4 border-white",children:(w=b.full_name)==null?void 0:w.charAt(0).toUpperCase()}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:b.full_name}),o.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-3",children:b.location_city&&o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Gr,{size:14}),b.location_city,b.location_state&&`, ${b.location_state}`]})}),b.bio&&o.jsx("p",{className:"text-sm text-gray-700 mb-4 line-clamp-2",children:b.bio}),b.skills&&b.skills.length>0&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:"Skills:"}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[b.skills.slice(0,3).map(C=>o.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-800 rounded-lg text-xs font-medium border border-gray-200",children:C.name},C.id)),b.skills.length>3&&o.jsxs("span",{className:"px-3 py-1 bg-gray-200 text-gray-900 rounded-lg text-xs font-medium",children:["+",b.skills.length-3," more"]})]})]}),o.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:o.jsxs("span",{className:"text-xs text-gray-600",children:[((S=b.skills)==null?void 0:S.length)||0," skills available"]})})]})]},b.id)})}),d&&o.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsx("div",{className:"h-32 bg-gray-900 relative",children:o.jsx("button",{onClick:()=>h(null),className:"absolute top-4 right-4 p-2 bg-white/90 rounded-lg hover:bg-white transition-colors",children:o.jsx(it,{size:20,className:"text-gray-900"})})}),o.jsxs("div",{className:"p-8 -mt-16",children:[o.jsx("div",{className:"w-28 h-28 bg-gray-900 rounded-full flex items-center justify-center text-white font-bold text-4xl mb-4 shadow-xl border-4 border-white",children:(x=d.full_name)==null?void 0:x.charAt(0).toUpperCase()}),o.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:d.full_name}),d.location_city&&o.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-4",children:[o.jsx(Gr,{size:18}),o.jsxs("span",{children:[d.location_city,d.location_state&&`, ${d.location_state}`]})]}),d.bio&&o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"About"}),o.jsx("p",{className:"text-gray-800",children:d.bio})]}),d.skills&&d.skills.length>0&&o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Skills"}),o.jsx("div",{className:"space-y-3",children:d.skills.map(b=>o.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 bg-gray-50 hover:border-gray-300 transition-colors",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold text-gray-900",children:b.name}),o.jsx("p",{className:"text-sm text-gray-700",children:b.description})]}),o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${b.is_offering?"bg-green-100 text-green-800 border border-green-200":"bg-blue-100 text-blue-800 border border-blue-200"}`,children:b.is_offering?"Offering":"Seeking"})]}),o.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-600",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Me,{size:12}),b.category]}),o.jsx("span",{className:"capitalize",children:b.skill_level})]})]},b.id))})]}),o.jsx("button",{onClick:y,disabled:m,className:"w-full bg-gray-900 text-white py-3 px-6 rounded-xl font-medium hover:bg-gray-800 transition-colors shadow-lg flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:m?o.jsxs(o.Fragment,{children:[o.jsx(Gn,{size:18,className:"animate-spin"}),"Connecting..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Ea,{size:18}),"Connect & Message"]})})]})]})})]})}function Ly(){var d,h;const[t,e]=N.useState("feed"),[r,n]=N.useState(!1),{signOut:s,profile:i}=Te(),{speak:l}=Di();gy(),py(f=>{f==="profile"?e("profile"):f==="myskills"?e("myskills"):f==="bookings"?e("bookings"):f==="projects"?e("projects"):f==="credits"?e("credits"):f==="settings"?e("settings"):f==="explore"&&e("explore")});const a=[{id:"feed",label:"Feed",icon:Yg},{id:"user-search",label:"Find People",icon:ay},{id:"posts",label:"Posts",icon:Tn},{id:"ai-recommendations",label:"AI Recommendations",icon:Ur},{id:"explore",label:"Explore Skills",icon:Ta},{id:"myskills",label:"My Skills",icon:Mt},{id:"bookings",label:"Bookings",icon:Ui},{id:"projects",label:"Projects",icon:Dt},{id:"credits",label:"Credits",icon:pi},{id:"puzzle-games",label:"Puzzle Games",icon:br},{id:"messages",label:"My Connections",icon:mi},{id:"notifications",label:"Notifications",icon:Cl}],c=f=>{e(f),n(!1);const v=a.find(m=>m.id===f);v&&l(`Opening ${v.label}`)},u=()=>{const f=(()=>{switch(t){case"feed":return o.jsx(su,{onNavigate:c});case"user-search":return o.jsx(Ay,{onNavigateToMessages:()=>c("messages")});case"posts":return o.jsx(Ty,{});case"ai-recommendations":return o.jsx(Py,{});case"explore":return o.jsx(yy,{});case"myskills":return o.jsx(vy,{});case"bookings":return o.jsx(xy,{});case"projects":return o.jsx(wy,{});case"credits":return o.jsx(by,{});case"puzzle-games":return o.jsx(Oy,{});case"profile":return o.jsx(_y,{});case"notifications":return o.jsx(jy,{});case"messages":return o.jsx(ky,{});case"settings":return o.jsx(Ey,{});default:return o.jsx(su,{})}})();return o.jsx("div",{className:"fade-in",children:f},t)};return o.jsxs("div",{className:"min-h-screen bg-white flex",children:[r&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>n(!1)}),o.jsx("aside",{className:`fixed lg:sticky top-0 left-0 z-50 h-screen w-64 bg-white border-r border-gray-200 transform transition-transform lg:translate-x-0 ${r?"translate-x-0":"-translate-x-full"}`,children:o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"SkillHub"}),o.jsx("button",{onClick:()=>n(!1),className:"lg:hidden text-gray-600 hover:text-gray-900",children:o.jsx(it,{size:24})})]})}),i&&o.jsx("div",{className:"p-4 border-b border-gray-200",children:o.jsxs("button",{onClick:()=>c("profile"),className:"w-full flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50 transition-colors border border-gray-200",children:[o.jsx("div",{className:"w-12 h-12 bg-gray-900 rounded-full flex items-center justify-center text-white font-semibold text-lg",children:(d=i.full_name)==null?void 0:d.charAt(0).toUpperCase()}),o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("p",{className:"font-semibold text-gray-900",children:i.full_name}),o.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[o.jsx(pi,{size:14}),o.jsxs("span",{children:[i.credits," credits"]})]})]})]})}),o.jsx("nav",{className:"flex-1 p-4 overflow-y-auto",children:a.map(f=>{const v=f.icon;return o.jsxs("button",{onClick:()=>c(f.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg mb-1 transition-all ${t===f.id?"bg-gray-900 text-white font-medium":"text-gray-700 hover:bg-gray-100"}`,children:[o.jsx(v,{size:20}),o.jsx("span",{children:f.label})]},f.id)})}),o.jsxs("div",{className:"p-4 border-t border-gray-200 space-y-2",children:[o.jsxs("button",{onClick:()=>c("settings"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",children:[o.jsx(sy,{size:20}),o.jsx("span",{children:"Settings"})]}),o.jsxs("button",{onClick:s,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-red-600 hover:bg-red-50 transition-colors border border-red-200",children:[o.jsx(ey,{size:20}),o.jsx("span",{children:"Sign Out"})]})]})]})}),o.jsxs("main",{className:"flex-1 min-w-0",children:[o.jsx("header",{className:"sticky top-0 z-30 bg-white border-b border-gray-200 px-4 py-3",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:()=>n(!0),className:"lg:hidden text-gray-600 hover:text-gray-900",children:o.jsx(ty,{size:24})}),o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:((h=a.find(f=>f.id===t))==null?void 0:h.label)||"Feed"})]})}),o.jsx("div",{className:"p-4 lg:p-6",children:u()})]})]})}function Ry(){const{user:t,loading:e}=Te();return e?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"inline-block animate-spin rounded-full h-16 w-16 border-4 border-blue-600 border-t-transparent mb-4"}),o.jsx("p",{className:"text-gray-700 font-medium text-lg",children:"Loading Urban Skill Exchange..."})]})}):t?o.jsx(Ly,{}):o.jsx(fy,{})}function zy(){return o.jsx(Dg,{children:o.jsx(Mg,{children:o.jsx(Ry,{})})})}vh(document.getElementById("root")).render(o.jsx(N.StrictMode,{children:o.jsx(zy,{})}));
